/*! For license information please see main.4223c6dc.js.LICENSE.txt */
!function(){var e={4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),u=n(1804),s=n(9145),c=n(5411),l=n(6789),f=n(4531),h=n(6569),d=n(6261);e.exports=function(e){return new Promise((function(t,n){var p,v=e.data,y=e.headers,m=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete y["Content-Type"];var k=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";y.Authorization="Basic "+btoa(b+":"+w)}var x=u(e.baseURL,e.url);function E(){if(k){var r="getAllResponseHeaders"in k?s(k.getAllResponseHeaders()):null,a={data:m&&"text"!==m&&"json"!==m?k.response:k.responseText,status:k.status,statusText:k.statusText,headers:r,config:e,request:k};i((function(e){t(e),g()}),(function(e){n(e),g()}),a),k=null}}if(k.open(e.method.toUpperCase(),o(x,e.params,e.paramsSerializer),!0),k.timeout=e.timeout,"onloadend"in k?k.onloadend=E:k.onreadystatechange=function(){k&&4===k.readyState&&(0!==k.status||k.responseURL&&0===k.responseURL.indexOf("file:"))&&setTimeout(E)},k.onabort=function(){k&&(n(new f("Request aborted",f.ECONNABORTED,e,k)),k=null)},k.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,k,k)),k=null},k.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,k)),k=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(x))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;S&&(y[e.xsrfHeaderName]=S)}"setRequestHeader"in k&&r.forEach(y,(function(e,t){"undefined"===typeof v&&"content-type"===t.toLowerCase()?delete y[t]:k.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(k.withCredentials=!!e.withCredentials),m&&"json"!==m&&(k.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&k.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&k.upload&&k.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){k&&(n(!e||e&&e.type?new h:e),k.abort(),k=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),v||(v=null);var _=d(x);_&&-1===["http","https","file"].indexOf(_)?n(new f("Unsupported protocol "+_+":",f.ERR_BAD_REQUEST,e)):k.send(v)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var u=function e(t){var n=new a(t),u=i(a.prototype.request,n);return r.extend(u,a.prototype,n),r.extend(u,n),u.create=function(n){return e(o(t,n))},u}(n(1709));u.Axios=a,u.CanceledError=n(6569),u.CancelToken=n(6857),u.isCancel=n(5517),u.VERSION=n(7600).version,u.toFormData=n(1397),u.AxiosError=n(4531),u.Cancel=u.CanceledError,u.all=function(e){return Promise.all(e)},u.spread=n(8089),u.isAxiosError=n(9580),e.exports=u,e.exports.default=u},6857:function(e,t,n){"use strict";var r=n(6569);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6569:function(e,t,n){"use strict";var r=n(4531);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(3589).inherits(i,r,{__CANCEL__:!0}),e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),u=n(777),s=n(1804),c=n(7835),l=c.validators;function f(e){this.defaults=e,this.interceptors={request:new a,response:new a}}f.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=u(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!i){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(s),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var h=t;r.length;){var d=r.shift(),p=r.shift();try{h=d(h)}catch(v){p(v);break}}try{a=o(h)}catch(v){return Promise.reject(v)}for(;s.length;)a=a.then(s.shift(),s.shift());return a},f.prototype.getUri=function(e){e=u(this.defaults,e);var t=s(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(u(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(u(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},4531:function(e,t,n){"use strict";var r=n(3589);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){o[e]={value:e}})),Object.defineProperties(i,o),Object.defineProperty(a,"isAxiosError",{value:!0}),i.from=function(e,t,n,o,u,s){var c=Object.create(a);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,n,o,u),c.name=e.name,s&&Object.assign(c,s),c},e.exports=i},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(1709),u=n(6569);function s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new u}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function u(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function s(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:s};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==s||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(4531);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(1709);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},1709:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(4531),o=n(6789),u=n(1397),s={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:o,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,a=r.isObject(e),o=t&&t["Content-Type"];if((n=r.isFileList(e))||a&&"multipart/form-data"===o){var s=this.env&&this.env.FormData;return u(n?{"files[]":e}:e,s&&new s)}return a||"application/json"===o?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(u){if(o){if("SyntaxError"===u.name)throw a.from(u,a.ERR_BAD_RESPONSE,this,null,this.response);throw u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(3035)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(s)})),e.exports=l},6789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7600:function(e){e.exports={version:"0.27.2"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(i)&&u.push("path="+i),r.isString(a)&&u.push("domain="+a),!0===o&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},3035:function(e){e.exports=null},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},6261:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1397:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(a,o){if(r.isPlainObject(a)||r.isArray(a)){if(-1!==n.indexOf(a))throw Error("Circular reference detected in "+o);n.push(a),r.forEach(a,(function(n,a){if(!r.isUndefined(n)){var u,s=o?o+"."+a:a;if(n&&!o&&"object"===typeof n)if(r.endsWith(a,"{}"))n=JSON.stringify(n);else if(r.endsWith(a,"[]")&&(u=r.toArray(n)))return void u.forEach((function(e){!r.isUndefined(e)&&t.append(s,i(e))}));e(n,s)}})),n.pop()}else t.append(o,i(a))}(e),t}},7835:function(e,t,n){"use strict";var r=n(7600).version,i=n(4531),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,u){if(!1===e)throw new i(a(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,u)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;a-- >0;){var o=r[a],u=t[o];if(u){var s=e[o],c=void 0===s||u(s,o,e);if(!0!==c)throw new i("option "+o+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}},validators:a}},3589:function(e,t,n){"use strict";var r,i=n(4049),a=Object.prototype.toString,o=(r=Object.create(null),function(e){var t=a.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function u(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function s(e){return Array.isArray(e)}function c(e){return"undefined"===typeof e}var l=u("ArrayBuffer");function f(e){return null!==e&&"object"===typeof e}function h(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=u("Date"),p=u("File"),v=u("Blob"),y=u("FileList");function m(e){return"[object Function]"===a.call(e)}var g=u("URLSearchParams");function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var b,w=(b="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:s,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||a.call(e)===t||m(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:f,isPlainObject:h,isUndefined:c,isDate:d,isFile:p,isBlob:v,isFunction:m,isStream:function(e){return f(e)&&m(e.pipe)},isURLSearchParams:g,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:k,merge:function e(){var t={};function n(n,r){h(t[r])&&h(n)?t[r]=e(t[r],n):h(n)?t[r]=e({},n):s(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)k(arguments[r],n);return t},extend:function(e,t,n){return k(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,a,o={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)o[a=r[i]]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:u,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:w,isFileList:y}},8262:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},8101:function(e,t,n){n(1288),e.exports=self.fetch.bind(self)},5102:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof r&&(i=r,r={}),r=r||{},i=i||function(){},o.type=r.type||"text/javascript",o.charset=r.charset||"utf8",o.async=!("async"in r)||!!r.async,o.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,r.attrs),r.text&&(o.text=""+r.text),("onload"in o?t:n)(o,i),o.onload||t(o,i),a.appendChild(o)}},2453:function(e,t,n){"use strict";var r,i,a,o=n(7061).default,u=n(7156).default,s=n(861).default;i=[n(8101)],r=function(e){function t(e){var t=e&&e.message?e.message:e;console.warn("movie-trailer: ".concat(t))}function n(e){if(!e.ok)throw Error(e.statusText);return e}function r(e){return encodeURI("https://www.youtube.com/watch?v="+e)}function i(r,a){var o="https://api.themoviedb.org"+encodeURI("/3/search/movie?api_key="+a.apiKey+"&query="+r+(null===a.year?"":"&year="+a.year)+(null===a.language?"":"&language="+a.language));return e(o,{method:"GET"}).then(n).then((function(e){return e.json()})).then((function(e){if("undefined"!==typeof e.status_message)throw Error(e.status_message);if(0===e.results.length){if(null!==a.year)return i(r,null,a.language);throw Error("No TMDB Movie found with the current search terms, try searching https://www.themoviedb.org/search?query=".concat(encodeURIComponent(r)))}return e.results[0].id})).catch((function(e){return t(e),null}))}function a(i,a){var o="https://api.themoviedb.org"+encodeURI("/3/movie/"+i+"/videos?api_key="+a.apiKey+(null===a.language?"":"&language="+a.language));return e(o,{method:"GET"}).then(n).then((function(e){return e.json()})).then((function(e){if("undefined"!==typeof e.status_message)throw Error("movie-trailer: ".concat(e.status_message));if(0===e.results.length)throw Error("No trailers found for that TMDB ID");var t=e.results;return t=t.map((function(e){return e.key})),a.id||(t=t.map((function(e){return r(e)}))),a.multi?s(new Set(t)):t[0]})).catch((function(e){return t(e),null}))}function c(e,t,n,r){return l.apply(this,arguments)}function l(){return(l=u(o().mark((function e(n,r,u,s){var c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={multi:!1,id:!1,year:null,language:null,apiKey:"9d2bff12ed955c7f1f74b83187f188ae"},r||(r={}),"string"===typeof n||r.tmdbId){e.next=6;break}throw Error("Expected first parameter to be a movie or TMDB ID (string)");case 6:"function"===typeof r?(u=r,r=null):"boolean"===typeof r||"true"===r?c.multi=r:"string"===typeof r||"number"===typeof r?(c.year=r,"function"===typeof s&&("boolean"===typeof u||"string"===typeof u&&"true"===u)&&(c.multi=u,u=s)):"object"===typeof r&&(c=Object.assign(c,r));case 7:if("function"!==typeof u&&(u=null),!c.tmdbId){e.next=12;break}e.t0=c.tmdbId,e.next=15;break;case 12:return e.next=14,i(n,c).catch((function(e){return t(e),null}));case 14:e.t0=e.sent;case 15:if(l=e.t0){e.next=18;break}return e.abrupt("return",null);case 18:if(f=a(l,c)){e.next=21;break}return e.abrupt("return",null);case 21:if(!u){e.next=23;break}return e.abrupt("return",f.then((function(e){return u(null,e)})).catch((function(e){return u(e,null)})));case 23:return e.abrupt("return",f);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c},void 0===(a="function"===typeof r?r.apply(t,i):r)||(e.exports=a)},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function B(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case _:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function _e(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==Ee||null!==Se)&&(Ae(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,Ue=null,je={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,St,_t,It=!1,Tt=[],Ct=null,At=null,Pt=null,Nt=new Map,Ot=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function jt(){It=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==At&&Vt(At)&&(At=null),null!==Pt&&Vt(Pt)&&(Pt=null),Nt.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Pt&&Bt(Pt,e),Nt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function _n(){return Sn}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Pn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Nn),Dn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ie(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Vr(e,0)}function Yn(e){if(K(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function _r(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=_r("animationend"),Tr=_r("animationiteration"),Cr=_r("animationstart"),Ar=_r("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Nr.length;Dr++){var Rr=Nr[Dr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Ir,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Pr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Ir:case Tr:case Cr:s=mn;break;case Ar:s=Pn;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=$n;else if(Wn(u))if(Xn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(m=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&jn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function Si(e){return{current:e}}function _i(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ii(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Pi=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){_i(Ai),_i(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ci.current,Ii(Ci,e),Ii(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,_i(Ai),_i(Ci),Ii(Ci,e)):_i(Ai),Ii(Ai,n)}var Vi=null,Ui=!1,ji=!1;function Bi(e){null===Vi?Vi=[e]:Vi.push(e)}function zi(){if(!ji&&null!==Vi){ji=!0;var e=0,t=kt;try{var n=Vi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ke(Ze,zi),i}finally{kt=t,ji=!1}}return null}var qi=[],Wi=0,Hi=null,Gi=0,Ki=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Wi++]=Gi,qi[Wi++]=Hi,Hi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ma.current;_i(ma),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Pa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=_a(a):(i=Oi(t)?Pi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=_a(a):(a=Oi(t)?Pi:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Ji(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Za),Ii(Za,t)}function io(){_i(Za),_i(eo),_i(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(_i(Za),_i(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function _o(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Vo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return To().memoizedState}function Bo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:_a,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:_a,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Vo,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=As.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:_a,useCallback:$o,useContext:_a,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Xo,useReducer:Ao,useRef:jo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),yo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:_a,useCallback:$o,useContext:_a,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Xo,useReducer:Po,useRef:jo,useState:function(){return Po(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Jo(t,yo.memoizedState,e)},useTransition:function(){return[Po(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=_o(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function _u(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ds,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ds,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ds,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ds,Os),Os|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Oi(n)?Pi:Ci.current;return a=Ni(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=_o(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=_a(c):c=Ni(t,c=Oi(n)?Pi:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Pa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Pa?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Pa||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=_a(s):s=Ni(t,s=Oi(n)?Pi:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Pa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Pa?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Pa||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Pu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Nu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Du,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),(t=Vu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ku(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Oi(t.type)&&Di(),Gu(t),null;case 3:return r=t.stateNode,io(),_i(Ai),_i(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(_i(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(_i(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Xe()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),_i(Ai),_i(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(_i(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,$u=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){Sc(e,e.return,y)}try{ns(5,e,e.return)}catch(y){Sc(e,e.return,y)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Sc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Sc(e,e.return,y)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Sc(e,e.return,y)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(y){Sc(e,e.return,y)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ms(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Sc(r,n,y)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){Sc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Sc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Yu;var c=$u;if(Yu=o,($u=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,Yu=u,$u=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Es,Ss=Math.ceil,_s=b.ReactCurrentDispatcher,Is=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Ps=null,Ns=0,Os=0,Ds=Si(0),Rs=0,Ls=null,Ms=0,Fs=0,Vs=0,Us=null,js=null,Bs=0,zs=1/0,qs=null,Ws=!1,Hs=null,Gs=null,Ks=!1,Qs=null,Ys=0,$s=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ns?Ns&-Ns:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Xs=null,Error(a(185));mt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Rs&&uc(e,Ns)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Xe()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Ns:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Ns:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Ns===t||(qs=null,zs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),_s.current=o,Cs=i,null!==Ps?t=0:(As=null,Ns=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,js,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,js,qs),t);break}wc(e,js,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,js,qs),r);break}wc(e,js,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=js,js=n,null!==t&&oc(t)),e}function oc(e){null===js?js=e:js.push.apply(js,e)}function uc(e,t){for(t&=~Vs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,js,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Xe()+500,Ui&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Os=Ds.current,_i(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),_i(Ai),_i(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:_i(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Ps=e=Dc(e.current,null),Ns=Os=t,Rs=0,Ls=null,Vs=Fs=Ms=0,js=Us=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=Ps;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Is.current=null,null===n||null===n.return){Rs=1,Ls=t,Ps=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ns,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function pc(){var e=_s.current;return _s.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===As||0===(268435455&Ms)&&0===(268435455&Fs)||uc(As,Ns)}function yc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Ns===t||(qs=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Cs=n,_s.current=r,null!==Ps)throw Error(a(261));return As=null,Ns=0,Rs}function mc(){for(;null!==Ps;)kc(Ps)}function gc(){for(;null!==Ps&&!Ye();)kc(Ps)}function kc(e){var t=Es(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?bc(e):Ps=t,Is.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ku(n,t,Os)))return void(Ps=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Ps=n);if(null===e)return Rs=6,void(Ps=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ps=As=null,Ns=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Is.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ys(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Ks&&(Ks=!1,Qs=e,Ys=i),0===(o=e.pendingLanes)&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Hs,Hs=null,e;0!==(1&Ys)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?$s++:($s=0,Xs=e):$s=0,zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt(Ys),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Ys=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function Ec(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ns&n)===n&&(4===Rs||3===Rs&&(130023424&Ns)===Ns&&500>Xe()-Bs?hc(e,0):Vs|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(mt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Ac(e,t){return Ke(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Pc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case _:return(e=Nc(12,n,t,2|i)).elementType=_,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Pu(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ii(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,_u(e,t,n)}return Wu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Pu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Nu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Nu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=_a(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),Eu(e,t,r,i=ya(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),qu(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ha(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return _u(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(zs=Xe()+500,zi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},St=function(){return kt},_t=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,y&&(y=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,_=null,I=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function P(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?E():(S=!1,_=null)}}else S=!1}if("function"===typeof k)E=function(){k(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,O=N.port2;N.port1.onmessage=P,E=function(){O.postMessage(null)}}else E=function(){m(P,0)};function D(e){_=e,S||(S=!0,E())}function R(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(I),I=-1):y=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},3457:function(e){"use strict";var t;t=function(){var e={},t={};return e.on=function(e,n){var r={name:e,handler:n};return t[e]=t[e]||[],t[e].unshift(r),r},e.off=function(e){var n=t[e.name].indexOf(e);-1!==n&&t[e.name].splice(n,1)},e.trigger=function(e,n){var r,i=t[e];if(i)for(r=i.length;r--;)i[r].handler(n)},e},e.exports=t},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},1288:function(e,t,n){"use strict";n.r(t),n.d(t,{DOMException:function(){return I},Headers:function(){return p},Request:function(){return w},Response:function(){return S},fetch:function(){return T}});var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof r&&r,i="URLSearchParams"in r,a="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),u="FormData"in r,s="ArrayBuffer"in r;if(s)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function h(e){return"string"!==typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function v(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function y(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=y(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:u&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=v(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(m)}),this.text=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=y(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=f(e),t=h(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[f(e)]},p.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},p.prototype.set=function(e,t){this.map[f(e)]=h(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},a&&(p.prototype[Symbol.iterator]=p.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function x(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function E(e){var t=new p;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},k.call(w.prototype),k.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];S.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})};var I=r.DOMException;try{new I}catch(C){(I=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),I.prototype.constructor=I}function T(e,t){return new Promise((function(n,i){var a=new w(e,t);if(a.signal&&a.signal.aborted)return i(new I("Aborted","AbortError"));var u=new XMLHttpRequest;function c(){u.abort()}u.onload=function(){var e={status:u.status,statusText:u.statusText,headers:E(u.getAllResponseHeaders()||"")};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;setTimeout((function(){n(new S(t,e))}),0)},u.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},u.onabort=function(){setTimeout((function(){i(new I("Aborted","AbortError"))}),0)},u.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&(o?u.responseType="blob":s&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!t||"object"!==typeof t.headers||t.headers instanceof p?a.headers.forEach((function(e,t){u.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){u.setRequestHeader(e,h(t.headers[e]))})),a.signal&&(a.signal.addEventListener("abort",c),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",c)}),u.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}T.polyfill=!0,r.fetch||(r.fetch=T,r.Headers=p,r.Request=w,r.Response=S)},6364:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(5439),a=(r=i)&&r.__esModule?r:{default:r};t.default={pauseVideo:{acceptableStates:[a.default.ENDED,a.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[a.default.ENDED,a.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[a.default.ENDED,a.default.PLAYING,a.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},1698:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(2788)),i=u(n(5506)),a=u(n(626)),o=u(n(6364));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)("youtube-player"),c={proxyEvents:function(e){var t={},n=function(n){var r="on"+n.slice(0,1).toUpperCase()+n.slice(1);t[r]=function(t){s('event "%s"',r,t),e.trigger(n,t)}},r=!0,i=!1,o=void 0;try{for(var u,c=a.default[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){n(u.value)}}catch(l){i=!0,o=l}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=function(r){t&&o.default[r]?n[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.then((function(e){var t=o.default[r],i=e.getPlayerState(),a=e[r].apply(e,n);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(i)?new Promise((function(n){e.addEventListener("onStateChange",(function r(){var i=e.getPlayerState(),a=void 0;"number"===typeof t.timeout&&(a=setTimeout((function(){e.removeEventListener("onStateChange",r),n()}),t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(i)&&(e.removeEventListener("onStateChange",r),clearTimeout(a),n())}))})).then((function(){return a})):a}))}:n[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.then((function(e){return e[r].apply(e,n)}))}},a=!0,u=!1,s=void 0;try{for(var c,l=i.default[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value;r(f)}}catch(h){u=!0,s=h}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}return n}};t.default=c,e.exports=t.default},5439:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},626:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},5506:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default},6071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=u(n(3457)),a=u(n(1642)),o=u(n(1698));function u(e){return e&&e.__esModule?e:{default:e}}var s=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=(0,i.default)();if(s||(s=(0,a.default)(u)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"===typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=o.default.proxyEvents(u);var c=new Promise((function(n){"object"===("undefined"===typeof e?"undefined":r(e))&&e.playVideo instanceof Function?n(e):s.then((function(r){var i=new r.Player(e,t);return u.on("ready",(function(){n(i)})),null}))})),l=o.default.promisifyPlayer(c,n);return l.on=u.on,l.off=u.off,l},e.exports=t.default},1642:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(5102),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return new Promise((function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var n="http:"===window.location.protocol?"http:":"https:";(0,a.default)(n+"//www.youtube.com/iframe_api",(function(t){t&&e.trigger("error",t)}));var r=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){r&&r(),t(window.YT)}}}))},e.exports=t.default},2788:function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG),e}(t=e.exports=n(3572)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},3572:function(e,t,n){var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,a=i-(r||i);e.diff=a,e.prev=r,e.curr=i,r=i;for(var o=new Array(arguments.length),u=0;u<o.length;u++)o[u]=arguments[u];o[0]=t.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;s++;var i=t.formatters[r];if("function"===typeof i){var a=o[s];n=i.call(e,a),o.splice(s,1),s--}return n})),t.formatArgs.call(e,o);var c=n.log||t.log||console.log.bind(console);c.apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"===typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"===typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(9426),t.names=[],t.skips=[],t.formatters={}},9426:function(e){var t=1e3,n=60*t,r=60*n,i=24*r,a=365.25*i;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,u){u=u||{};var s,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!o)return;var u=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*r;case"minutes":case"minute":case"mins":case"min":case"m":return u*n;case"seconds":case"second":case"secs":case"sec":case"s":return u*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===c&&!1===isNaN(e))return u.long?o(s=e,i,"day")||o(s,r,"hour")||o(s,n,"minute")||o(s,t,"second")||s+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function u(e){t(o,i,a,u,s,"next",e)}function s(e){t(o,i,a,u,s,"throw",e)}u(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}t.wrap=f;var d={};function p(){}function v(){}function y(){}var m={};l(m,u,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(T([])));k&&k!==n&&a.call(k,u)&&(m=k);var b=y.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,u,s){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,u,s)}),(function(e){n("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return n("throw",e,u,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=h(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=y,l(b,"constructor",y),l(y,"constructor",v),v.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),l(b,c,"Generator"),l(b,u,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return gf},SDK_VERSION:function(){return _h},_DEFAULT_ENTRY_NAME:function(){return hh},_addComponent:function(){return yh},_addOrOverwriteComponent:function(){return mh},_apps:function(){return ph},_clearComponents:function(){return wh},_components:function(){return vh},_getProvider:function(){return kh},_registerComponent:function(){return gh},_removeServiceInstance:function(){return bh},deleteApp:function(){return Ah},getApp:function(){return Th},getApps:function(){return Ch},initializeApp:function(){return Ih},onLog:function(){return Oh},registerVersion:function(){return Nh},setLogLevel:function(){return Dh}});var t=n(2791),r=n.t(t,2),i=n(1250),a=n(7248),o=n(327),u=n(4164);var s=function(e){e()},c=function(){return s},l=(0,t.createContext)(null);function f(){return(0,t.useContext)(l)}var h=function(){throw new Error("uSES not initialized!")},d=h,p=function(e,t){return e===t};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=e===l?f:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;var i=n(),a=i.store,o=i.subscription,u=i.getServerState,s=d(o.addNestedSub,a.getState,u||a.getState,e,r);return(0,t.useDebugValue)(s),s}}var y=v();n(2110),n(6900);var m={notify:function(){},get:function(){return[]}};function g(e,t){var n,r=m;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=c(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=m)},getListeners:function(){return r}};return o}var k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var b=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=g(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);k((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||l;return t.createElement(s.Provider,{value:o},i)};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=e===l?f:function(){return(0,t.useContext)(e)};return function(){return n().store}}var x=w();function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e===l?x:w(e);return function(){return t().dispatch}}var S,_=E();function I(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function T(e){return!!e&&!!e[ye]}function C(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===me}(e)||Array.isArray(e)||!!e[ve]||!!e.constructor[ve]||L(e)||M(e))}function A(e,t,n){void 0===n&&(n=!1),0===P(e)?(n?Object.keys:ge)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function P(e){var t=e[ye];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:L(e)?2:M(e)?3:0}function N(e,t){return 2===P(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){return 2===P(e)?e.get(t):e[t]}function D(e,t,n){var r=P(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function R(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function L(e){return fe&&e instanceof Map}function M(e){return he&&e instanceof Set}function F(e){return e.o||e.t}function V(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ke(e);delete t[ye];for(var n=ge(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function U(e,t){return void 0===t&&(t=!1),B(e)||T(e)||!C(e)||(P(e)>1&&(e.set=e.add=e.clear=e.delete=j),Object.freeze(e),t&&A(e,(function(e,t){return U(t,!0)}),!0)),e}function j(){I(2)}function B(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function z(e){var t=be[e];return t||I(18,e),t}function q(e,t){be[e]||(be[e]=t)}function W(){return ce}function H(e,t){t&&(z("Patches"),e.u=[],e.s=[],e.v=t)}function G(e){K(e),e.p.forEach(Y),e.p=null}function K(e){e===ce&&(ce=e.l)}function Q(e){return ce={p:[],l:ce,h:e,m:!0,_:0}}function Y(e){var t=e[ye];0===t.i||1===t.i?t.j():t.O=!0}function $(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||z("ES5").S(t,e,r),r?(n[ye].P&&(G(t),I(4)),C(e)&&(e=X(t,e),t.l||Z(t,e)),t.u&&z("Patches").M(n[ye].t,e,t.u,t.s)):e=X(t,n,[]),G(t),t.u&&t.v(t.u,t.s),e!==pe?e:void 0}function X(e,t,n){if(B(t))return t;var r=t[ye];if(!r)return A(t,(function(i,a){return J(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Z(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=V(r.k):r.o;A(3===r.i?new Set(i):i,(function(t,a){return J(e,r,i,t,a,n)})),Z(e,i,!1),n&&e.u&&z("Patches").R(r,n,e.u,e.s)}return r.o}function J(e,t,n,r,i,a){if(T(i)){var o=X(e,i,a&&t&&3!==t.i&&!N(t.D,r)?a.concat(r):void 0);if(D(n,r,o),!T(o))return;e.m=!1}if(C(i)&&!B(i)){if(!e.h.F&&e._<1)return;X(e,i),t&&t.A.l||Z(e,i)}}function Z(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&U(t,n)}function ee(e,t){var n=e[ye];return(n?F(n):e)[t]}function te(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ne(e){e.P||(e.P=!0,e.l&&ne(e.l))}function re(e){e.o||(e.o=V(e.t))}function ie(e,t,n){var r=L(t)?z("MapSet").N(t,n):M(t)?z("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:W(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=we;n&&(i=[r],a=xe);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):z("ES5").J(t,n);return(n?n.A:W()).p.push(r),r}function ae(e){return T(e)||I(22,e),function e(t){if(!C(t))return t;var n,r=t[ye],i=P(t);if(r){if(!r.P&&(r.i<4||!z("ES5").K(r)))return r.t;r.I=!0,n=oe(t,i),r.I=!1}else n=oe(t,i);return A(n,(function(t,i){r&&O(r.t,t)===i||D(n,t,e(i))})),3===i?new Set(n):n}(e)}function oe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return V(e)}function ue(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ye];return we.get(t,e)},set:function(t){var n=this[ye];we.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ye];if(!i.P)switch(i.i){case 5:r(i)&&ne(i);break;case 4:n(i)&&ne(i)}}}function n(e){for(var t=e.t,n=e.k,r=ge(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==ye){var o=t[a];if(void 0===o&&!N(t,a))return!0;var u=n[a],s=u&&u[ye];if(s?s.t!==o:!R(u,o))return!0}}var c=!!t[ye];return r.length!==ge(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};q("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=ke(n);delete a[ye];for(var o=ge(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:W(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,ye,{value:a,writable:!0}),i},S:function(e,n,i){i?T(n)&&n[ye].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ye];if(n){var i=n.t,a=n.k,o=n.D,u=n.i;if(4===u)A(a,(function(t){t!==ye&&(void 0!==i[t]||N(i,t)?o[t]||e(a[t]):(o[t]=!0,ne(n)))})),A(i,(function(e){void 0!==a[e]||N(a,e)||(o[e]=!1,ne(n))}));else if(5===u){if(r(n)&&(ne(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){d=e}(o.useSyncExternalStoreWithSelector),function(e){e}(a.useSyncExternalStore),S=u.unstable_batchedUpdates,s=S;var se,ce,le="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),fe="undefined"!=typeof Map,he="undefined"!=typeof Set,de="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,pe=le?Symbol.for("immer-nothing"):((se={})["immer-nothing"]=!0,se),ve=le?Symbol.for("immer-draftable"):"__$immer_draftable",ye=le?Symbol.for("immer-state"):"__$immer_state",me=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ge="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ke=Object.getOwnPropertyDescriptors||function(e){var t={};return ge(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},be={},we={get:function(e,t){if(t===ye)return e;var n=F(e);if(!N(n,t))return function(e,t,n){var r,i=te(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!C(r)?r:r===ee(e.t,t)?(re(e),e.o[t]=ie(e.A.h,r,e)):r},has:function(e,t){return t in F(e)},ownKeys:function(e){return Reflect.ownKeys(F(e))},set:function(e,t,n){var r=te(F(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ee(F(e),t),a=null==i?void 0:i[ye];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(R(n,i)&&(void 0!==n||N(e.t,t)))return!0;re(e),ne(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==ee(e.t,t)||t in e.t?(e.D[t]=!1,re(e),ne(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=F(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){I(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){I(12)}},xe={};A(we,(function(e,t){xe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),xe.deleteProperty=function(e,t){return xe.set.call(this,e,t,void 0)},xe.set=function(e,t,n){return we.set.call(this,e[0],t,n,e[0])};var Ee=function(){function e(e){var t=this;this.g=de,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&I(6),void 0!==r&&"function"!=typeof r&&I(7),C(e)){var u=Q(t),s=ie(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?G(u):K(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return H(u,r),$(e,u)}),(function(e){throw G(u),e})):(H(u,r),$(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===pe&&(o=void 0),t.F&&U(o,!0),r){var l=[],f=[];z("Patches").M(e,o,l,f),r(l,f)}return o}I(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){C(e)||I(8),T(e)&&(e=ae(e));var t=Q(this),n=ie(this,e,void 0);return n[ye].C=!0,K(t),n},t.finishDraft=function(e,t){var n=(e&&e[ye]).A;return H(n,t),$(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!de&&I(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=z("Patches").$;return T(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Se=new Ee,_e=Se.produce,Ie=(Se.produceWithPatches.bind(Se),Se.setAutoFreeze.bind(Se),Se.setUseProxies.bind(Se),Se.applyPatches.bind(Se),Se.createDraft.bind(Se),Se.finishDraft.bind(Se),_e);function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ne="function"===typeof Symbol&&Symbol.observable||"@@observable",Oe=function(){return Math.random().toString(36).substring(7).split("").join(".")},De={INIT:"@@redux/INIT"+Oe(),REPLACE:"@@redux/REPLACE"+Oe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Oe()}};function Re(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Le(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Pe(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Pe(1));return n(Le)(e,t)}if("function"!==typeof e)throw new Error(Pe(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(Pe(3));return a}function f(e){if("function"!==typeof e)throw new Error(Pe(4));if(s)throw new Error(Pe(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(Pe(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!Re(e))throw new Error(Pe(7));if("undefined"===typeof e.type)throw new Error(Pe(8));if(s)throw new Error(Pe(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(Pe(10));i=e,h({type:De.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Pe(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Ne]=function(){return this},e}return h({type:De.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[Ne]=p,r}function Me(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:De.INIT}))throw new Error(Pe(12));if("undefined"===typeof n(void 0,{type:De.PROBE_UNKNOWN_ACTION()}))throw new Error(Pe(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Pe(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Pe(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Fe.apply(void 0,a)(n.dispatch),Ae(Ae({},n),{},{dispatch:r})}}}function Ue(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var je=Ue();je.withExtraArgument=Ue;var Be=je,ze=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qe=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},We=Object.defineProperty,He=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Ge=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable,Qe=function(e,t,n){return t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ye=function(e,t){for(var n in t||(t={}))Ge.call(t,n)&&Qe(e,n,t[n]);if(He)for(var r=0,i=He(t);r<i.length;r++){n=i[r];Ke.call(t,n)&&Qe(e,n,t[n])}return e},$e="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Fe:Fe.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Xe(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Je=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return ze(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,qe([void 0],e[0].concat(this)))):new(t.bind.apply(t,qe([void 0],e.concat(this))))},t}(Array);function Ze(e){return C(e)?Ie(e,(function(){})):e}function et(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Je);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Be.withExtraArgument(n.extraArgument)):r.push(Be));0;return r}(e)}}function tt(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ye(Ye({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function nt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}Object.assign;var rt="listenerMiddleware";tt(rt+"/add"),tt(rt+"/removeAll"),tt(rt+"/remove");ue();var it=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Ze(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?nt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=Ye(Ye({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?nt(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return Ze(e())};else{var c=Ze(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=qe([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(T(e))return void 0===(r=n(e,t))?e:r;if(C(e))return Ie(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?tt(c,r):tt(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),at=it.actions,ot=at.login,ut=at.logout,st=function(e){return e.user.user},ct=function(e){var t,n=et(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!Xe(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Me(a)}var p=u;"function"===typeof p&&(p=p(n));var v=Ve.apply(void 0,p),y=Fe;c&&(y=$e(Ye({trace:!1},"object"===typeof c&&c)));var m=[v];return Array.isArray(d)?m=qe([v],d):"function"===typeof d&&(m=d(m)),Le(t,f,y.apply(void 0,m))}({reducer:{user:it.reducer}});function lt(e){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(e)}function ft(){ft=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return _()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==lt(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(m),u(m,o,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function ht(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ht(a,r,i,o,u,"next",e)}function u(e){ht(a,r,i,o,u,"throw",e)}o(void 0)}))}}function pt(e){if(Array.isArray(e))return e}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yt(e,t){if(e){if("string"===typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}function mt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gt(e,t){return pt(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||yt(e,t)||mt()}var kt=n(4569),bt=n.n(kt)().create({baseURL:"https://api.themoviedb.org/3"}),wt="92cd293584bc7d6c960965b34aba9174",xt={fetchTrending:"/trending/all/week?api_key=".concat(wt,"&language=en-US"),fetchNetflixOriginals:"/discover/tv?api_key=".concat(wt,"&with_networks=213"),fetchTopRated:"/movie/top_rated?api_key=".concat(wt,"&language=en-US"),fetchActionMovies:"/discover/movie?api_key=".concat(wt,"&with_genres=28"),fetchComedyMovies:"/discover/movie?api_key=".concat(wt,"&with_genres=35"),fetchHorrorMovies:"/discover/movie?api_key=".concat(wt,"&with_genres=27"),fetchRomanceMovies:"/discover/movie?api_key=".concat(wt,"&with_genres=10749"),fetchDocumentaries:"/discover/movie?api_key=".concat(wt,"&with_genres=99")},Et=n(184);var St,_t=function(){var e,n=gt((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){function e(){return(e=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt.get(xt.fetchNetflixOriginals);case 2:return t=e.sent,console.log(t.data.results[0].backdrop_path),i(t.data.results[Math.floor(Math.random()*t.data.results.length-1)]),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,Et.jsxs)("header",{className:"banner",style:{backgroundSize:"cover",backgroundImage:'url("https://image.tmdb.org/t/p/original/'.concat(null===r||void 0===r?void 0:r.backdrop_path,'")'),backgroundPosition:"center center"},children:[(0,Et.jsxs)("div",{className:"banner__contents",children:[(0,Et.jsxs)("h1",{className:"banner__title",children:[" ",(null===r||void 0===r?void 0:r.name)||(null===r||void 0===r?void 0:r.title)||(null===r||void 0===r?void 0:r.orginal_name)]}),(0,Et.jsxs)("div",{className:"banner__buttons",children:[(0,Et.jsx)("button",{className:"banner__button",children:"Play"}),(0,Et.jsx)("button",{className:"banner__button",children:"My List"})]}),(0,Et.jsx)("h1",{className:"banner__description",children:(e=null===r||void 0===r?void 0:r.overview,(null===e||void 0===e?void 0:e.length)>150?e.substring(0,149)+"...":e)})]}),(0,Et.jsx)("div",{className:"banner--fadeBottom"})]})};function It(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Tt(e){return function(e){if(Array.isArray(e))return vt(e)}(e)||It(e)||yt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e,t,n){return t&&At(e.prototype,t),n&&At(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nt(e,t){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nt(e,t)}function Ot(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nt(e,t)}function Dt(e){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dt(e)}function Rt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e,t){if(t&&("object"===lt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lt(e)}function Ft(e){var t=Rt();return function(){var n,r=Dt(e);if(t){var i=Dt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mt(this,n)}}function Vt(e,t,n){return Vt=Rt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Nt(i,n.prototype),i},Vt.apply(null,arguments)}function Ut(e){var t="function"===typeof Map?new Map:void 0;return Ut=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Vt(e,arguments,Dt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Nt(n,e)},Ut(e)}function jt(){return jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jt.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(St||(St={}));var Bt,zt="popstate";function qt(e){return{usr:e.state,key:e.key}}function Wt(e,t,n,r){return void 0===n&&(n=null),jt({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Gt(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Ht(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function Gt(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Kt(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=St.Pop,f=null;function h(){l=St.Pop,f&&f({action:l,location:d.location})}var d={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(zt,h),f=e,function(){o.removeEventListener(zt,h),f=null}},createHref:function(e){return t(o,e)},push:function(e,t){l=St.Push;var r=Wt(d.location,e,t);n&&n(r,e);var i=qt(r),a=d.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:r})},replace:function(e,t){l=St.Replace;var r=Wt(d.location,e,t);n&&n(r,e);var i=qt(r),a=d.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:r})},go:function(e){return c.go(e)}};return d}function Qt(e,t,n){void 0===n&&(n="/");var r=tn(("string"===typeof t?Gt(t):t).pathname||"/",n);if(null==r)return null;var i=Yt(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Zt(i[o],r);return a}function Yt(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(nn(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=un([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(nn(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),Yt(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:Jt(o,e.index),routesMeta:u})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Bt||(Bt={}));var $t=/^:\w+$/,Xt=function(e){return"*"===e};function Jt(e,t){var n=e.split("/"),r=n.length;return n.some(Xt)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Xt(e)})).reduce((function(e,t){return e+($t.test(t)?3:""===t?1:10)}),r)}function Zt(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=en({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:un([i,l.pathname]),pathnameBase:sn(un([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=un([i,l.pathnameBase]))}return a}function en(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);rn("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=gt(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return rn(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function tn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function nn(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function rn(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function an(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function on(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=Gt(e):(nn(!(i=jt({},e)).pathname||!i.pathname.includes("?"),an("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),an("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),an("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Gt(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:cn(a),hash:ln(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var un=function(e){return e.join("/").replace(/\/\/+/g,"/")},sn=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},cn=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ln=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},fn=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return Pt(n)}(Ut(Error));var hn=Pt((function e(t,n,r){Ct(this,e),this.status=t,this.statusText=n||"",this.data=r}));function dn(e){return e instanceof hn}function pn(){return pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pn.apply(this,arguments)}var vn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},yn=t.useState,mn=t.useEffect,gn=t.useLayoutEffect,kn=t.useDebugValue;function bn(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!vn(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var wn=t.createContext(null);var xn=t.createContext(null);var En=t.createContext(null);var Sn=t.createContext(null);var _n=t.createContext(null);var In=t.createContext(null);var Tn=t.createContext({outlet:null,matches:[]});var Cn=t.createContext(null);function An(){return null!=t.useContext(In)}function Pn(){return An()||nn(!1),t.useContext(In).location}function Nn(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function On(){An()||nn(!1);var e=t.useContext(_n),n=e.basename,r=e.navigator,i=t.useContext(Tn).matches,a=Pn().pathname,o=JSON.stringify(Nn(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=on(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:un([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function Dn(){var e=function(){var e,n=t.useContext(Cn),r=Un(Ln.UseRouteError),i=t.useContext(Tn),a=i.matches[i.matches.length-1];if(n)return n;return i||nn(!1),!a.route.id&&nn(!1),null==(e=r.errors)?void 0:e[a.route.id]}(),n=dn(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var Rn,Ln,Mn=function(e){Ot(r,e);var n=Ft(r);function r(e){var t;return Ct(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return Pt(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Cn.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Fn(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(wn);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(Tn.Provider,{value:n},i)}function Vn(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||nn(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(Dn,null):null,l=function(){return t.createElement(Fn,{match:o,routeContext:{outlet:e,matches:n.concat(i.slice(0,u+1))}},s?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===u)?t.createElement(Mn,{location:r.location,component:c,error:s,children:l()}):l()}),null)}function Un(e){var n=t.useContext(En);return n||nn(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(Rn||(Rn={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ln||(Ln={}));var jn;function Bn(e){nn(!1)}function zn(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?St.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;An()&&nn(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=Gt(o));var p=o,v=p.pathname,y=void 0===v?"/":v,m=p.search,g=void 0===m?"":m,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,E=p.key,S=void 0===E?"default":E,_=t.useMemo((function(){var e=tn(y,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:S}}),[h,y,g,b,x,S]);return null==_?null:t.createElement(_n.Provider,{value:d},t.createElement(In.Provider,{children:a,value:{location:_,navigationType:s}}))}function qn(e){var n=e.children,r=e.location,i=t.useContext(xn);return function(e,n){An()||nn(!1);var r,i=t.useContext(En),a=t.useContext(Tn).matches,o=a[a.length-1],u=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),c=(o&&o.route,Pn());if(n){var l,f="string"===typeof n?Gt(n):n;"/"===s||(null==(l=f.pathname)?void 0:l.startsWith(s))||nn(!1),r=f}else r=c;var h=r.pathname||"/",d=Qt(e,{pathname:"/"===s?h:h.slice(s.length)||"/"}),p=Vn(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:un([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:un([s,e.pathnameBase])})})),a,i||void 0);return n?t.createElement(In.Provider,{value:{location:pn({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:St.Pop}},p):p}(i&&!n?i.router.routes:Hn(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(jn||(jn={}));var Wn=new Promise((function(){}));t.Component;function Hn(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Bn&&nn(!1),e.props.index&&e.props.children&&nn(!1);var a=[].concat(Tt(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Hn(e.props.children,a)),r.push(o)}else r.push.apply(r,Hn(e.props.children,n))})),r}var Gn=(0,t.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),Kn=(0,t.createContext)({});var Qn=(0,t.createContext)(null),Yn="undefined"!==typeof document,$n=Yn?t.useLayoutEffect:t.useEffect,Xn=(0,t.createContext)({strict:!1});function Jn(e,n,r,i){var a=(0,t.useContext)(Kn).visualElement,o=(0,t.useContext)(Xn),u=(0,t.useContext)(Qn),s=(0,t.useContext)(Gn).reducedMotion,c=(0,t.useRef)(void 0);i=i||o.renderer,!c.current&&i&&(c.current=i(e,{visualState:n,parent:a,props:r,presenceId:u?u.id:void 0,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:s}));var l=c.current;return $n((function(){l&&l.syncRender()})),(0,t.useEffect)((function(){l&&l.animationState&&l.animationState.animateChanges()})),$n((function(){return function(){return l&&l.notifyUnmount()}}),[]),l}function Zn(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function er(e){return"string"===typeof e||Array.isArray(e)}function tr(e){return"object"===typeof e&&"function"===typeof e.start}var nr=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function rr(e){return tr(e.animate)||nr.some((function(t){return er(e[t])}))}function ir(e){return Boolean(rr(e)||e.variants)}function ar(e){var n=function(e,t){if(rr(e)){var n=e.initial,r=e.animate;return{initial:!1===n||er(n)?n:void 0,animate:er(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(Kn)),r=n.initial,i=n.animate;return(0,t.useMemo)((function(){return{initial:r,animate:i}}),[or(r),or(i)])}function or(e){return Array.isArray(e)?e.join(" "):e}var ur=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},sr={measureLayout:ur(["layout","layoutId","drag"]),animation:ur(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:ur(["exit"]),drag:ur(["drag","dragControls"]),focus:ur(["whileFocus"]),hover:ur(["whileHover","onHoverStart","onHoverEnd"]),tap:ur(["whileTap","onTap","onTapStart","onTapCancel"]),pan:ur(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:ur(["whileInView","onViewportEnter","onViewportLeave"])};function cr(e){var n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}var lr={hasAnimatedSinceResize:!0,hasEverUpdated:!1},fr=1;var hr=(0,t.createContext)({}),dr=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return Pt(n,[{key:"getSnapshotBeforeUpdate",value:function(){var e=this.props,t=e.visualElement,n=e.props;return t&&t.setProps(n),null}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.children}}]),n}(t.Component),pr=(0,t.createContext)({}),vr=Symbol.for("motionComponentSymbol");function yr(e){var n=e.preloadedFeatures,r=e.createVisualElement,i=e.projectionNodeConstructor,a=e.useRender,o=e.useVisualState,u=e.Component;n&&function(e){for(var t in e)"projectionNodeConstructor"===t?sr.projectionNodeConstructor=e[t]:sr[t].Component=e[t]}(n);var s=(0,t.forwardRef)((function(e,s){var c=Ae(Ae(Ae({},(0,t.useContext)(Gn)),e),{},{layoutId:mr(e)}),l=c.isStatic,f=null,h=ar(e),d=l?void 0:cr((function(){if(lr.hasEverUpdated)return fr++})),p=o(e,l);if(!l&&Yn){h.visualElement=Jn(u,p,c,r);var v=(0,t.useContext)(Xn).strict,y=(0,t.useContext)(pr);h.visualElement&&(f=h.visualElement.loadFeatures(c,v,n,d,i||sr.projectionNodeConstructor,y))}return t.createElement(dr,{visualElement:h.visualElement,props:c},f,t.createElement(Kn.Provider,{value:h},a(u,e,d,function(e,n,r){return(0,t.useCallback)((function(t){t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):Zn(r)&&(r.current=t))}),[n])}(p,h.visualElement,s),p,l,h.visualElement)))}));return s[vr]=u,s}function mr(e){var n=e.layoutId,r=(0,t.useContext)(hr).id;return r&&void 0!==n?r+"-"+n:n}function gr(e){function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return yr(e(t,n))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var kr=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function br(e){return"string"===typeof e&&!e.includes("-")&&!!(kr.indexOf(e)>-1||/[A-Z]/.test(e))}var wr={};var xr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Er=new Set(xr);function Sr(e,t){var n=t.layout,r=t.layoutId;return Er.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!wr[e]||"opacity"===e)}var _r=function(e){return!!(null===e||void 0===e?void 0:e.getVelocity)};function Ir(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=yt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var Tr={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Cr=function(e,t){return xr.indexOf(e)-xr.indexOf(t)};function Ar(e){return e.startsWith("--")}var Pr=function(e,t){return t&&"number"===typeof e?t.transform(e):e},Nr=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},Or=function(e){return e%1?Number(e.toFixed(5)):e},Dr=/(-)?([\d]*\.?[\d])+/g,Rr=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Lr=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Mr(e){return"string"===typeof e}var Fr=function(e){return{test:function(t){return Mr(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},Vr=Fr("deg"),Ur=Fr("%"),jr=Fr("px"),Br=Fr("vh"),zr=Fr("vw"),qr=Object.assign(Object.assign({},Ur),{parse:function(e){return Ur.parse(e)/100},transform:function(e){return Ur.transform(100*e)}}),Wr={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},Hr=Object.assign(Object.assign({},Wr),{transform:Nr(0,1)}),Gr=Object.assign(Object.assign({},Wr),{default:1}),Kr=Ae(Ae({},Wr),{},{transform:Math.round}),Qr={borderWidth:jr,borderTopWidth:jr,borderRightWidth:jr,borderBottomWidth:jr,borderLeftWidth:jr,borderRadius:jr,radius:jr,borderTopLeftRadius:jr,borderTopRightRadius:jr,borderBottomRightRadius:jr,borderBottomLeftRadius:jr,width:jr,maxWidth:jr,height:jr,maxHeight:jr,size:jr,top:jr,right:jr,bottom:jr,left:jr,padding:jr,paddingTop:jr,paddingRight:jr,paddingBottom:jr,paddingLeft:jr,margin:jr,marginTop:jr,marginRight:jr,marginBottom:jr,marginLeft:jr,rotate:Vr,rotateX:Vr,rotateY:Vr,rotateZ:Vr,scale:Gr,scaleX:Gr,scaleY:Gr,scaleZ:Gr,skew:Vr,skewX:Vr,skewY:Vr,distance:jr,translateX:jr,translateY:jr,translateZ:jr,x:jr,y:jr,z:jr,perspective:jr,transformPerspective:jr,opacity:Hr,originX:qr,originY:qr,originZ:jr,zIndex:Kr,fillOpacity:Hr,strokeOpacity:Hr,numOctaves:Kr};function Yr(e,t,n,r){var i=e.style,a=e.vars,o=e.transform,u=e.transformKeys,s=e.transformOrigin;u.length=0;var c=!1,l=!1,f=!0;for(var h in t){var d=t[h];if(Ar(h))a[h]=d;else{var p=Qr[h],v=Pr(d,p);if(Er.has(h)){if(c=!0,o[h]=v,u.push(h),!f)continue;d!==(p.default||0)&&(f=!1)}else h.startsWith("origin")?(l=!0,s[h]=v):i[h]=v}}if(t.transform||(c||r?i.transform=function(e,t,n,r){var i=e.transform,a=e.transformKeys,o=t.enableHardwareAcceleration,u=void 0===o||o,s=t.allowTransformNone,c=void 0===s||s,l="";a.sort(Cr);var f,h=Ir(a);try{for(h.s();!(f=h.n()).done;){var d=f.value;l+="".concat(Tr[d]||d,"(").concat(i[d],") ")}}catch(p){h.e(p)}finally{h.f()}return u&&!i.z&&(l+="translateZ(0)"),l=l.trim(),r?l=r(i,n?"":l):c&&n&&(l="none"),l}(e,n,f,r):i.transform&&(i.transform="none")),l){var y=s.originX,m=void 0===y?"50%":y,g=s.originY,k=void 0===g?"50%":g,b=s.originZ,w=void 0===b?0:b;i.transformOrigin="".concat(m," ").concat(k," ").concat(w)}}var $r=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Xr(e,t,n){for(var r in t)_r(t[r])||Sr(r,n)||(e[r]=t[r])}function Jr(e,n,r){var i={};return Xr(i,e.style||{},e),Object.assign(i,function(e,n,r){var i=e.transformTemplate;return(0,t.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};return Yr(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(e,n,r)),e.transformValues?e.transformValues(i):i}function Zr(e,t,n){var r={},i=Jr(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),r.style=i,r}var ei=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll"].concat(["whileInView","onViewportEnter","onViewportLeave","viewport"],["whileTap","onTap","onTapStart","onTapCancel"],["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],["onPan","onPanStart","onPanSessionStart","onPanEnd"]));function ti(e){return ei.has(e)}var ni,ri=function(e){return!ti(e)};try{(ni=require("@emotion/is-prop-valid").default)&&(ri=function(e){return e.startsWith("on")?!ti(e):ni(e)})}catch(CR){}function ii(e,t,n){var r={};for(var i in e)(ri(i)||!0===n&&ti(i)||!t&&!ti(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function ai(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oi(e,t,n){return"string"===typeof e?e:jr.transform(t+n*e)}var ui={offset:"stroke-dashoffset",array:"stroke-dasharray"},si={offset:"strokeDashoffset",array:"strokeDasharray"};var ci=["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"];function li(e,t,n,r){var i=t.attrX,a=t.attrY,o=t.originX,u=t.originY,s=t.pathLength,c=t.pathSpacing,l=void 0===c?1:c,f=t.pathOffset,h=void 0===f?0:f;Yr(e,ai(t,ci),n,r),e.attrs=e.style,e.style={};var d=e.attrs,p=e.style,v=e.dimensions;d.transform&&(v&&(p.transform=d.transform),delete d.transform),v&&(void 0!==o||void 0!==u||p.transform)&&(p.transformOrigin=function(e,t,n){var r=oi(t,e.x,e.width),i=oi(n,e.y,e.height);return"".concat(r," ").concat(i)}(v,void 0!==o?o:.5,void 0!==u?u:.5)),void 0!==i&&(d.x=i),void 0!==a&&(d.y=a),void 0!==s&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var a=i?ui:si;e[a.offset]=jr.transform(-r);var o=jr.transform(t),u=jr.transform(n);e[a.array]="".concat(o," ").concat(u)}(d,s,l,h,!1)}var fi=function(){return Ae(Ae({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{},{attrs:{}})};function hi(e,n){var r=(0,t.useMemo)((function(){var t=fi();return li(t,n,{enableHardwareAcceleration:!1},e.transformTemplate),Ae(Ae({},t.attrs),{},{style:Ae({},t.style)})}),[n]);if(e.style){var i={};Xr(i,e.style,e),r.style=Ae(Ae({},i),r.style)}return r}function di(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(n,r,i,a,o,u){var s=o.latestValues,c=(br(n)?hi:Zr)(r,s,u),l=Ae(Ae(Ae({},ii(r,"string"===typeof n,e)),c),{},{ref:a});return i&&(l["data-projection-id"]=i),(0,t.createElement)(n,l)};return n}var pi=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function vi(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var yi=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function mi(e,t,n,r){for(var i in vi(e,t,void 0,r),t.attrs)e.setAttribute(yi.has(i)?i:pi(i),t.attrs[i])}function gi(e){var t=e.style,n={};for(var r in t)(_r(t[r])||Sr(r,e))&&(n[r]=t[r]);return n}function ki(e){var t=gi(e);for(var n in e){if(_r(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function bi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var wi=function(e){return Array.isArray(e)},xi=function(e){return wi(e)?e[e.length-1]||0:e};function Ei(e){var t=_r(e)?e.get():e;return function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}var Si=["transitionEnd","transition"];var _i=function(e){return function(n,r){var i=(0,t.useContext)(Kn),a=(0,t.useContext)(Qn),o=function(){return function(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,u={latestValues:Ii(t,n,r,i),renderState:a()};return o&&(u.mount=function(e){return o(t,e,u)}),u}(e,n,i,a)};return r?o():cr(o)}};function Ii(e,t,n,r){var i={},a=r(e);for(var o in a)i[o]=Ei(a[o]);var u=e.initial,s=e.animate,c=rr(e),l=ir(e);t&&l&&!c&&!1!==e.inherit&&(void 0===u&&(u=t.initial),void 0===s&&(s=t.animate));var f=!!n&&!1===n.initial,h=(f=f||!1===u)?s:u;h&&"boolean"!==typeof h&&!tr(h)&&(Array.isArray(h)?h:[h]).forEach((function(t){var n=bi(e,t);if(n){var r=n.transitionEnd,a=(n.transition,ai(n,Si));for(var o in a){var u=a[o];if(Array.isArray(u))u=u[f?u.length-1:0];null!==u&&(i[o]=u)}for(var s in r)i[s]=r[s]}}));return i}var Ti,Ci={useVisualState:_i({scrapeMotionValuesFromProps:ki,createRenderState:fi,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(a){r.dimensions={x:0,y:0,width:0,height:0}}li(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),mi(t,r)}})},Ai={useVisualState:_i({scrapeMotionValuesFromProps:gi,createRenderState:$r})};function Pi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function Ni(e,n,r,i){(0,t.useEffect)((function(){var t=e.current;if(r&&t)return Pi(t,n,r,i)}),[e,n,r,i])}function Oi(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function Di(e){return!!e.touches}function Ri(e){return function(t){var n=t instanceof MouseEvent;(!n||n&&0===t.button)&&e(t)}}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(Ti||(Ti={}));var Li={pageX:0,pageY:0};function Mi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page",n=e.touches[0]||e.changedTouches[0],r=n||Li;return{x:r[t+"X"],y:r[t+"Y"]}}function Fi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{x:e[t+"X"],y:e[t+"Y"]}}function Vi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:Di(e)?Mi(e,t):Fi(e,t)}}var Ui=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(t){return e(t,Vi(t))};return t?Ri(n):n},ji={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Bi={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function zi(e){return Yn&&null===window.onpointerdown?e:Yn&&null===window.ontouchstart?Bi[e]:Yn&&null===window.onmousedown?ji[e]:e}function qi(e,t,n,r){return Pi(e,zi(t),Ui(n,"pointerdown"===t),r)}function Wi(e,t,n,r){return Ni(e,zi(t),n&&Ui(n,"pointerdown"===t),r)}function Hi(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var Gi=Hi("dragHorizontal"),Ki=Hi("dragVertical");function Qi(e){var t=!1;if("y"===e)t=Ki();else if("x"===e)t=Gi();else{var n=Gi(),r=Ki();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function Yi(){var e=Qi(!0);return!e||(e(),!1)}function $i(e,t,n){return function(r,i){Oi(r)&&!Yi()&&(e.animationState&&e.animationState.setActive(Ti.Hover,t),n&&n(r,i))}}var Xi=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function Ji(e){return(0,t.useEffect)((function(){return function(){return e()}}),[])}var Zi=function(e,t){return function(n){return t(e(n))}},ea=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Zi)};new Set;var ta=["root"],na=new WeakMap,ra=new WeakMap,ia=function(e){var t=na.get(e.target);t&&t(e)},aa=function(e){e.forEach(ia)};function oa(e,t,n){var r=function(e){var t=e.root,n=ai(e,ta),r=t||document;ra.has(r)||ra.set(r,{});var i=ra.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(aa,Ae({root:t},n))),i[a]}(t);return na.set(e,n),r.observe(e),function(){na.delete(e),r.unobserve(e)}}var ua={some:0,all:1};function sa(e,n,r,i){var a=i.root,o=i.margin,u=i.amount,s=void 0===u?"some":u,c=i.once;(0,t.useEffect)((function(){if(e){var t={root:null===a||void 0===a?void 0:a.current,rootMargin:o,threshold:"number"===typeof s?s:ua[s]};return oa(r.getInstance(),t,(function(e){var t=e.isIntersecting;if(n.isInView!==t&&(n.isInView=t,!c||t||!n.hasEnteredView)){t&&(n.hasEnteredView=!0),r.animationState&&r.animationState.setActive(Ti.InView,t);var i=r.getProps(),a=t?i.onViewportEnter:i.onViewportLeave;a&&a(e)}}))}}),[e,a,o,s])}function ca(e,n,r,i){var a=i.fallback,o=void 0===a||a;(0,t.useEffect)((function(){e&&o&&requestAnimationFrame((function(){n.hasEnteredView=!0;var e=r.getProps().onViewportEnter;e&&e(null),r.animationState&&r.animationState.setActive(Ti.InView,!0)}))}),[e])}var la=function(e){return function(t){return e(t),null}},fa={inView:la((function(e){var n=e.visualElement,r=e.whileInView,i=e.onViewportEnter,a=e.onViewportLeave,o=e.viewport,u=void 0===o?{}:o,s=(0,t.useRef)({hasEnteredView:!1,isInView:!1}),c=Boolean(r||i||a);u.once&&s.current.hasEnteredView&&(c=!1),("undefined"===typeof IntersectionObserver?ca:sa)(c,s.current,n,u)})),tap:la((function(e){var n=e.onTap,r=e.onTapStart,i=e.onTapCancel,a=e.whileTap,o=e.visualElement,u=n||r||i||a,s=(0,t.useRef)(!1),c=(0,t.useRef)(null),l={passive:!(r||n||i||v)};function f(){c.current&&c.current(),c.current=null}function h(){return f(),s.current=!1,o.animationState&&o.animationState.setActive(Ti.Tap,!1),!Yi()}function d(e,t){h()&&(Xi(o.getInstance(),e.target)?n&&n(e,t):i&&i(e,t))}function p(e,t){h()&&i&&i(e,t)}function v(e,t){f(),s.current||(s.current=!0,c.current=ea(qi(window,"pointerup",d,l),qi(window,"pointercancel",p,l)),o.animationState&&o.animationState.setActive(Ti.Tap,!0),r&&r(e,t))}Wi(o,"pointerdown",u?v:void 0,l),Ji(f)})),focus:la((function(e){var t=e.whileFocus,n=e.visualElement,r=n.animationState;Ni(n,"focus",t?function(){r&&r.setActive(Ti.Focus,!0)}:void 0),Ni(n,"blur",t?function(){r&&r.setActive(Ti.Focus,!1)}:void 0)})),hover:la((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;Wi(i,"pointerenter",t||r?$i(i,!0,t):void 0,{passive:!t}),Wi(i,"pointerleave",n||r?$i(i,!1,n):void 0,{passive:!n})}))};function ha(){var e=(0,t.useContext)(Qn);if(null===e)return[!0,null];var n=e.isPresent,r=e.onExitComplete,i=e.register,a=(0,t.useId)();(0,t.useEffect)((function(){return i(a)}),[]);return!n&&r?[!1,function(){return r&&r(a)}]:[!0]}function da(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function pa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var va=function(e,t,n){return Math.min(Math.max(n,e),t)},ya=.001;function ma(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,u=e.velocity,s=void 0===u?0:u,c=e.mass,l=void 0===c?1:c,f=1-o;f=va(.05,1,f),i=va(.01,10,i/1e3),f<1?(t=function(e){var t=e*f,n=t*i,r=t-s,a=ga(e,f),o=Math.exp(-n);return ya-r/a*o},n=function(e){var n=e*f*i,r=n*s+s,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),u=ga(Math.pow(e,2),f);return(-t(e)+ya>0?-1:1)*((r-a)*o)/u}):(t=function(e){return Math.exp(-e*i)*((e-s)*i+1)-.001},n=function(e){return Math.exp(-e*i)*(i*i*(s-e))});var h=function(e,t,n){for(var r=n,i=1;i<12;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*l;return{stiffness:d,damping:2*f*Math.sqrt(l*d),duration:i}}function ga(e,t){return e*Math.sqrt(1-t*t)}var ka=["duration","bounce"],ba=["stiffness","damping","mass"];function wa(e,t){return t.some((function(t){return void 0!==e[t]}))}function xa(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.restSpeed,o=void 0===a?2:a,u=e.restDelta,s=pa(e,["from","to","restSpeed","restDelta"]),c={done:!1,value:n},l=function(e){var t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!wa(e,ba)&&wa(e,ka)){var n=ma(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(s),f=l.stiffness,h=l.damping,d=l.mass,p=l.velocity,v=l.duration,y=l.isResolvedFromDuration,m=Ea,g=Ea;function k(){var e=p?-p/1e3:0,t=i-n,r=h/(2*Math.sqrt(f*d)),a=Math.sqrt(f/d)/1e3;if(void 0===u&&(u=Math.min(Math.abs(i-n)/100,.4)),r<1){var o=ga(a,r);m=function(n){var u=Math.exp(-r*a*n);return i-u*((e+r*a*t)/o*Math.sin(o*n)+t*Math.cos(o*n))},g=function(n){var i=Math.exp(-r*a*n);return r*a*i*(Math.sin(o*n)*(e+r*a*t)/o+t*Math.cos(o*n))-i*(Math.cos(o*n)*(e+r*a*t)-o*t*Math.sin(o*n))}}else if(1===r)m=function(n){return i-Math.exp(-a*n)*(t+(e+a*t)*n)};else{var s=a*Math.sqrt(r*r-1);m=function(n){var o=Math.exp(-r*a*n),u=Math.min(s*n,300);return i-o*((e+r*a*t)*Math.sinh(u)+s*t*Math.cosh(u))/s}}}return k(),{next:function(e){var t=m(e);if(y)c.done=e>=v;else{var n=1e3*g(e),r=Math.abs(n)<=o,a=Math.abs(i-t)<=u;c.done=r&&a}return c.value=c.done?i:t,c},flipTarget:function(){p=-p;var e=[i,n];n=e[0],i=e[1],k()}}}xa.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var Ea=function(e){return 0},Sa=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},_a=function(e,t,n){return-n*e+n*t+e},Ia=function(e,t){return function(n){return Boolean(Mr(n)&&Lr.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},Ta=function(e,t,n){return function(r){var i;if(!Mr(r))return r;var a=gt(r.match(Dr),4),o=a[0],u=a[1],s=a[2],c=a[3];return Te(i={},e,parseFloat(o)),Te(i,t,parseFloat(u)),Te(i,n,parseFloat(s)),Te(i,"alpha",void 0!==c?parseFloat(c):1),i}},Ca=Nr(0,255),Aa=Object.assign(Object.assign({},Wr),{transform:function(e){return Math.round(Ca(e))}}),Pa={test:Ia("rgb","red"),parse:Ta("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+Aa.transform(t)+", "+Aa.transform(n)+", "+Aa.transform(r)+", "+Or(Hr.transform(a))+")"}};var Na={test:Ia("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Pa.transform},Oa={test:Ia("hsl","hue"),parse:Ta("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+Ur.transform(Or(n))+", "+Ur.transform(Or(r))+", "+Or(Hr.transform(a))+")"}};function Da(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ra(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,u=0;if(n/=100){var s=r<.5?r*(1+n):r+n-r*n,c=2*r-s;a=Da(c,s,t+1/3),o=Da(c,s,t),u=Da(c,s,t-1/3)}else a=o=u=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*u),alpha:i}}var La=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},Ma=[Na,Pa,Oa],Fa=function(e){return Ma.find((function(t){return t.test(e)}))},Va=function(e){return"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")},Ua=function(e,t){var n=Fa(e),r=Fa(t);Va(e),Va(t);var i=n.parse(e),a=r.parse(t);n===Oa&&(i=Ra(i),n=Pa),r===Oa&&(a=Ra(a),r=Pa);var o=Object.assign({},i);return function(e){for(var t in o)"alpha"!==t&&(o[t]=La(i[t],a[t],e));return o.alpha=_a(i.alpha,a.alpha,e),n.transform(o)}},ja={test:function(e){return Pa.test(e)||Na.test(e)||Oa.test(e)},parse:function(e){return Pa.test(e)?Pa.parse(e):Oa.test(e)?Oa.parse(e):Na.parse(e)},transform:function(e){return Mr(e)?e:e.hasOwnProperty("red")?Pa.transform(e):Oa.transform(e)}},Ba="${c}",za="${n}";function qa(e){"number"===typeof e&&(e="".concat(e));var t=[],n=0,r=e.match(Rr);r&&(n=r.length,e=e.replace(Rr,Ba),t.push.apply(t,Tt(r.map(ja.parse))));var i=e.match(Dr);return i&&(e=e.replace(Dr,za),t.push.apply(t,Tt(i.map(Wr.parse)))),{values:t,numColors:n,tokenised:e}}function Wa(e){return qa(e).values}function Ha(e){var t=qa(e),n=t.values,r=t.numColors,i=t.tokenised,a=n.length;return function(e){for(var t=i,n=0;n<a;n++)t=t.replace(n<r?Ba:za,n<r?ja.transform(e[n]):Or(e[n]));return t}}var Ga=function(e){return"number"===typeof e?0:e};var Ka={test:function(e){var t,n,r,i;return isNaN(e)&&Mr(e)&&(null!==(n=null===(t=e.match(Dr))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(Rr))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:Wa,createTransformer:Ha,getAnimatableNone:function(e){var t=Wa(e);return Ha(e)(t.map(Ga))}},Qa=function(e){return"number"===typeof e};function Ya(e,t){return Qa(e)?function(n){return _a(e,t,n)}:ja.test(e)?Ua(e,t):Za(e,t)}var $a=function(e,t){var n=Tt(e),r=n.length,i=e.map((function(e,n){return Ya(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},Xa=function(e,t){var n=Object.assign(Object.assign({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Ya(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function Ja(e){for(var t=Ka.parse(e),n=t.length,r=0,i=0,a=0,o=0;o<n;o++)r||"number"===typeof t[o]?r++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}var Za=function(e,t){var n=Ka.createTransformer(t),r=Ja(e),i=Ja(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?ea($a(r.parsed,i.parsed),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),function(n){return"".concat(n>0?t:e)})},eo=function(e,t){return function(n){return _a(e,t,n)}};function to(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?eo:"string"===typeof e?ja.test(e)?Ua:Za:Array.isArray(e)?$a:"object"===typeof e?Xa:void 0}(e[0]),a=e.length-1,o=0;o<a;o++){var u=i(e[o],e[o+1]);if(t){var s=Array.isArray(t)?t[o]:t;u=ea(s,u)}r.push(u)}return r}function no(e,t){var n=gt(e,2),r=n[0],i=n[1],a=gt(t,1)[0];return function(e){return a(Sa(r,i,e))}}function ro(e,t){var n=e.length,r=n-1;return function(i){var a=0,o=!1;if(i<=e[0]?o=!0:i>=e[r]&&(a=r-1,o=!0),!o){for(var u=1;u<n&&!(e[u]>i||u===r);u++);a=u-1}var s=Sa(e[a],e[a+1],i);return t[a](s)}}function io(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,u=e.length;t.length,!a||!Array.isArray(a)||a.length,e[0]>e[u-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var s=to(t,a,o),c=2===u?no(e,s):ro(e,s);return i?function(t){return c(va(e[0],e[u-1],t))}:c}var ao,oo=function(e){return function(t){return 1-e(1-t)}},uo=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},so=function(e){return function(t){return t*t*((e+1)*t-e)}},co=function(e){return e},lo=(ao=2,function(e){return Math.pow(e,ao)}),fo=oo(lo),ho=uo(lo),po=function(e){return 1-Math.sin(Math.acos(e))},vo=oo(po),yo=uo(vo),mo=so(1.525),go=oo(mo),ko=uo(mo),bo=function(e){var t=so(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),wo=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},xo=oo(wo);function Eo(e,t){return e.map((function(){return t||ho})).splice(0,e.length-1)}function So(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.ease,o=e.offset,u=e.duration,s=void 0===u?300:u,c={done:!1,value:n},l=Array.isArray(i)?i:[n,i],f=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===l.length?o:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(l),s);function h(){return io(f,l,{ease:Array.isArray(a)?a:Eo(l,a)})}var d=h();return{next:function(e){return c.value=d(e),c.done=e>=s,c},flipTarget:function(){l.reverse(),d=h()}}}var _o={keyframes:So,spring:xa,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,i=void 0===r?0:r,a=e.power,o=void 0===a?.8:a,u=e.timeConstant,s=void 0===u?350:u,c=e.restDelta,l=void 0===c?.5:c,f=e.modifyTarget,h={done:!1,value:i},d=o*n,p=i+d,v=void 0===f?p:f(p);return v!==p&&(d=v-i),{next:function(e){var t=-d*Math.exp(-e/s);return h.done=!(t>l||t<-l),h.value=h.done?v:v+t,h},flipTarget:function(){}}}};var Io=1/60*1e3,To="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},Co="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(To())}),Io)};var Ao=!0,Po=!1,No=!1,Oo={delta:0,timestamp:0},Do=["read","update","preRender","render","postRender"],Ro=Do.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,u={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,u=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===u.indexOf(e)&&(u.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(s){if(i)a=!0;else{i=!0;var c=[n,t];if(t=c[0],(n=c[1]).length=0,r=t.length)for(var l=0;l<r;l++){var f=t[l];f(s),o.has(f)&&(u.schedule(f),e())}i=!1,a&&(a=!1,u.process(s))}}};return u}((function(){return Po=!0})),e}),{}),Lo=Do.reduce((function(e,t){var n=Ro[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Po||jo(),n.schedule(e,t,r)},e}),{}),Mo=Do.reduce((function(e,t){return e[t]=Ro[t].cancel,e}),{}),Fo=Do.reduce((function(e,t){return e[t]=function(){return Ro[t].process(Oo)},e}),{}),Vo=function(e){return Ro[e].process(Oo)},Uo=function e(t){Po=!1,Oo.delta=Ao?Io:Math.max(Math.min(t-Oo.timestamp,40),1),Oo.timestamp=t,No=!0,Do.forEach(Vo),No=!1,Po&&(Ao=!1,Co(e))},jo=function(){Po=!0,Ao=!0,No||Co(Uo)},Bo=function(){return Oo},zo=Lo;function qo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-t-n}var Wo=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return zo.update(t,!0)},stop:function(){return Mo.update(t)}}};function Ho(e){var t,n,r,i,a,o=e.from,u=e.autoplay,s=void 0===u||u,c=e.driver,l=void 0===c?Wo:c,f=e.elapsed,h=void 0===f?0:f,d=e.repeat,p=void 0===d?0:d,v=e.repeatType,y=void 0===v?"loop":v,m=e.repeatDelay,g=void 0===m?0:m,k=e.onPlay,b=e.onStop,w=e.onComplete,x=e.onRepeat,E=e.onUpdate,S=pa(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),_=S.to,I=0,T=S.duration,C=!1,A=!0,P=function(e){if(Array.isArray(e.to))return So;if(_o[e.type])return _o[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?So:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?xa:So}(S);(null===(n=(t=P).needsInterpolation)||void 0===n?void 0:n.call(t,o,_))&&(a=io([0,100],[o,_],{clamp:!1}),o=0,_=100);var N=P(Object.assign(Object.assign({},S),{from:o,to:_}));function O(){I++,"reverse"===y?h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+n:qo(t+-e,t,n)}(h,T,g,A=I%2===0):(h=qo(h,T,g),"mirror"===y&&N.flipTarget()),C=!1,x&&x()}function D(e){if(A||(e=-e),h+=e,!C){var t=N.next(Math.max(0,h));i=t.value,a&&(i=a(i)),C=A?t.done:h<=0}null===E||void 0===E||E(i),C&&(0===I&&(null!==T&&void 0!==T||(T=h)),I<p?function(e,t,n,r){return r?e>=t+n:e<=-n}(h,T,g,A)&&O():(r.stop(),w&&w()))}return s&&(null===k||void 0===k||k(),(r=l(D)).start()),{stop:function(){null===b||void 0===b||b(),r.stop()}}}function Go(e,t){return t?e*(1e3/t):0}var Ko=function(e){return 1e3*e},Qo=function(e,t){return 1-3*t+3*e},Yo=function(e,t){return 3*t-6*e},$o=function(e){return 3*e},Xo=function(e,t,n){return((Qo(t,n)*e+Yo(t,n))*e+$o(t))*e},Jo=function(e,t,n){return 3*Qo(t,n)*e*e+2*Yo(t,n)*e+$o(t)};var Zo=.1;function eu(e,t,n,r){if(e===t&&n===r)return co;for(var i=new Float32Array(11),a=0;a<11;++a)i[a]=Xo(a*Zo,e,n);function o(t){for(var r=0,a=1;10!==a&&i[a]<=t;++a)r+=Zo;--a;var o=r+(t-i[a])/(i[a+1]-i[a])*Zo,u=Jo(o,e,n);return u>=.001?function(e,t,n,r){for(var i=0;i<8;++i){var a=Jo(t,n,r);if(0===a)return t;t-=(Xo(t,n,r)-e)/a}return t}(t,o,e,n):0===u?o:function(e,t,n,r,i){var a,o,u=0;do{(a=Xo(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++u<10);return o}(t,r,r+Zo,e,n)}return function(e){return 0===e||1===e?e:Xo(o(e),t,r)}}var tu={linear:co,easeIn:lo,easeInOut:ho,easeOut:fo,circIn:po,circInOut:yo,circOut:vo,backIn:mo,backInOut:ko,backOut:go,anticipate:bo,bounceIn:xo,bounceInOut:function(e){return e<.5?.5*(1-wo(1-2*e)):.5*wo(2*e-1)+.5},bounceOut:wo},nu=function(e){if(Array.isArray(e)){e.length;var t=gt(e,4);return eu(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),tu[e]):e},ru=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Ka.test(t)||t.startsWith("url(")))},iu=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},au=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},ou=function(){return{type:"keyframes",ease:"linear",duration:.3}},uu=function(e){return{type:"keyframes",duration:.8,values:e}},su={x:iu,y:iu,z:iu,rotate:iu,rotateX:iu,rotateY:iu,rotateZ:iu,scaleX:au,scaleY:au,scale:au,opacity:ou,backgroundColor:ou,color:ou,default:au},cu=new Set(["brightness","contrast","saturate","opacity"]);function lu(e){var t=gt(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=gt(r.match(Dr)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=cu.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var fu=/([a-z-]*)\(.*?\)/g,hu=Object.assign(Object.assign({},Ka),{getAnimatableNone:function(e){var t=e.match(fu);return t?t.map(lu).join(" "):e}}),du=Ae(Ae({},Qr),{},{color:ja,backgroundColor:ja,outlineColor:ja,fill:ja,stroke:ja,borderColor:ja,borderTopColor:ja,borderRightColor:ja,borderBottomColor:ja,borderLeftColor:ja,filter:hu,WebkitFilter:hu}),pu=function(e){return du[e]};function vu(e,t){var n,r=pu(e);return r!==hu&&(r=Ka),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var yu=!1,mu=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"],gu=["ease","times","yoyo","flip","loop"];function ku(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,a=e.loop,o=ai(e,gu),u=Ae({},o);return n&&(u.offset=n),o.duration&&(u.duration=Ko(o.duration)),o.repeatDelay&&(u.repeatDelay=Ko(o.repeatDelay)),t&&(u.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(t)?t.map(nu):nu(t)),"tween"===o.type&&(u.type="keyframes"),(r||a||i)&&(!0,r?u.repeatType="reverse":a?u.repeatType="loop":i&&(u.repeatType="mirror"),u.repeat=a||r||i||o.repeat),"spring"!==o.type&&(u.type="keyframes"),u}function bu(e,t){var n,r;return null!==(r=null!==(n=(_u(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}function wu(e,t,n){return Array.isArray(t.to)&&void 0===e.duration&&(e.duration=.8),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=Tt(e.to),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=ai(e,mu);return!!Object.keys(t).length}(e)||(e=Ae(Ae({},e),function(e,t){return Ae({to:t},(wi(t)?uu:su[e]||su.default)(t))}(n,t.to))),Ae(Ae({},t),ku(e))}function xu(e,t,n,r,i){var a=_u(r,e)||{},o=void 0!==a.from?a.from:t.get(),u=ru(e,n);"none"===o&&u&&"string"===typeof n?o=vu(e,n):Eu(o)&&"string"===typeof n?o=Su(n):!Array.isArray(n)&&Eu(n)&&"string"===typeof o&&(n=Su(o));var s=ru(e,o);return"You are trying to animate ".concat(e,' from "').concat(o,'" to "').concat(n,'". ').concat(o," is not an animatable value - to enable this animation set ").concat(o," to a value animatable to ").concat(n," via the `style` property."),s&&u&&!1!==a.type?function(){var r={from:o,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===a.type||"decay"===a.type?function(e){var t,n=e.from,r=void 0===n?0:n,i=e.velocity,a=void 0===i?0:i,o=e.min,u=e.max,s=e.power,c=void 0===s?.8:s,l=e.timeConstant,f=void 0===l?750:l,h=e.bounceStiffness,d=void 0===h?500:h,p=e.bounceDamping,v=void 0===p?10:p,y=e.restDelta,m=void 0===y?1:y,g=e.modifyTarget,k=e.driver,b=e.onUpdate,w=e.onComplete,x=e.onStop;function E(e){return void 0!==o&&e<o||void 0!==u&&e>u}function S(e){return void 0===o?u:void 0===u||Math.abs(o-e)<Math.abs(u-e)?o:u}function _(e){null===t||void 0===t||t.stop(),t=Ho(Object.assign(Object.assign({},e),{driver:k,onUpdate:function(t){var n;null===b||void 0===b||b(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:w,onStop:x}))}function I(e){_(Object.assign({type:"spring",stiffness:d,damping:v,restDelta:m},e))}if(E(r))I({from:r,velocity:a,to:S(r)});else{var T=c*a+r;"undefined"!==typeof g&&(T=g(T));var C,A,P=S(T),N=P===o?-1:1;_({type:"decay",from:r,velocity:a,timeConstant:f,power:c,restDelta:m,modifyTarget:g,onUpdate:E(T)?function(e){C=A,A=e,a=Go(e-C,Bo().delta),(1===N&&e>P||-1===N&&e<P)&&I({from:e,to:P,velocity:a})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(Ae(Ae({},r),a)):Ho(Ae(Ae({},wu(a,r,e)),{},{onUpdate:function(e){r.onUpdate(e),a.onUpdate&&a.onUpdate(e)},onComplete:function(){r.onComplete(),a.onComplete&&a.onComplete()}}))}:function(){var e=xi(n);return t.set(e),i(),a.onUpdate&&a.onUpdate(e),a.onComplete&&a.onComplete(),{stop:function(){}}}}function Eu(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function Su(e){return"number"===typeof e?0:vu("",e)}function _u(e,t){return e[t]||e.default||e}function Iu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return yu&&(r={type:!1}),t.start((function(i){var a,o,u=xu(e,t,n,r,i),s=bu(r,e),c=function(){return o=u()};return s?a=window.setTimeout(c,Ko(s)):c(),function(){clearTimeout(a),o&&o.stop()}}))}var Tu=function(e){return/^\-?\d*\.?\d+$/.test(e)},Cu=function(e){return/^0[^.\s]+$/.test(e)};function Au(e,t){-1===e.indexOf(t)&&e.push(t)}function Pu(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Nu=function(){function e(){Ct(this,e),this.subscriptions=[]}return Pt(e,[{key:"add",value:function(e){var t=this;return Au(this.subscriptions,e),function(){return Pu(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}(),Ou=function(){function e(t){var n,r=this;Ct(this,e),this.version="7.5.3",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Nu,this.velocityUpdateSubscribers=new Nu,this.renderSubscribers=new Nu,this.canTrackVelocity=!1,this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.prev=r.current,r.current=e;var n=Bo(),i=n.delta,a=n.timestamp;r.lastUpdated!==a&&(r.timeDelta=i,r.lastUpdated=a,zo.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.updateSubscribers.notify(r.current),r.velocityUpdateSubscribers.getSize()&&r.velocityUpdateSubscribers.notify(r.getVelocity()),t&&r.renderSubscribers.notify(r.current)},this.scheduleVelocityCheck=function(){return zo.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.velocityUpdateSubscribers.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n)))}return Pt(e,[{key:"onChange",value:function(e){return this.updateSubscribers.add(e)}},{key:"clearListeners",value:function(){this.updateSubscribers.clear()}},{key:"onRenderRequest",value:function(e){return e(this.get()),this.renderSubscribers.add(e)}},{key:"attach",value:function(e){this.passiveEffect=e}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"get",value:function(){return this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?Go(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))}},{key:"stop",value:function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.stopAnimation}},{key:"clearAnimation",value:function(){this.stopAnimation=null}},{key:"destroy",value:function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}]),e}();function Du(e){return new Ou(e)}var Ru=function(e){return function(t){return t.test(e)}},Lu=[Wr,jr,Ur,Vr,zr,Br,{test:function(e){return"auto"===e},parse:function(e){return e}}],Mu=function(e){return Lu.find(Ru(e))},Fu=[].concat(Tt(Lu),[ja,Ka]),Vu=function(e){return Fu.find(Ru(e))};function Uu(e,t,n){var r=e.getProps();return bi(r,t,void 0!==n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}var ju=["transitionEnd","transition"];function Bu(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Du(n))}function zu(e,t){var n=Uu(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i,o=(r.transition,ai(r,ju));for(var u in o=Ae(Ae({},o),a)){Bu(e,u,xi(o[u]))}}function qu(e,t,n){var r,i,a=Object.keys(t).filter((function(t){return!e.hasValue(t)})),o=a.length;if(o)for(var u=0;u<o;u++){var s=a[u],c=t[s],l=null;Array.isArray(c)&&(l=c[0]),null===l&&(l=null!==(i=null!==(r=n[s])&&void 0!==r?r:e.readValue(s))&&void 0!==i?i:t[s]),void 0!==l&&null!==l&&("string"===typeof l&&(Tu(l)||Cu(l))?l=parseFloat(l):!Vu(l)&&Ka.test(c)&&(l=vu(s,c)),e.addValue(s,Du(l)),void 0===n[s]&&(n[s]=l),e.setBaseTarget(s,l))}}function Wu(e,t){if(t)return(t[e]||t.default||t).from}function Hu(e,t,n){var r,i={};for(var a in e){var o=Wu(a,t);i[a]=void 0!==o?o:null===(r=n.getValue(a))||void 0===r?void 0:r.get()}return i}function Gu(e){return Boolean(_r(e)&&e.add)}var Ku=["transition","transitionEnd"];function Qu(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Uu(e,t,r.custom),a=i||{},o=a.transition,u=void 0===o?e.getDefaultTransition()||{}:o;r.transitionOverride&&(u=r.transitionOverride);var s=i?function(){return Yu(e,i,r)}:function(){return Promise.resolve()},c=(null===(n=e.variantChildren)||void 0===n?void 0:n.size)?function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=u,a=i.delayChildren,o=void 0===a?0:a,s=i.staggerChildren,c=i.staggerDirection;return $u(e,t,o+n,s,c,r)}:function(){return Promise.resolve()},l=u,f=l.when;if(f){var h="beforeChildren"===f?[s,c]:[c,s],d=gt(h,2),p=d[0],v=d[1];return p().then(v)}return Promise.all([s(),c(r.delay)])}function Yu(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.delay,a=void 0===i?0:i,o=r.transitionOverride,u=r.type,s=e.makeTargetAnimatable(t),c=s.transition,l=void 0===c?e.getDefaultTransition():c,f=s.transitionEnd,h=ai(s,Ku),d=e.getValue("willChange");o&&(l=o);var p=[],v=u&&(null===(n=e.animationState)||void 0===n?void 0:n.getState()[u]),y=function(t){var n=e.getValue(t),r=h[t];if(!n||void 0===r||v&&Ju(v,t))return"continue";var i=Ae({delay:a},l);e.shouldReduceMotion&&Er.has(t)&&(i=Ae(Ae({},i),{},{type:!1,delay:0}));var o=Iu(t,n,r,i);Gu(d)&&(d.add(t),o=o.then((function(){return d.remove(t)}))),p.push(o)};for(var m in h)y(m);return Promise.all(p).then((function(){f&&zu(e,f)}))}function $u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0,o=[],u=(e.variantChildren.size-1)*r,s=1===i?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e*r}:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return u-e*r};return Array.from(e.variantChildren).sort(Xu).forEach((function(e,r){o.push(Qu(e,t,Ae(Ae({},a),{},{delay:n+s(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(o)}function Xu(e,t){return e.sortNodePosition(t)}function Ju(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var Zu=["transition","transitionEnd"],es=[Ti.Animate,Ti.InView,Ti.Focus,Ti.Hover,Ti.Tap,Ti.Drag,Ti.Exit],ts=[].concat(es).reverse(),ns=es.length;function rs(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notifyAnimationStart(t),Array.isArray(t)){var i=t.map((function(t){return Qu(e,t,r)}));n=Promise.all(i)}else if("string"===typeof t)n=Qu(e,t,r);else{var a="function"===typeof t?Uu(e,t,r.custom):t;n=Yu(e,a,r)}return n.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}function is(e){var t=rs(e),n=function(){var e;return Te(e={},Ti.Animate,as(!0)),Te(e,Ti.InView,as()),Te(e,Ti.Hover,as()),Te(e,Ti.Tap,as()),Te(e,Ti.Drag,as()),Te(e,Ti.Focus,as()),Te(e,Ti.Exit,as()),e}(),r=!0,i=function(t,n){var r=Uu(e,n);if(r){r.transition;var i=r.transitionEnd,a=ai(r,Zu);t=Ae(Ae(Ae({},t),a),i)}return t};function a(a,o){for(var u,s=e.getProps(),c=e.getVariantContext(!0)||{},l=[],f=new Set,h={},d=1/0,p=function(t){var p=ts[t],v=n[p],y=null!==(u=s[p])&&void 0!==u?u:c[p],m=er(y),g=p===o?v.isActive:null;!1===g&&(d=t);var k=y===c[p]&&y!==s[p]&&m;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),v.protectedKeys=Ae({},h),!v.isActive&&null===g||!y&&!v.prevProp||tr(y)||"boolean"===typeof y)return"continue";var b=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!da(t,e);return!1}(v.prevProp,y),w=b||p===o&&v.isActive&&!k&&m||t>d&&m,x=Array.isArray(y)?y:[y],E=x.reduce(i,{});!1===g&&(E={});var S=v.prevResolvedValues,_=void 0===S?{}:S,I=Ae(Ae({},_),E),T=function(e){w=!0,f.delete(e),v.needsAnimating[e]=!0};for(var C in I){var A=E[C],P=_[C];h.hasOwnProperty(C)||(A!==P?wi(A)&&wi(P)?!da(A,P)||b?T(C):v.protectedKeys[C]=!0:void 0!==A?T(C):f.add(C):void 0!==A&&f.has(C)?T(C):v.protectedKeys[C]=!0)}v.prevProp=y,v.prevResolvedValues=E,v.isActive&&(h=Ae(Ae({},h),E)),r&&e.blockInitialAnimation&&(w=!1),w&&!k&&l.push.apply(l,Tt(x.map((function(e){return{animation:e,options:Ae({type:p},a)}}))))},v=0;v<ns;v++)p(v);if(f.size){var y={};f.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(y[t]=n)})),l.push({animation:y})}var m=Boolean(l.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var u=a(i,t);for(var s in n)n[s].protectedKeys={};return u},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function as(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var os={animation:la((function(e){var n=e.visualElement,r=e.animate;n.animationState||(n.animationState=is(n)),tr(r)&&(0,t.useEffect)((function(){return r.subscribe(n)}),[r])})),exit:la((function(e){var n=e.custom,r=e.visualElement,i=gt(ha(),2),a=i[0],o=i[1],u=(0,t.useContext)(Qn);(0,t.useEffect)((function(){r.isPresent=a;var e=r.animationState&&r.animationState.setActive(Ti.Exit,!a,{custom:u&&u.custom||n});e&&!a&&e.then(o)}),[a])}))},us=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},ss=function(e){return us(e)&&e.hasOwnProperty("z")},cs=function(e,t){return Math.abs(e-t)};function ls(e,t){if(Qa(e)&&Qa(t))return cs(e,t);if(us(e)&&us(t)){var n=cs(e.x,t.x),r=cs(e.y,t.y),i=ss(e)&&ss(t)?cs(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}var fs=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.transformPagePoint;if(Ct(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=ps(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=ls(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=Bo().timestamp;r.history.push(Ae(Ae({},i),{},{timestamp:a}));var o=r.handlers,u=o.onStart,s=o.onMove;t||(u&&u(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),s&&s(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=hs(t,r.transformPagePoint),Oi(e)&&0===e.buttons?r.handlePointerUp(e,t):zo.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=ps(hs(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)},!(Di(t)&&t.touches.length>1)){this.handlers=n,this.transformPagePoint=a;var o=Vi(t),u=hs(o,this.transformPagePoint),s=u.point,c=Bo(),l=c.timestamp;this.history=[Ae(Ae({},s),{},{timestamp:l})];var f=n.onSessionStart;f&&f(t,ps(u,this.history)),this.removeListeners=ea(qi(window,"pointermove",this.handlePointerMove),qi(window,"pointerup",this.handlePointerUp),qi(window,"pointercancel",this.handlePointerUp))}}return Pt(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),Mo.update(this.updatePoint)}}]),e}();function hs(e,t){return t?{point:t(e.point)}:e}function ds(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ps(e,t){var n=e.point;return{point:n,delta:ds(n,ys(t)),offset:ds(n,vs(t)),velocity:ms(t,.1)}}function vs(e){return e[0]}function ys(e){return e[e.length-1]}function ms(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=ys(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ko(t)));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function gs(e){return e.max-e.min}function ks(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return ls(e,t)<n}function bs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=_a(t.min,t.max,e.origin),e.scale=gs(n)/gs(t),(ks(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=_a(n.min,n.max,e.origin)-e.originPoint,(ks(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ws(e,t,n,r){bs(e.x,t.x,n.x,null===r||void 0===r?void 0:r.originX),bs(e.y,t.y,n.y,null===r||void 0===r?void 0:r.originY)}function xs(e,t,n){e.min=n.min+t.min,e.max=e.min+gs(t)}function Es(e,t,n){e.min=t.min-n.min,e.max=e.min+gs(t)}function Ss(e,t,n){Es(e.x,t.x,n.x),Es(e.y,t.y,n.y)}function _s(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Is(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[r,n];n=i[0],r=i[1]}return{min:n,max:r}}var Ts=.35;function Cs(e,t,n){return{min:As(e,t),max:As(e,n)}}function As(e,t){var n;return"number"===typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function Ps(e){return[e("x"),e("y")]}function Ns(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function Os(e){return void 0===e||1===e}function Ds(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!Os(t)||!Os(n)||!Os(r)}function Rs(e){return Ds(e)||Ls(e.x)||Ls(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function Ls(e){return e&&"0%"!==e}function Ms(e,t,n){return n+t*(e-n)}function Fs(e,t,n,r,i){return void 0!==i&&(e=Ms(e,i,r)),Ms(e,n,r)+t}function Vs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Fs(e.min,t,n,r,i),e.max=Fs(e.max,t,n,r,i)}function Us(e,t){var n=t.x,r=t.y;Vs(e.x,n.translate,n.scale,n.originPoint),Vs(e.y,r.translate,r.scale,r.originPoint)}function js(e,t){e.min=e.min+t,e.max=e.max+t}function Bs(e,t,n){var r=gt(n,3),i=r[0],a=r[1],o=r[2],u=void 0!==t[o]?t[o]:.5,s=_a(e.min,e.max,u);Vs(e,t[i],t[a],s,t.scale)}var zs=["x","scaleX","originX"],qs=["y","scaleY","originY"];function Ws(e,t){Bs(e.x,t,zs),Bs(e.y,t,qs)}function Hs(e,t){return Ns(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var Gs=new WeakMap,Ks=function(){function e(t){Ct(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}return Pt(e,[{key:"start",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.snapToCursor,i=void 0!==r&&r;if(!1!==this.visualElement.isPresent){var a=function(e){t.stopAnimation(),i&&t.snapToCursor(Vi(e,"page").point)},o=function(e,n){var r,i=t.getProps(),a=i.drag,o=i.dragPropagation,u=i.onDragStart;(!a||o||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=Qi(a),t.openGlobalLock))&&(t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),Ps((function(e){var n,r,i=t.getAxisMotionValue(e).get()||0;if(Ur.test(i)){var a=null===(r=null===(n=t.visualElement.projection)||void 0===n?void 0:n.layout)||void 0===r?void 0:r.actual[e];if(a)i=gs(a)*(parseFloat(i)/100)}t.originPoint[e]=i})),null===u||void 0===u||u(e,n),null===(r=t.visualElement.animationState)||void 0===r||r.setActive(Ti.Drag,!0))},u=function(e,n){var r=t.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,u=r.onDrag;if(i||t.openGlobalLock){var s=n.offset;if(a&&null===t.currentDirection)return t.currentDirection=Ys(s),void(null!==t.currentDirection&&(null===o||void 0===o||o(t.currentDirection)));t.updateAxis("x",n.point,s),t.updateAxis("y",n.point,s),t.visualElement.syncRender(),null===u||void 0===u||u(e,n)}},s=function(e,n){return t.stop(e,n)};this.panSession=new fs(e,{onSessionStart:a,onStart:o,onMove:u,onSessionEnd:s},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null===i||void 0===i||i(e,t)}}},{key:"cancel",value:function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(Ti.Drag,!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&Qs(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?_a(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?_a(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&Zn(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:_s(e.x,r,a),y:_s(e.y,n,i)}}(i.actual,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts;return!1===e?e=0:!0===e&&(e=Ts),{x:Cs(e,"left","right"),y:Cs(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ps((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.actual[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!Zn(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=Hs(e,n),i=t.scroll;return i&&(js(r.x,i.x),js(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:Is(e.x,t.x),y:Is(e.y,t.y)}}(i.layout.actual,a);if(n){var u=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!u,u&&(o=Ns(u))}return o}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,u=n.dragSnapToOrigin,s=n.onDragTransitionEnd,c=this.constraints||{},l=Ps((function(n){var s;if(Qs(n,r,t.currentDirection)){var l=null!==(s=null===c||void 0===c?void 0:c[n])&&void 0!==s?s:{};u&&(l={min:0,max:0});var f=a?200:1e6,h=a?40:1e7,d=Ae(Ae({type:"inertia",velocity:i?e[n]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},o),l);return t.startAxisValueAnimation(n,d)}}));return Promise.all(l).then(s)}},{key:"startAxisValueAnimation",value:function(e,t){return Iu(e,this.getAxisMotionValue(e),0,t)}},{key:"stopAnimation",value:function(){var e=this;Ps((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t,n,r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)}},{key:"snapToCursor",value:function(e){var t=this;Ps((function(n){if(Qs(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.actual[n],o=a.min,u=a.max;i.set(e[n]-_a(o,u,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,a=this.visualElement.projection;if(Zn(i)&&a&&this.constraints){this.stopAnimation();var o={x:0,y:0};Ps((function(e){var n=t.getAxisMotionValue(e);if(n){var r=n.get();o[e]=function(e,t){var n=.5,r=gs(e),i=gs(t);return i>r?n=Sa(t.min,t.max-r,e.min):r>i&&(n=Sa(e.min,e.max-i,t.min)),va(0,1,n)}({min:r,max:r},t.constraints[e])}}));var u=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=u?u({},""):"none",null===(e=a.root)||void 0===e||e.updateScroll(),a.updateLayout(),this.resolveConstraints(),Ps((function(e){if(Qs(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],a=i.min,u=i.max;n.set(_a(a,u,o[e]))}}))}}},{key:"addListeners",value:function(){var e,t=this;Gs.set(this.visualElement,this);var n=qi(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){Zn(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,a=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var o=Pi(window,"resize",(function(){return t.scalePositionWithinConstraints()})),u=i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(Ps((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())}));return function(){o(),n(),a(),null===u||void 0===u||u()}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,u=e.dragConstraints,s=void 0!==u&&u,c=e.dragElastic,l=void 0===c?Ts:c,f=e.dragMomentum,h=void 0===f||f;return Ae(Ae({},e),{},{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:s,dragElastic:l,dragMomentum:h})}}]),e}();function Qs(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}function Ys(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}var $s={pan:la((function(e){var n=e.onPan,r=e.onPanStart,i=e.onPanEnd,a=e.onPanSessionStart,o=e.visualElement,u=n||r||i||a,s=(0,t.useRef)(null),c=(0,t.useContext)(Gn).transformPagePoint,l={onSessionStart:a,onStart:r,onMove:n,onEnd:function(e,t){s.current=null,i&&i(e,t)}};(0,t.useEffect)((function(){null!==s.current&&s.current.updateHandlers(l)})),Wi(o,"pointerdown",u&&function(e){s.current=new fs(e,l,{transformPagePoint:c})}),Ji((function(){return s.current&&s.current.end()}))})),drag:la((function(e){var n=e.dragControls,r=e.visualElement,i=cr((function(){return new Ks(r)}));(0,t.useEffect)((function(){return n&&n.subscribe(i)}),[i,n]),(0,t.useEffect)((function(){return i.addListeners()}),[i])}))},Xs={current:null},Js={current:!1};function Zs(){if(Js.current=!0,Yn)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return Xs.current=e.matches};e.addListener(t),t()}else Xs.current=!1}var ec=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function tc(){var e=ec.map((function(){return new Nu})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){ec.forEach((function(r){var i,a="on"+r,o=e[a];null===(i=t[r])||void 0===i||i.call(t),o&&(t[r]=n[a](o))}))}};return e.forEach((function(e,t){n["on"+ec[t]]=function(t){return e.add(t)},n["notify"+ec[t]]=function(){return e.notify.apply(e,arguments)}})),n}function nc(e,t,n){var r=t.willChange;for(var i in t){var a=t[i],o=n[i];if(_r(a))e.addValue(i,a),Gu(r)&&r.add(i);else if(_r(o))e.addValue(i,Du(a)),Gu(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){var u=e.getValue(i);!u.hasAnimated&&u.set(a)}else{var s=e.getStaticValue(i);e.addValue(i,Du(void 0!==s?s:a))}}for(var c in n)void 0===t[c]&&e.removeValue(c);return t}var rc=["willChange"],ic=Object.keys(sr),ac=ic.length,oc=function(e){var n=e.treeType,r=void 0===n?"":n,i=e.build,a=e.getBaseTarget,o=e.makeTargetAnimatable,u=e.measureViewportBox,s=e.render,c=e.readValueFromInstance,l=e.removeValueFromRenderState,f=e.sortNodePosition,h=e.scrapeMotionValuesFromProps;return function(e){var n,d,p=e.parent,v=e.props,y=e.presenceId,m=e.blockInitialAnimation,g=e.visualState,k=e.reducedMotionConfig,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=!1,x=g.latestValues,E=g.renderState,S=tc(),_=new Map,I=new Map,T={},C=Ae({},x),A=v.initial?Ae({},x):{};function P(){n&&w&&(N(),s(n,E,v.style,q.projection))}function N(){i(q,E,x,b,v)}function O(){S.notifyUpdate(x)}function D(e,t){var n=t.onChange((function(t){x[e]=t,v.onUpdate&&zo.update(O,!1,!0)})),r=t.onRenderRequest(q.scheduleRender);I.set(e,(function(){n(),r()}))}var R=h(v),L=R.willChange,M=ai(R,rc);for(var F in M){var V=M[F];void 0!==x[F]&&_r(V)&&(V.set(x[F],!1),Gu(L)&&L.add(F))}if(v.values)for(var U in v.values){var j=v.values[U];void 0!==x[U]&&_r(j)&&j.set(x[U])}var B=rr(v),z=ir(v),q=Ae(Ae({treeType:r,current:null,depth:p?p.depth+1:0,parent:p,children:new Set,presenceId:y,shouldReduceMotion:null,variantChildren:z?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===p||void 0===p?void 0:p.isMounted()),blockInitialAnimation:m,isMounted:function(){return Boolean(n)},mount:function(e){w=!0,n=q.current=e,q.projection&&q.projection.mount(e),z&&p&&!B&&(d=null===p||void 0===p?void 0:p.addVariantChild(q)),_.forEach((function(e,t){return D(t,e)})),Js.current||Zs(),q.shouldReduceMotion="never"!==k&&("always"===k||Xs.current),null===p||void 0===p||p.children.add(q),q.setProps(v)},unmount:function(){var e;null===(e=q.projection)||void 0===e||e.unmount(),Mo.update(O),Mo.render(P),I.forEach((function(e){return e()})),null===d||void 0===d||d(),null===p||void 0===p||p.children.delete(q),S.clearAllListeners(),n=void 0,w=!1},loadFeatures:function(e,n,r,i,a,o){var u=[];for(var s=0;s<ac;s++){var c=ic[s],l=sr[c],f=l.isEnabled,h=l.Component;f(e)&&h&&u.push((0,t.createElement)(h,Ae(Ae({key:c},e),{},{visualElement:q})))}if(!q.projection&&a){q.projection=new a(i,q.getLatestValues(),p&&p.projection);var d=e.layoutId,v=e.layout,y=e.drag,m=e.dragConstraints,g=e.layoutScroll;q.projection.setOptions({layoutId:d,layout:v,alwaysMeasureLayout:Boolean(y)||m&&Zn(m),visualElement:q,scheduleRender:function(){return q.scheduleRender()},animationType:"string"===typeof v?v:"both",initialPromotionConfig:o,layoutScroll:g})}return u},addVariantChild:function(e){var t,n=q.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return f&&r===e.treeType?f(q.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return z?q:null===p||void 0===p?void 0:p.getClosestVariantNode()},getLayoutId:function(){return v.layoutId},getInstance:function(){return n},getStaticValue:function(e){return x[e]},setStaticValue:function(e,t){return x[e]=t},getLatestValues:function(){return x},setVisibility:function(e){q.isVisible!==e&&(q.isVisible=e,q.scheduleRender())},makeTargetAnimatable:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o(q,e,v,t)},measureViewportBox:function(){return u(n,v)},addValue:function(e,t){q.hasValue(e)&&q.removeValue(e),_.set(e,t),x[e]=t.get(),D(e,t)},removeValue:function(e){var t;_.delete(e),null===(t=I.get(e))||void 0===t||t(),I.delete(e),delete x[e],l(e,E)},hasValue:function(e){return _.has(e)},getValue:function(e,t){if(v.values&&v.values[e])return v.values[e];var n=_.get(e);return void 0===n&&void 0!==t&&(n=Du(t),q.addValue(e,n)),n},forEachValue:function(e){return _.forEach(e)},readValue:function(e){return void 0!==x[e]?x[e]:c(n,e,b)},setBaseTarget:function(e,t){C[e]=t},getBaseTarget:function(e){var t,n=v.initial,r="string"===typeof n||"object"===typeof n?null===(t=bi(v,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;if(a){var i=a(v,e);if(void 0!==i&&!_r(i))return i}return void 0!==A[e]&&void 0===r?void 0:C[e]}},S),{},{build:function(){return N(),E},scheduleRender:function(){zo.render(P,!1,!0)},syncRender:P,setProps:function(e){(e.transformTemplate||v.transformTemplate)&&q.scheduleRender(),v=e,S.updatePropListeners(e),T=nc(q,h(v),T)},getProps:function(){return v},getVariant:function(e){var t;return null===(t=v.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return v.transition},getTransformPagePoint:function(){return v.transformPagePoint},getVariantContext:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return null===p||void 0===p?void 0:p.getVariantContext();if(!B){var t=(null===p||void 0===p?void 0:p.getVariantContext())||{};return void 0!==v.initial&&(t.initial=v.initial),t}for(var n={},r=0;r<sc;r++){var i=uc[r],a=v[i];(er(a)||!1===a)&&(n[i]=a)}return n}});return q}},uc=["initial"].concat(Tt(es)),sc=uc.length;function cc(e){return"string"===typeof e&&e.startsWith("var(--")}var lc=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function fc(e){var t=lc.exec(e);if(!t)return[,];var n=gt(t,3);return[n[1],n[2]]}function hc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=fc(e),i=gt(r,2),a=i[0],o=i[1];if(a){var u=window.getComputedStyle(t).getPropertyValue(a);return u?u.trim():cc(o)?hc(o,t,n+1):o}}var dc,pc=new Set(["width","height","top","left","right","bottom","x","y"]),vc=function(e){return pc.has(e)},yc=function(e,t){e.set(t,!1),e.set(t)},mc=function(e){return e===Wr||e===jr};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(dc||(dc={}));var gc=function(e,t){return parseFloat(e.split(", ")[t])},kc=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return gc(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?gc(o[1],e):0}},bc=new Set(["x","y","z"]),wc=xr.filter((function(e){return!bc.has(e)}));function xc(e){var t=[];return wc.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}var Ec={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:kc(4,13),y:kc(5,14)},Sc=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),a=getComputedStyle(i),o=a.display,u={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){u[e]=Ec[e](r,a)})),t.syncRender();var s=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);yc(r,u[n]),e[n]=Ec[n](s,a)})),e};function _c(e,t,n,r){return function(e){return Object.keys(e).some(vc)}(t)?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Ae({},t),r=Ae({},r);var i=Object.keys(t).filter(vc),a=[],o=!1,u=[];if(i.forEach((function(i){var s=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=Mu(l),h=t[i];if(wi(h)){var d=h.length,p=null===h[0]?1:0;l=h[p],f=Mu(l);for(var v=p;v<d;v++)c?Mu(h[v]):(c=Mu(h[v]))===f||mc(f)&&mc(c)}else c=Mu(h);if(f!==c)if(mc(f)&&mc(c)){var y=s.get();"string"===typeof y&&s.set(parseFloat(y)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&c===jr&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===h)?0===l?s.set(c.transform(l)):t[i]=f.transform(h):(o||(a=xc(e),o=!0),u.push(i),r[i]=void 0!==r[i]?r[i]:t[i],yc(s,h))}})),u.length){var s=u.indexOf("height")>=0?window.pageYOffset:null,c=Sc(t,e,u);return a.length&&a.forEach((function(t){var n=gt(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),Yn&&null!==s&&window.scrollTo({top:s}),{target:c,transitionEnd:r}}return{target:t,transitionEnd:r}}(e,t,n,r):{target:t,transitionEnd:r}}var Ic=function(e,t,n,r){var i=function(e,t,n){var r=Object.assign({},t),i=e.getInstance();if(!(i instanceof Element))return{target:r,transitionEnd:n};for(var a in n&&(n=Ae({},n)),e.forEachValue((function(e){var t=e.get();if(cc(t)){var n=hc(t,i);n&&e.set(n)}})),r){var o=r[a];if(cc(o)){var u=hc(o,i);u&&(r[a]=u,n&&void 0===n[a]&&(n[a]=o))}}return{target:r,transitionEnd:n}}(e,t,r);return _c(e,t=i.target,n,r=i.transitionEnd)},Tc=["transition","transitionEnd"];var Cc={treeType:"dom",readValueFromInstance:function(e,t){if(Er.has(t)){var n=pu(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r)),a=(Ar(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof a?a.trim():a},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return Hs(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n){var r=t.transition,i=t.transitionEnd,a=ai(t,Tc),o=n.transformValues,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=Hu(a,r||{},e);if(o&&(i&&(i=o(i)),a&&(a=o(a)),s&&(s=o(s))),u){qu(e,a,s);var c=Ic(e,a,s,i);i=c.transitionEnd,a=c.target}return Ae({transition:r,transitionEnd:i},a)},scrapeMotionValuesFromProps:gi,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),Yr(t,n,r,i.transformTemplate)},render:vi},Ac=oc(Cc),Pc=oc(Ae(Ae({},Cc),{},{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return Er.has(t)?(null===(n=pu(t))||void 0===n?void 0:n.default)||0:(t=yi.has(t)?t:pi(t),e.getAttribute(t))},scrapeMotionValuesFromProps:ki,build:function(e,t,n,r,i){li(t,n,r,i.transformTemplate)},render:mi})),Nc=function(e,t){return br(e)?Pc(t,{enableHardwareAcceleration:!1}):Ac(t,{enableHardwareAcceleration:!0})};function Oc(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Dc={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!jr.test(e))return e;e=parseFloat(e)}var n=Oc(e,t.target.x),r=Oc(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Rc="_$css",Lc={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=e.includes("var("),o=[];a&&(e=e.replace(lc,(function(e){return o.push(e),Rc})));var u=Ka.parse(e);if(u.length>5)return i;var s=Ka.createTransformer(e),c="number"!==typeof u[0]?1:0,l=r.x.scale*n.x,f=r.y.scale*n.y;u[0+c]/=l,u[1+c]/=f;var h=_a(l,f,.5);"number"===typeof u[2+c]&&(u[2+c]/=h),"number"===typeof u[3+c]&&(u[3+c]/=h);var d=s(u);if(a){var p=0;d=d.replace(Rc,(function(){var e=o[p];return p++,e}))}return d}},Mc=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return Pt(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,u=r.projection;e=Fc,Object.assign(wr,e),u&&(i.group&&i.group.add(u),a&&a.register&&o&&a.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",(function(){t.safeToRemove()})),u.setOptions(Ae(Ae({},u.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),lr.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,u=i.projection;return u?(u.isPresent=o,a||e.layoutDependency!==r||void 0===r?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||zo.postRender((function(){var e;(null===(e=u.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(i),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;null===e||void 0===e||e()}},{key:"render",value:function(){return null}}]),n}(t.Component);var Fc={borderRadius:Ae(Ae({},Dc),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Dc,borderTopRightRadius:Dc,borderBottomLeftRadius:Dc,borderBottomRightRadius:Dc,boxShadow:Lc},Vc={measureLayout:function(e){var n=gt(ha(),2),r=n[0],i=n[1],a=(0,t.useContext)(hr);return t.createElement(Mc,Ae(Ae({},e),{},{layoutGroup:a,switchLayoutGroup:(0,t.useContext)(pr),isPresent:r,safeToRemove:i}))}};function Uc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=_r(e)?e:Du(e);return Iu("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}var jc=["TopLeft","TopRight","BottomLeft","BottomRight"],Bc=jc.length,zc=function(e){return"string"===typeof e?parseFloat(e):e},qc=function(e){return"number"===typeof e||jr.test(e)};function Wc(e,t,n,r,i,a){var o,u,s,c;i?(e.opacity=_a(0,null!==(o=n.opacity)&&void 0!==o?o:1,Gc(r)),e.opacityExit=_a(null!==(u=t.opacity)&&void 0!==u?u:1,0,Kc(r))):a&&(e.opacity=_a(null!==(s=t.opacity)&&void 0!==s?s:1,null!==(c=n.opacity)&&void 0!==c?c:1,r));for(var l=0;l<Bc;l++){var f="border".concat(jc[l],"Radius"),h=Hc(t,f),d=Hc(n,f);if(void 0!==h||void 0!==d)h||(h=0),d||(d=0),0===h||0===d||qc(h)===qc(d)?(e[f]=Math.max(_a(zc(h),zc(d),r),0),(Ur.test(d)||Ur.test(h))&&(e[f]+="%")):e[f]=d}(t.rotate||n.rotate)&&(e.rotate=_a(t.rotate||0,n.rotate||0,r))}function Hc(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var Gc=Qc(0,.5,vo),Kc=Qc(.5,.95,co);function Qc(e,t,n){return function(r){return r<e?0:r>t?1:n(Sa(e,t,r))}}function Yc(e,t){e.min=t.min,e.max=t.max}function $c(e,t){Yc(e.x,t.x),Yc(e.y,t.y)}function Xc(e,t,n,r,i){return e=Ms(e-=t,1/n,r),void 0!==i&&(e=Ms(e,1/i,r)),e}function Jc(e,t,n,r,i){var a=gt(n,3),o=a[0],u=a[1],s=a[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(Ur.test(t)){t=parseFloat(t),t=_a(o.min,o.max,t/100)-o.min}if("number"===typeof t){var u=_a(a.min,a.max,r);e===a&&(u-=t),e.min=Xc(e.min,t,n,u,i),e.max=Xc(e.max,t,n,u,i)}}(e,t[o],t[u],t[s],t.scale,r,i)}var Zc=["x","scaleX","originX"],el=["y","scaleY","originY"];function tl(e,t,n,r){Jc(e.x,t,Zc,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),Jc(e.y,t,el,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function nl(e){return 0===e.translate&&1===e.scale}function rl(e){return nl(e.x)&&nl(e.y)}function il(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function al(e){return gs(e.x)/gs(e.y)}var ol=function(){function e(){Ct(this,e),this.members=[]}return Pt(e,[{key:"add",value:function(e){Au(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(Pu(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t,n,r,i,a;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(a=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===a||a.call(i)}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function ul(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,a="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(a+="scale(".concat(1/t.x,", ").concat(1/t.y,") "),n){var o=n.rotate,u=n.rotateX,s=n.rotateY;o&&(a+="rotate(".concat(o,"deg) ")),u&&(a+="rotateX(".concat(u,"deg) ")),s&&(a+="rotateY(".concat(s,"deg) "))}var c=e.x.scale*t.x,l=e.y.scale*t.y;return"translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)"===(a+="scale(".concat(c,", ").concat(l,")"))?"none":a}var sl=function(e,t){return e.depth-t.depth},cl=function(){function e(){Ct(this,e),this.children=[],this.isDirty=!1}return Pt(e,[{key:"add",value:function(e){Au(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){Pu(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(sl),this.isDirty=!1,this.children.forEach(e)}}]),e}(),ll=["","X","Y","Z"];function fl(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===n||void 0===n?void 0:n();Ct(this,e),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){r.isUpdating&&(r.isUpdating=!1,r.clearAllSnapshots())},this.updateProjection=function(){r.nodes.forEach(gl),r.nodes.forEach(kl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=t,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[].concat(Tt(a.path),[a]):[],this.parent=a,this.depth=a?a.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new cl)}return Pt(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Nu),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===t||void 0===t||t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"registerPotentialNode",value:function(e,t){this.potentialNodes.set(e,t)}},{key:"mount",value:function(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var a=this.options,o=a.layoutId,u=a.layout,s=a.visualElement;if(s&&!s.getInstance()&&s.mount(e),this.root.nodes.add(this),null===(n=this.parent)||void 0===n||n.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),i&&(u||o)&&(this.isLayoutDirty=!0),t){var c,l=function(){return r.root.updateBlockedByResize=!1};t(e,(function(){r.root.updateBlockedByResize=!0,clearTimeout(c),c=window.setTimeout(l,250),lr.hasAnimatedSinceResize&&(lr.hasAnimatedSinceResize=!1,r.nodes.forEach(ml))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&s&&(o||u)&&this.addEventListener("didUpdate",(function(e){var t,n,i,a,o,u=e.delta,c=e.hasLayoutChanged,l=e.hasRelativeTargetChanged,f=e.layout;if(r.isTreeAnimationBlocked())return r.target=void 0,void(r.relativeTarget=void 0);var h=null!==(n=null!==(t=r.options.transition)&&void 0!==t?t:s.getDefaultTransition())&&void 0!==n?n:Il,d=s.getProps(),p=d.onLayoutAnimationStart,v=d.onLayoutAnimationComplete,y=!r.targetLayout||!il(r.targetLayout,f)||l,m=!c&&l;if((null===(i=r.resumeFrom)||void 0===i?void 0:i.instance)||m||c&&(y||!r.currentAnimation)){r.resumeFrom&&(r.resumingFrom=r.resumeFrom,r.resumingFrom.resumingFrom=void 0),r.setAnimationOrigin(u,m);var g=Ae(Ae({},_u(h,"layout")),{},{onPlay:p,onComplete:v});s.shouldReduceMotion&&(g.delay=0,g.type=!1),r.startAnimation(g)}else c||0!==r.animationProgress||r.finishAnimation(),r.isLead()&&(null===(o=(a=r.options).onExitComplete)||void 0===o||o.call(a));r.targetLayout=f}))}}},{key:"unmount",value:function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,Mo.preRender(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1}},{key:"startUpdate",value:function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(bl))}},{key:"willUpdate",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.isUpdateBlocked())null===(t=(e=this.options).onExitComplete)||void 0===t||t.call(e);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var a=this.path[i];a.shouldResetTransform=!0,a.updateScroll()}var o=this.options,u=o.layoutId,s=o.layout;if(void 0!==u||s){var c=null===(n=this.options.visualElement)||void 0===n?void 0:n.getProps().transformTemplate;this.prevTransformTemplateValue=null===c||void 0===c?void 0:c(this.latestValues,""),this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}}}},{key:"didUpdate",value:function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(vl);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Tl),this.potentialNodes.clear()),this.nodes.forEach(yl),this.nodes.forEach(hl),this.nodes.forEach(dl),this.clearAllSnapshots(),Fo.update(),Fo.preRender(),Fo.render())}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(pl),this.sharedNodes.forEach(wl)}},{key:"scheduleUpdateProjection",value:function(){zo.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;zo.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));Al(t),this.snapshot={measured:e,layout:t,latestValues:{}}}}},{key:"updateLayout",value:function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var n=this.measure();Al(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null===r||void 0===r?void 0:r.actual)}}},{key:"updateScroll",value:function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=i(this.instance),this.scroll=r(this.instance))}},{key:"resetTransform",value:function(){var e;if(a){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!rl(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,i=null===r||void 0===r?void 0:r(this.latestValues,""),o=i!==this.prevTransformTemplateValue;t&&(n||Rs(this.latestValues)||o)&&(a(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(js(t.x,n.x),js(t.y,n.y)),t}},{key:"removeElementScroll",value:function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};$c(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options,o=r.isScrollRoot;if(r!==this.root&&i&&a.layoutScroll){if(o){$c(t,e);var u=this.root.scroll;u&&(js(t.x,-u.x),js(t.y,-u.y))}js(t.x,i.x),js(t.y,i.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={x:{min:0,max:0},y:{min:0,max:0}};$c(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ws(n,{x:-i.scroll.x,y:-i.scroll.y}),Rs(i.latestValues)&&Ws(n,i.latestValues)}return Rs(this.latestValues)&&Ws(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};$c(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&Rs(i.latestValues)){Ds(i.latestValues)&&i.updateSnapshot();var a={x:{min:0,max:0},y:{min:0,max:0}};$c(a,i.measure()),tl(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,a)}}return Rs(this.latestValues)&&tl(n,this.latestValues),n}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()}},{key:"setOptions",value:function(e){this.options=Ae(Ae(Ae({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"resolveTargetDelta",value:function(){var e,t,n,r,i=this.options,a=i.layout,o=i.layoutId;this.layout&&(a||o)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ss(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),$c(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,n=this.relativeTarget,r=this.relativeParent.target,xs(t.x,n.x,r.x),xs(t.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):$c(this.target,this.layout.actual),Us(this.target,this.targetDelta)):$c(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ss(this.relativeTargetOrigin,this.target,this.relativeParent.target),$c(this.relativeTarget,this.relativeTargetOrigin)))))}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!Rs(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}},{key:"calcProjection",value:function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();$c(this.layoutCorrected,this.layout.actual),function(e,t,n){var r,i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n.length;if(o){var u,s;t.x=t.y=1;for(var c=0;c<o;c++)s=(u=n[c]).projectionDelta,"contents"!==(null===(i=null===(r=u.instance)||void 0===r?void 0:r.style)||void 0===i?void 0:i.display)&&(a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ws(e,{x:-u.scroll.x,y:-u.scroll.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Us(e,s)),a&&Rs(u.latestValues)&&Ws(e,u.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var a=i.target;if(a){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var o=this.treeScale.x,u=this.treeScale.y,s=this.projectionTransform;ws(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.projectionTransform=ul(this.projectionDelta,this.treeScale),this.projectionTransform===s&&this.treeScale.x===o&&this.treeScale.y===u||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null===(t=(e=this.options).scheduleRender)||void 0===t||t.call(e),r&&(null===(n=this.getStack())||void 0===n||n.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.snapshot,a=(null===i||void 0===i?void 0:i.latestValues)||{},o=Ae({},this.latestValues),u={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!r;var s={x:{min:0,max:0},y:{min:0,max:0}},c=null===i||void 0===i?void 0:i.isShared,l=((null===(t=this.getStack())||void 0===t?void 0:t.members.length)||0)<=1,f=Boolean(c&&!l&&!0===this.options.crossfade&&!this.path.some(_l));this.animationProgress=0,this.mixTargetDelta=function(t){var r,i=t/1e3;xl(u.x,e.x,i),xl(u.y,e.y,i),n.setTargetDelta(u),n.relativeTarget&&n.relativeTargetOrigin&&n.layout&&(null===(r=n.relativeParent)||void 0===r?void 0:r.layout)&&(Ss(s,n.layout.actual,n.relativeParent.layout.actual),Sl(n.relativeTarget,n.relativeTargetOrigin,s,i)),c&&(n.animationValues=o,Wc(o,a,n.latestValues,i,f,l)),n.root.scheduleUpdateProjection(),n.scheduleRender(),n.animationProgress=i},this.mixTargetDelta(0)}},{key:"startAnimation",value:function(e){var t,n,r=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(Mo.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zo.update((function(){lr.hasAnimatedSinceResize=!0,r.currentAnimation=Uc(0,1e3,Ae(Ae({},e),{},{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;if(t&&n&&r){if(this!==e&&this.layout&&r&&Pl(this.options.animationType,this.layout.actual,r.actual)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};var a=gs(this.layout.actual.x);n.x.min=e.target.x.min,n.x.max=n.x.min+a;var o=gs(this.layout.actual.y);n.y.min=e.target.y.min,n.y.max=n.y.min+o}$c(t,n),Ws(t,i),ws(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}},{key:"registerSharedNode",value:function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new ol),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<ll.length;r++){var i="rotate"+ll[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var a in null===e||void 0===e||e.syncRender(),n)e.setStaticValue(a,n[a]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={};if(!this.instance||this.isSVG)return i;if(!this.isVisible)return{visibility:"hidden"};i.visibility="";var a=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=Ei(r.pointerEvents)||"",i.transform=a?a(this.latestValues,""):"none",i;var o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){var u={};return this.options.layoutId&&(u.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,u.pointerEvents=Ei(r.pointerEvents)||""),this.hasProjected&&!Rs(this.latestValues)&&(u.transform=a?a({},""):"none",this.hasProjected=!1),u}var s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),i.transform=ul(this.projectionDeltaWithTransform,this.treeScale,s),a&&(i.transform=a(s,i.transform));var c=this.projectionDelta,l=c.x,f=c.y;for(var h in i.transformOrigin="".concat(100*l.origin,"% ").concat(100*f.origin,"% 0"),o.animationValues?i.opacity=o===this?null!==(n=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:i.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,wr)if(void 0!==s[h]){var d=wr[h],p=d.correct,v=d.applyTo,y=p(s[h],o);if(v)for(var m=v.length,g=0;g<m;g++)i[v[g]]=y;else i[h]=y}return this.options.layoutId&&(i.pointerEvents=o===this?Ei(r.pointerEvents)||"":"none"),i}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(vl),this.root.sharedNodes.clear()}}]),e}()}function hl(e){e.updateLayout()}function dl(e){var t,n,r,i=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){var a=e.layout,o=a.actual,u=a.measured,s=e.options.animationType;"size"===s?Ps((function(e){var t=i.isShared?i.measured[e]:i.layout[e],n=gs(t);t.min=o[e].min,t.max=t.min+n})):Pl(s,i.layout,o)&&Ps((function(e){var t=i.isShared?i.measured[e]:i.layout[e],n=gs(o[e]);t.max=t.min+n}));var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};ws(c,o,i.layout);var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i.isShared?ws(l,e.applyTransform(u,!0),i.measured):ws(l,o,i.layout);var f=!rl(c),h=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var d=e.relativeParent,p=d.snapshot,v=d.layout;if(p&&v){var y={x:{min:0,max:0},y:{min:0,max:0}};Ss(y,i.layout,p.layout);var m={x:{min:0,max:0},y:{min:0,max:0}};Ss(m,o,v.actual),il(y,m)||(h=!0)}}e.notifyListeners("didUpdate",{layout:o,snapshot:i,delta:l,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else e.isLead()&&(null===(r=(n=e.options).onExitComplete)||void 0===r||r.call(n));e.options.transition=void 0}function pl(e){e.clearSnapshot()}function vl(e){e.clearMeasurements()}function yl(e){var t=e.options.visualElement;(null===t||void 0===t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function ml(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function gl(e){e.resolveTargetDelta()}function kl(e){e.calcProjection()}function bl(e){e.resetRotation()}function wl(e){e.removeLeadSnapshot()}function xl(e,t,n){e.translate=_a(t.translate,0,n),e.scale=_a(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function El(e,t,n,r){e.min=_a(t.min,n.min,r),e.max=_a(t.max,n.max,r)}function Sl(e,t,n,r){El(e.x,t.x,n.x,r),El(e.y,t.y,n.y,r)}function _l(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var Il={duration:.45,ease:[.4,0,.1,1]};function Tl(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function Cl(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function Al(e){Cl(e.x),Cl(e.y)}function Pl(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;return ls(e,t)<=n}(al(t),al(n),.2)}var Nl=fl({attachResizeListener:function(e,t){return Pi(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),Ol={current:void 0},Dl=fl({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!Ol.current){var e=new Nl(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Ol.current=e}return Ol.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),Rl=Ae(Ae(Ae(Ae({},os),fa),$s),Vc),Ll=gr((function(e,t){return function(e,t,n,r,i){var a=t.forwardMotionProps,o=void 0!==a&&a;return Ae(Ae({},br(e)?Ci:Ai),{},{preloadedFeatures:n,useRender:di(o),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,Rl,Nc,Dl)}));var Ml=function(){var e=gt((0,t.useState)(!1),2),n=e[0],r=e[1],i=On(),a=function(){window.scrollY>100?r(!0):r(!1)};return(0,t.useEffect)((function(){return window.addEventListener("scroll",a),function(){return window.removeEventListener("scroll",a)}}),[]),(0,Et.jsx)("div",{className:"nav ".concat(n&&"nav__black"),children:(0,Et.jsxs)("div",{className:"nav__contents",children:[(0,Et.jsx)(Ll.img,{whileHover:{scale:1.4,transition:{duration:.4}},whileTap:{scale:.9},onClick:function(){return i("/")},className:"nav__logo",src:"https://assets.stickpng.com/images/580b57fcd9996e24bc43c529.png",alt:""}),(0,Et.jsx)(Ll.img,{whileHover:{scale:1.4,transition:{duration:.4}},whileTap:{scale:.9},onClick:function(){return i("/profile")},className:"nav__avatar",src:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Netflix-avatar.png?20201013161117",alt:""})]})})},Fl=n(2007),Vl=n(8262),Ul=n(6071);function jl(e,t){var n,r;if(e.videoId!==t.videoId)return!0;var i=(null==(n=e.opts)?void 0:n.playerVars)||{},a=(null==(r=t.opts)?void 0:r.playerVars)||{};return i.start!==a.start||i.end!==a.end}function Bl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ae(Ae({},e),{},{height:0,width:0,playerVars:Ae(Ae({},e.playerVars),{},{autoplay:0,start:0,end:0})})}function zl(e,t){return e.videoId!==t.videoId||!Vl(Bl(e.opts),Bl(t.opts))}function ql(e,t){var n,r,i,a;return e.id!==t.id||e.className!==t.className||(null==(n=e.opts)?void 0:n.width)!==(null==(r=t.opts)?void 0:r.width)||(null==(i=e.opts)?void 0:i.height)!==(null==(a=t.opts)?void 0:a.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var Wl={videoId:Fl.string,id:Fl.string,className:Fl.string,iframeClassName:Fl.string,style:Fl.object,title:Fl.string,loading:Fl.oneOf(["lazy","eager"]),opts:Fl.objectOf(Fl.any),onReady:Fl.func,onError:Fl.func,onPlay:Fl.func,onPause:Fl.func,onEnd:Fl.func,onStateChange:Fl.func,onPlaybackRateChange:Fl.func,onPlaybackQualityChange:Fl.func},Hl=function(e){Ot(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this,e)).destroyPlayerPromise=void 0,r.onPlayerReady=function(e){var t,n;return null==(n=(t=r.props).onReady)?void 0:n.call(t,e)},r.onPlayerError=function(e){var t,n;return null==(n=(t=r.props).onError)?void 0:n.call(t,e)},r.onPlayerStateChange=function(e){var t,i,a,o,u,s,c,l;switch(null==(i=(t=r.props).onStateChange)||i.call(t,e),e.data){case n.PlayerState.ENDED:null==(o=(a=r.props).onEnd)||o.call(a,e);break;case n.PlayerState.PLAYING:null==(s=(u=r.props).onPlay)||s.call(u,e);break;case n.PlayerState.PAUSED:null==(l=(c=r.props).onPause)||l.call(c,e)}},r.onPlayerPlaybackRateChange=function(e){var t,n;return null==(n=(t=r.props).onPlaybackRateChange)?void 0:n.call(t,e)},r.onPlayerPlaybackQualityChange=function(e){var t,n;return null==(n=(t=r.props).onPlaybackQualityChange)?void 0:n.call(t,e)},r.destroyPlayer=function(){return r.internalPlayer?(r.destroyPlayerPromise=r.internalPlayer.destroy().then((function(){return r.destroyPlayerPromise=void 0})),r.destroyPlayerPromise):Promise.resolve()},r.createPlayer=function(){if("undefined"!==typeof document)if(r.destroyPlayerPromise)r.destroyPlayerPromise.then(r.createPlayer);else{var e=Ae(Ae({},r.props.opts),{},{videoId:r.props.videoId});r.internalPlayer=Ul(r.container,e),r.internalPlayer.on("ready",r.onPlayerReady),r.internalPlayer.on("error",r.onPlayerError),r.internalPlayer.on("stateChange",r.onPlayerStateChange),r.internalPlayer.on("playbackRateChange",r.onPlayerPlaybackRateChange),r.internalPlayer.on("playbackQualityChange",r.onPlayerPlaybackQualityChange),(r.props.title||r.props.loading)&&r.internalPlayer.getIframe().then((function(e){r.props.title&&e.setAttribute("title",r.props.title),r.props.loading&&e.setAttribute("loading",r.props.loading)}))}},r.resetPlayer=function(){return r.destroyPlayer().then(r.createPlayer)},r.updatePlayer=function(){var e;null==(e=r.internalPlayer)||e.getIframe().then((function(e){r.props.id?e.setAttribute("id",r.props.id):e.removeAttribute("id"),r.props.iframeClassName?e.setAttribute("class",r.props.iframeClassName):e.removeAttribute("class"),r.props.opts&&r.props.opts.width?e.setAttribute("width",r.props.opts.width.toString()):e.removeAttribute("width"),r.props.opts&&r.props.opts.height?e.setAttribute("height",r.props.opts.height.toString()):e.removeAttribute("height"),r.props.title?e.setAttribute("title",r.props.title):e.setAttribute("title","YouTube video player"),r.props.loading?e.setAttribute("loading",r.props.loading):e.removeAttribute("loading")}))},r.getInternalPlayer=function(){return r.internalPlayer},r.updateVideo=function(){var e,t,n,i;if("undefined"!==typeof r.props.videoId&&null!==r.props.videoId){var a=!1,o={videoId:r.props.videoId};(null==(t=r.props.opts)?void 0:t.playerVars)&&(a=1===r.props.opts.playerVars.autoplay,"start"in r.props.opts.playerVars&&(o.startSeconds=r.props.opts.playerVars.start),"end"in r.props.opts.playerVars&&(o.endSeconds=r.props.opts.playerVars.end)),a?null==(n=r.internalPlayer)||n.loadVideoById(o):null==(i=r.internalPlayer)||i.cueVideoById(o)}else null==(e=r.internalPlayer)||e.stopVideo()},r.refContainer=function(e){r.container=e},r.container=null,r.internalPlayer=null,r}return Pt(n,[{key:"componentDidMount",value:function(){this.createPlayer()}},{key:"componentDidUpdate",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ql(t,this.props)&&this.updatePlayer(),!zl(t,this.props)){e.next=4;break}return e.next=4,this.resetPlayer();case 4:jl(t,this.props)&&this.updateVideo();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.destroyPlayer()}},{key:"render",value:function(){return(0,Et.jsx)("div",{className:this.props.className,style:this.props.style,children:(0,Et.jsx)("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer})})}}]),n}(t.Component),Gl=Hl;Gl.propTypes=Wl,Gl.defaultProps={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:function(){},onError:function(){},onPlay:function(){},onPause:function(){},onEnd:function(){},onStateChange:function(){},onPlaybackRateChange:function(){},onPlaybackQualityChange:function(){}},Gl.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Kl=Gl,Ql=n(2453),Yl=n.n(Ql),$l=function(e){var n=e.title,r=e.fetchUrl,i=e.isLargeRow,a=gt((0,t.useState)([]),2),o=a[0],u=a[1],s=gt((0,t.useState)(""),2),c=s[0],l=s[1];(0,t.useEffect)((function(){function e(){return(e=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt.get(r);case 2:return t=e.sent,u(t.data.results),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]);return(0,Et.jsxs)("div",{className:"row",children:[(0,Et.jsx)("h2",{children:n}),(0,Et.jsx)("div",{className:"row__posters",children:o.map((function(e){return(i&&e.poster_path||!i&&e.backdrop_path)&&(0,Et.jsx)("img",{className:"row__poster ".concat(i&&"row__posterLarge"),onClick:function(){return function(e){c?l(""):Yl()((null===e||void 0===e?void 0:e.name)||"").then((function(e){var t=new URLSearchParams(new URL(e).search);l(t.get("v"))})).catch((function(e){return console.log(e)}))}(e)},src:"https://image.tmdb.org/t/p/original/".concat(i?e.poster_path:e.backdrop_path),alt:e.name},e.id)}))}),c&&(0,Et.jsx)(Kl,{videoId:c,opts:{height:"390",width:"100%",playerVars:{autoplay:1}}})]})};var Xl=function(){return(0,Et.jsxs)("div",{className:"home__screen",children:[(0,Et.jsx)(Ml,{}),(0,Et.jsx)(_t,{}),(0,Et.jsx)($l,{title:"NETFLIX ORIGINALS",fetchUrl:xt.fetchNetflixOriginals,isLargeRow:!0}),(0,Et.jsx)($l,{title:"Trending now",fetchUrl:xt.fetchTrending}),(0,Et.jsx)($l,{title:"Top Rated",fetchUrl:xt.fetchTopRated}),(0,Et.jsx)($l,{title:"Action Movies",fetchUrl:xt.fetchActionMovies}),(0,Et.jsx)($l,{title:"Comedy Movies",fetchUrl:xt.fetchComedyMovies}),(0,Et.jsx)($l,{title:"Horror Movies",fetchUrl:xt.fetchHorrorMovies}),(0,Et.jsx)($l,{title:"Romance Movies",fetchUrl:xt.fetchRomanceMovies}),(0,Et.jsx)($l,{title:"Documentaries",fetchUrl:xt.fetchDocumentaries})]})};function Jl(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),Kt((function(e,t){var n=e.location;return Wt("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Ht(t)}),null,n)));var u=o.current,s=gt(t.useState({action:u.action,location:u.location}),2),c=s[0],l=s[1];return t.useLayoutEffect((function(){return u.listen(l)}),[u]),t.createElement(zn,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:u})}var Zl,ef;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Zl||(Zl={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ef||(ef={}));var tf=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},nf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tf(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},rf=function(e){return function(e){var t=tf(e);return nf.encodeByteArray(t,!0)}(e).replace(/\./g,"")},af=function(e){try{return nf.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function of(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=of(e[n],t[n]));return e}function uf(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function sf(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function cf(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function lf(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ff(){var e=uf();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function hf(){return"object"===typeof indexedDB}var df=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},pf=function(){return df()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),t=e&&af(e[1]);return t&&JSON.parse(t)}}()},vf=function(){var e;return null===(e=pf())||void 0===e?void 0:e.config},yf=function(){function e(){var t=this;Ct(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Pt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function mf(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[rf(JSON.stringify({alg:"none",type:"JWT"})),rf(JSON.stringify(a)),""].join(".")}var gf=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Lt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Lt(a),kf.prototype.create),a}return Pt(n)}(Ut(Error)),kf=function(){function e(t,n,r){Ct(this,e),this.service=t,this.serviceName=n,this.errors=r}return Pt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?bf(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new gf(n,a,t);return o}}]),e}();function bf(e,t){return e.replace(wf,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var wf=/\{\$([^}]+)}/g;function xf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ef(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Sf(u)&&Sf(s)){if(!Ef(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Sf(e){return null!==e&&"object"===typeof e}function _f(e){for(var t=[],n=function(){var e=gt(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function If(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=gt(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Tf(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Cf(e,t){var n=new Af(e,t);return n.subscribe.bind(n)}var Af=function(){function e(t,n){var r=this;Ct(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Pt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ir(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Pf),void 0===r.error&&(r.error=Pf),void 0===r.complete&&(r.complete=Pf);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Pf(){}function Nf(e){return e&&e._delegate?e._delegate:e}var Of=function(){function e(t,n,r){Ct(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Pt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Df="[DEFAULT]",Rf=function(){function e(t,n){Ct(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Pt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new yf;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Df})}catch(s){}var t,n=Ir(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=gt(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Df;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Tt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Tt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Df;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Df;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ir(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=gt(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ir(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(CR){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Df?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(CR){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Df;return this.component?this.component.multipleInstances?e:Df:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Lf,Mf,Ff=function(){function e(t){Ct(this,e),this.name=t,this.providers=new Map}return Pt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Rf(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Vf=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Mf||(Mf={}));var Uf={debug:Mf.DEBUG,verbose:Mf.VERBOSE,info:Mf.INFO,warn:Mf.WARN,error:Mf.ERROR,silent:Mf.SILENT},jf=Mf.INFO,Bf=(Te(Lf={},Mf.DEBUG,"log"),Te(Lf,Mf.VERBOSE,"log"),Te(Lf,Mf.INFO,"info"),Te(Lf,Mf.WARN,"warn"),Te(Lf,Mf.ERROR,"error"),Lf),zf=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Bf[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},qf=function(){function e(t){Ct(this,e),this.name=t,this._logLevel=jf,this._logHandler=zf,this._userLogHandler=null,Vf.push(this)}return Pt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Mf))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Uf[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mf.DEBUG].concat(t)),this._logHandler.apply(this,[this,Mf.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mf.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Mf.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mf.INFO].concat(t)),this._logHandler.apply(this,[this,Mf.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mf.WARN].concat(t)),this._logHandler.apply(this,[this,Mf.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mf.ERROR].concat(t)),this._logHandler.apply(this,[this,Mf.ERROR].concat(t))}}]),e}();var Wf,Hf;var Gf=new WeakMap,Kf=new WeakMap,Qf=new WeakMap,Yf=new WeakMap,$f=new WeakMap;var Xf={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Kf.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Qf.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eh(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Jf(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Hf||(Hf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(th(this),n),eh(Gf.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return eh(e.apply(th(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[th(this),t].concat(r));return Qf.set(a,t.sort?t.sort():[t]),eh(a)}}function Zf(e){return"function"===typeof e?Jf(e):(e instanceof IDBTransaction&&function(e){if(!Kf.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Kf.set(e,t)}}(e),t=e,(Wf||(Wf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Xf):e);var t}function eh(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(eh(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Gf.set(t,e)})).catch((function(){})),$f.set(t,e),t}(e);if(Yf.has(e))return Yf.get(e);var t=Zf(e);return t!==e&&(Yf.set(e,t),$f.set(t,e)),t}var th=function(e){return $f.get(e)};var nh,rh,ih=["get","getKey","getAll","getAllKeys","count"],ah=["put","add","delete","clear"],oh=new Map;function uh(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(oh.get(t))return oh.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ah.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ih.includes(n))){var a=function(){var e=dt(ft().mark((function e(t){var a,o,u,s,c,l,f=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return oh.set(t,a),a}}}Xf=function(e){return Ae(Ae({},e),{},{get:function(t,n,r){return uh(t,n)||e.get(t,n,r)},has:function(t,n){return!!uh(t,n)||e.has(t,n)}})}(Xf);var sh=function(){function e(t){Ct(this,e),this.container=t}return Pt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ch="@firebase/app",lh="0.8.1",fh=new qf("@firebase/app"),hh="[DEFAULT]",dh=(Te(nh={},ch,"fire-core"),Te(nh,"@firebase/app-compat","fire-core-compat"),Te(nh,"@firebase/analytics","fire-analytics"),Te(nh,"@firebase/analytics-compat","fire-analytics-compat"),Te(nh,"@firebase/app-check","fire-app-check"),Te(nh,"@firebase/app-check-compat","fire-app-check-compat"),Te(nh,"@firebase/auth","fire-auth"),Te(nh,"@firebase/auth-compat","fire-auth-compat"),Te(nh,"@firebase/database","fire-rtdb"),Te(nh,"@firebase/database-compat","fire-rtdb-compat"),Te(nh,"@firebase/functions","fire-fn"),Te(nh,"@firebase/functions-compat","fire-fn-compat"),Te(nh,"@firebase/installations","fire-iid"),Te(nh,"@firebase/installations-compat","fire-iid-compat"),Te(nh,"@firebase/messaging","fire-fcm"),Te(nh,"@firebase/messaging-compat","fire-fcm-compat"),Te(nh,"@firebase/performance","fire-perf"),Te(nh,"@firebase/performance-compat","fire-perf-compat"),Te(nh,"@firebase/remote-config","fire-rc"),Te(nh,"@firebase/remote-config-compat","fire-rc-compat"),Te(nh,"@firebase/storage","fire-gcs"),Te(nh,"@firebase/storage-compat","fire-gcs-compat"),Te(nh,"@firebase/firestore","fire-fst"),Te(nh,"@firebase/firestore-compat","fire-fst-compat"),Te(nh,"fire-js","fire-js"),Te(nh,"firebase","fire-js-all"),nh),ph=new Map,vh=new Map;function yh(e,t){try{e.container.addComponent(t)}catch(n){fh.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function mh(e,t){e.container.addOrOverwriteComponent(t)}function gh(e){var t=e.name;if(vh.has(t))return fh.debug("There were multiple attempts to register component ".concat(t,".")),!1;vh.set(t,e);var n,r=Ir(ph.values());try{for(r.s();!(n=r.n()).done;){yh(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function kh(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function bh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hh;kh(e,t).clearInstance(n)}function wh(){vh.clear()}var xh=(Te(rh={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Te(rh,"bad-app-name","Illegal App name: '{$appName}"),Te(rh,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Te(rh,"app-deleted","Firebase App named '{$appName}' already deleted"),Te(rh,"no-options","Need to provide options, when not being deployed to hosting via source."),Te(rh,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Te(rh,"invalid-log-argument","First argument to `onLog` must be null or a function."),Te(rh,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Te(rh,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Te(rh,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Te(rh,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),rh),Eh=new kf("app","Firebase",xh),Sh=function(){function e(t,n,r){var i=this;Ct(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Of("app",(function(){return i}),"PUBLIC"))}return Pt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Eh.create("app-deleted",{appName:this._name})}}]),e}(),_h="9.12.0";function Ih(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:hh,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Eh.create("bad-app-name",{appName:String(a)});if(n||(n=vf()),!n)throw Eh.create("no-options");var o=ph.get(a);if(o){if(Ef(n,o.options)&&Ef(i,o.config))return o;throw Eh.create("duplicate-app",{appName:a})}var u,s=new Ff(a),c=Ir(vh.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Sh(n,i,s);return ph.set(a,f),f}function Th(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hh,t=ph.get(e);if(!t&&e===hh)return Ih();if(!t)throw Eh.create("no-app",{appName:e});return t}function Ch(){return Array.from(ph.values())}function Ah(e){return Ph.apply(this,arguments)}function Ph(){return(Ph=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ph.has(n)){e.next=6;break}return ph.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nh(e,t,n){var r,i=null!==(r=dh[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void fh.warn(u.join(" "))}gh(new Of("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Oh(e,t){if(null!==e&&"function"!==typeof e)throw Eh.create("invalid-log-argument");!function(e,t){var n,r=Ir(Vf);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Uf[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Mf[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Dh(e){var t;t=e,Vf.forEach((function(e){e.setLogLevel(t)}))}var Rh="firebase-heartbeat-store",Lh=null;function Mh(){return Lh||(Lh=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=eh(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(eh(u.result),e.oldVersion,e.newVersion,eh(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Rh)}}).catch((function(e){throw Eh.create("idb-open",{originalErrorMessage:e.message})}))),Lh}function Fh(e){return Vh.apply(this,arguments)}function Vh(){return Vh=dt(ft().mark((function e(t){var n,r,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mh();case 3:return r=e.sent,e.abrupt("return",r.transaction(Rh).objectStore(Rh).get(Bh(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof gf?fh.warn(e.t0.message):(i=Eh.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),fh.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Vh.apply(this,arguments)}function Uh(e,t){return jh.apply(this,arguments)}function jh(){return jh=dt(ft().mark((function e(t,n){var r,i,a,o,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mh();case 3:return i=e.sent,a=i.transaction(Rh,"readwrite"),o=a.objectStore(Rh),e.next=8,o.put(n,Bh(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof gf?fh.warn(e.t0.message):(u=Eh.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),fh.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),jh.apply(this,arguments)}function Bh(e){return"".concat(e.name,"!").concat(e.options.appId)}var zh=function(){function e(t){var n=this;Ct(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Kh(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Pt(e,[{key:"triggerHeartbeat",value:function(){var e=dt(ft().mark((function e(){var t,n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=qh(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=dt(ft().mark((function e(){var t,n,r,i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=qh(),n=Wh(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=rf(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function qh(){return(new Date).toISOString().substring(0,10)}function Wh(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ir(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Qh(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Qh(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Hh,Gh,Kh=function(){function e(t){Ct(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Pt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hf()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Fh(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=dt(ft().mark((function e(t){var n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Uh(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=dt(ft().mark((function e(t){var n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Uh(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Tt(r.heartbeats),Tt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Qh(e){return rf(JSON.stringify({version:2,heartbeats:e})).length}Hh="",gh(new Of("platform-logger",(function(e){return new sh(e)}),"PRIVATE")),gh(new Of("heartbeat",(function(e){return new zh(e)}),"PRIVATE")),Nh(ch,lh,Hh),Nh(ch,lh,"esm2017"),Nh("fire-js","");var Yh=function(){function e(t,n){var r=this;Ct(this,e),this._delegate=t,this.firebase=n,yh(t,new Of("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Pt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ah(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hh;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hh;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){yh(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){mh(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),$h=(Te(Gh={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Te(Gh,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Gh),Xh=new kf("app-compat","Firebase",$h);var Jh=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ih(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(xf(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Nh,setLogLevel:Dh,onLog:Oh,apps:null,SDK_VERSION:_h,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(gh(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Xh.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&of(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!xf(n,e=e||hh))throw Xh.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Yh);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){of(n,e)},createSubscribe:Cf,ErrorFactory:kf,deepExtend:of}),n}(),Zh=new qf("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Zh.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ed=self.firebase.SDK_VERSION;ed&&ed.indexOf("LITE")>=0&&Zh.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var td=Jh;!function(e){Nh("@firebase/app-compat","0.1.36",e)}();var nd;function rd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dt(e)););return e}function id(){return id="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=rd(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},id.apply(this,arguments)}td.registerVersion("firebase","9.12.0","app-compat");var ad="facebook.com",od="github.com",ud="google.com",sd="password",cd="twitter.com",ld="EMAIL_SIGNIN",fd="PASSWORD_RESET",hd="RECOVER_EMAIL",dd="REVERT_SECOND_FACTOR_ADDITION",pd="VERIFY_AND_CHANGE_EMAIL",vd="VERIFY_EMAIL";function yd(){return Te({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var md=function(){var e;return Te(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Te(e,"argument-error",""),Te(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Te(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Te(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Te(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Te(e,"cordova-not-ready","Cordova framework is not ready."),Te(e,"cors-unsupported","This browser is not supported."),Te(e,"credential-already-in-use","This credential is already associated with a different user account."),Te(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Te(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Te(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Te(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Te(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Te(e,"email-already-in-use","The email address is already in use by another account."),Te(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Te(e,"expired-action-code","The action code has expired."),Te(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Te(e,"internal-error","An internal AuthError has occurred."),Te(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Te(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Te(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Te(e,"invalid-auth-event","An internal AuthError has occurred."),Te(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Te(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Te(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Te(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Te(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Te(e,"invalid-email","The email address is badly formatted."),Te(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Te(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Te(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Te(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Te(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Te(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Te(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Te(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Te(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Te(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Te(e,"wrong-password","The password is invalid or the user does not have a password."),Te(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Te(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Te(e,"invalid-provider-id","The specified provider ID is invalid."),Te(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Te(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Te(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Te(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Te(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Te(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Te(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Te(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Te(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Te(e,"missing-continue-uri","A continue URL must be provided in the request."),Te(e,"missing-iframe-start","An internal AuthError has occurred."),Te(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Te(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Te(e,"missing-multi-factor-info","No second factor identifier is provided."),Te(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Te(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Te(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Te(e,"app-deleted","This instance of FirebaseApp has been deleted."),Te(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Te(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Te(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Te(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Te(e,"no-auth-event","An internal AuthError has occurred."),Te(e,"no-such-provider","User was not linked to an account with the given provider."),Te(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Te(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Te(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Te(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Te(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Te(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Te(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Te(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Te(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Te(e,"rejected-credential","The request contains malformed or mismatching credentials."),Te(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Te(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Te(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Te(e,"timeout","The operation has timed out."),Te(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Te(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Te(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Te(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Te(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Te(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Te(e,"unverified-email","The operation requires a verified email."),Te(e,"user-cancelled","The user did not grant your application the permissions it requested."),Te(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Te(e,"user-disabled","The user account has been disabled by an administrator."),Te(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Te(e,"user-signed-out",""),Te(e,"weak-password","The password must be 6 characters long or more."),Te(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Te(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},gd=yd,kd=new kf("auth","Firebase",yd()),bd=new qf("@firebase/auth");function wd(e){if(bd.logLevel<=Mf.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];bd.error.apply(bd,["Auth (".concat(_h,"): ").concat(e)].concat(n))}}function xd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Id.apply(void 0,[e].concat(n))}function Ed(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Id.apply(void 0,[e].concat(n))}function Sd(e,t,n){var r=Object.assign(Object.assign({},gd()),Te({},t,n));return new kf("auth","Firebase",r).create(t,{appName:e.name})}function _d(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&xd(e,"argument-error"),Sd(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Id(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Tt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Tt(o)))}return kd.create.apply(kd,[e].concat(n))}function Td(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Id.apply(void 0,[t].concat(r))}}function Cd(e){var t="INTERNAL ASSERTION FAILED: "+e;throw wd(t),new Error(t)}function Ad(e,t){e||Cd(t)}var Pd=new Map;function Nd(e){Ad(e instanceof Function,"Expected a class definition");var t=Pd.get(e);return t?(Ad(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Pd.set(e,t),t)}function Od(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Dd(){return"http:"===Rd()||"https:"===Rd()}function Rd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ld=function(){function e(t,n){Ct(this,e),this.shortDelay=t,this.longDelay=n,Ad(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(uf())||lf()}return Pt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Dd()||cf()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Md(e,t){Ad(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Fd=function(){function e(){Ct(this,e)}return Pt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Cd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Cd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Cd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Vd=(Te(nd={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Te(nd,"MISSING_CUSTOM_TOKEN","internal-error"),Te(nd,"INVALID_IDENTIFIER","invalid-email"),Te(nd,"MISSING_CONTINUE_URI","internal-error"),Te(nd,"INVALID_PASSWORD","wrong-password"),Te(nd,"MISSING_PASSWORD","internal-error"),Te(nd,"EMAIL_EXISTS","email-already-in-use"),Te(nd,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Te(nd,"INVALID_IDP_RESPONSE","invalid-credential"),Te(nd,"INVALID_PENDING_TOKEN","invalid-credential"),Te(nd,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Te(nd,"MISSING_REQ_TYPE","internal-error"),Te(nd,"EMAIL_NOT_FOUND","user-not-found"),Te(nd,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Te(nd,"EXPIRED_OOB_CODE","expired-action-code"),Te(nd,"INVALID_OOB_CODE","invalid-action-code"),Te(nd,"MISSING_OOB_CODE","internal-error"),Te(nd,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Te(nd,"INVALID_ID_TOKEN","invalid-user-token"),Te(nd,"TOKEN_EXPIRED","user-token-expired"),Te(nd,"USER_NOT_FOUND","user-token-expired"),Te(nd,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Te(nd,"INVALID_CODE","invalid-verification-code"),Te(nd,"INVALID_SESSION_INFO","invalid-verification-id"),Te(nd,"INVALID_TEMPORARY_PROOF","invalid-credential"),Te(nd,"MISSING_SESSION_INFO","missing-verification-id"),Te(nd,"SESSION_EXPIRED","code-expired"),Te(nd,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Te(nd,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Te(nd,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Te(nd,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Te(nd,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Te(nd,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Te(nd,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Te(nd,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Te(nd,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Te(nd,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Te(nd,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),nd),Ud=new Ld(3e4,6e4);function jd(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Bd(e,t,n,r){return zd.apply(this,arguments)}function zd(){return zd=dt(ft().mark((function e(t,n,r,i){var a,o=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",qd(t,a,dt(ft().mark((function e(){var a,o,u,s;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=_f(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Fd.fetch()(Kd(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),zd.apply(this,arguments)}function qd(e,t,n){return Wd.apply(this,arguments)}function Wd(){return Wd=dt(ft().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Vd),n),e.prev=2,a=new Qd(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Yd(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=gt(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Yd(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Yd(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Yd(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Sd(t,d,h);case 34:xd(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof gf)){e.next=41;break}throw e.t0;case 41:xd(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Wd.apply(this,arguments)}function Hd(e,t,n,r){return Gd.apply(this,arguments)}function Gd(){return Gd=dt(ft().mark((function e(t,n,r,i){var a,o,u=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Bd(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&xd(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Gd.apply(this,arguments)}function Kd(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Md(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Qd=function(){function e(t){var n=this;Ct(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ed(n.auth,"network-request-failed"))}),Ud.get())}))}return Pt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Yd(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ed(e,t,r);return i.customData._tokenResponse=n,i}function $d(e,t){return Xd.apply(this,arguments)}function Xd(){return Xd=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Xd.apply(this,arguments)}function Jd(e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Zd.apply(this,arguments)}function ep(e,t){return tp.apply(this,arguments)}function tp(){return tp=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}function np(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function rp(){return rp=dt(ft().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Nf(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Td((a=ap(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:np(ip(a.auth_time)),issuedAtTime:np(ip(a.iat)),expirationTime:np(ip(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),rp.apply(this,arguments)}function ip(e){return 1e3*Number(e)}function ap(e){var t,n=gt(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return wd("JWT malformed, contained fewer than 3 sections"),null;try{var o=af(i);return o?JSON.parse(o):(wd("Failed to decode base64 JWT payload"),null)}catch(u){return wd("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function op(e,t){return up.apply(this,arguments)}function up(){return up=dt(ft().mark((function e(t,n){var r=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof gf&&sp(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),up.apply(this,arguments)}function sp(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var cp=function(){function e(t){Ct(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Pt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(dt(ft().mark((function t(){return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),lp=function(){function e(t,n){Ct(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Pt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=np(this.lastLoginAt),this.creationTime=np(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function fp(e){return hp.apply(this,arguments)}function hp(){return hp=dt(ft().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,op(t,ep(r,{idToken:i}));case 6:Td(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?vp(o.providerUserInfo):[],s=pp(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),hp.apply(this,arguments)}function dp(){return(dp=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nf(t),e.next=3,fp(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pp(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Tt(n),Tt(t))}function vp(e){return e.map((function(e){var t=e.providerId,n=pa(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function yp(e,t){return mp.apply(this,arguments)}function mp(){return mp=dt(ft().mark((function e(t,n){var r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qd(t,{},dt(ft().mark((function e(){var r,i,a,o,u,s;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Kd(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Fd.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),mp.apply(this,arguments)}var gp=function(){function e(){Ct(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Pt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Td(e.idToken,"internal-error"),Td("undefined"!==typeof e.idToken,"internal-error"),Td("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ap(e);return Td(t,"internal-error"),Td("undefined"!==typeof t.exp,"internal-error"),Td("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=dt(ft().mark((function e(t){var n,r=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Td(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=dt(ft().mark((function e(t,n){var r,i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yp(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Cd("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Td("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Td("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Td("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function kp(e,t){Td("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var bp=function(){function e(t){Ct(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=pa(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Tt(a.providerData):[],this.metadata=new lp(a.createdAt||void 0,a.lastLoginAt||void 0)}return Pt(e,[{key:"getIdToken",value:function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,op(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Td(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return rp.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return dp.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Td(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Td(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=dt(ft().mark((function e(t){var n,r,i=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,fp(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,op(this,$d(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;Td(k&&E,t,"internal-error");var S=gp.fromJSON(this.name,E);Td("string"===typeof k,t,"internal-error"),kp(f,t.name),kp(h,t.name),Td("boolean"===typeof b,t,"internal-error"),Td("boolean"===typeof w,t,"internal-error"),kp(d,t.name),kp(p,t.name),kp(v,t.name),kp(y,t.name),kp(m,t.name),kp(g,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(_._redirectEventId=y),_}},{key:"_fromIdTokenResponse",value:function(){var t=dt(ft().mark((function t(n,r){var i,a,o,u=arguments;return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new gp).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,fp(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),wp=function(){function e(){Ct(this,e),this.type="NONE",this.storage={}}return Pt(e,[{key:"_isAvailable",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();wp.type="NONE";var xp=wp;function Ep(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Sp=function(){function e(t,n,r){Ct(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ep(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ep("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Pt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?bp._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=dt(ft().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Nd(xp),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Nd(xp),u=Ep(i,n.config.apiKey,n.name),s=null,c=Ir(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=bp._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function _p(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ap(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ip(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Np(t))return"Blackberry";if(Op(t))return"Webos";if(Tp(t))return"Safari";if((t.includes("chrome/")||Cp(t))&&!t.includes("edge/"))return"Chrome";if(Pp(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ip(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf();return/firefox\//i.test(e)}function Tp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Cp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf();return/crios\//i.test(e)}function Ap(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf();return/iemobile/i.test(e)}function Pp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf();return/android/i.test(e)}function Np(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf();return/blackberry/i.test(e)}function Op(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf();return/webos/i.test(e)}function Dp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Rp(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf();return Dp(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Lp(){return ff()&&10===document.documentMode}function Mp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf();return Dp(e)||Pp(e)||Op(e)||Np(e)||/windows phone/i.test(e)||Ap(e)}function Fp(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=_p(uf());break;case"Worker":t="".concat(_p(uf()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(_h,"/").concat(r)}var Vp=function(){function e(t){Ct(this,e),this.auth=t,this.queue=[]}return Pt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=dt(ft().mark((function e(t){var n,r,i,a,o,u,s,c;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Ir(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Ir(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(W){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Up=function(){function e(t,n,r){Ct(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bp(this),this.idTokenSubscription=new Bp(this),this.beforeStateQueue=new Vp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kd,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Pt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Nd(t)),this._initializationPromise=this.queue(dt(ft().mark((function r(){var i,a;return ft().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Sp.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=dt(ft().mark((function e(t){var n,r,i,a,o,u,s;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Td(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fp(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Nf(t):null)&&Td(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=dt(ft().mark((function e(t){var n,r=this,i=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Td(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(dt(ft().mark((function n(){return ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Nd(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new kf("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=dt(ft().mark((function e(t,n){var r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Td(n=t&&Nd(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Sp.create(this,[Nd(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=dt(ft().mark((function e(t){var n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=dt(ft().mark((function e(t){var n=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Td(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Td(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fp(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=dt(ft().mark((function e(){var t,n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Te({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jp(e){return Nf(e)}var Bp=function(){function e(t){var n=this;Ct(this,e),this.auth=t,this.observer=null,this.addObserver=Cf((function(e){return n.observer=e}))}return Pt(e,[{key:"next",get:function(){return Td(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function zp(e,t,n){var r=jp(e);Td(r._canInitEmulator,r,"emulator-config-failed"),Td(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=qp(t),o=function(e){var t=qp(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Wp(r.substr(a.length+1))}}var o=gt(r.split(":"),2);return{host:o[0],port:Wp(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function qp(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Wp(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Hp=function(){function e(t,n){Ct(this,e),this.providerId=t,this.signInMethod=n}return Pt(e,[{key:"toJSON",value:function(){return Cd("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Cd("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Cd("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Cd("not implemented")}}]),e}();function Gp(e,t){return Kp.apply(this,arguments)}function Kp(){return Kp=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(t,"POST","/v1/accounts:resetPassword",jd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Kp.apply(this,arguments)}function Qp(e,t){return Yp.apply(this,arguments)}function Yp(){return Yp=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Yp.apply(this,arguments)}function $p(e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(t,"POST","/v1/accounts:update",jd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xp.apply(this,arguments)}function Jp(e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(t,"POST","/v1/accounts:signInWithPassword",jd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zp.apply(this,arguments)}function ev(e,t){return tv.apply(this,arguments)}function tv(){return tv=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(t,"POST","/v1/accounts:sendOobCode",jd(t,n)));case 1:case"end":return e.stop()}}),e)}))),tv.apply(this,arguments)}function nv(e,t){return rv.apply(this,arguments)}function rv(){return rv=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ev(t,n));case 1:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}function iv(e,t){return av.apply(this,arguments)}function av(){return av=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ev(t,n));case 1:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}function ov(e,t){return uv.apply(this,arguments)}function uv(){return uv=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ev(t,n));case 1:case"end":return e.stop()}}),e)}))),uv.apply(this,arguments)}function sv(e,t){return cv.apply(this,arguments)}function cv(){return cv=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ev(t,n));case 1:case"end":return e.stop()}}),e)}))),cv.apply(this,arguments)}function lv(e,t){return fv.apply(this,arguments)}function fv(){return fv=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(t,"POST","/v1/accounts:signInWithEmailLink",jd(t,n)));case 1:case"end":return e.stop()}}),e)}))),fv.apply(this,arguments)}function hv(e,t){return dv.apply(this,arguments)}function dv(){return dv=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(t,"POST","/v1/accounts:signInWithEmailLink",jd(t,n)));case 1:case"end":return e.stop()}}),e)}))),dv.apply(this,arguments)}var pv=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ct(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Pt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Jp(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",lv(t,{email:this._email,oobCode:this._password}));case 5:xd(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Qp(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",hv(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:xd(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Hp);function vv(e,t){return yv.apply(this,arguments)}function yv(){return yv=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(t,"POST","/v1/accounts:signInWithIdp",jd(t,n)));case 1:case"end":return e.stop()}}),e)}))),yv.apply(this,arguments)}var mv=function(e){Ot(n,e);var t=Ft(n);function n(){var e;return Ct(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Pt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return vv(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,vv(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,vv(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_f(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xd("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=pa(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Hp);function gv(e,t){return kv.apply(this,arguments)}function kv(){return kv=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(t,"POST","/v1/accounts:sendVerificationCode",jd(t,n)));case 1:case"end":return e.stop()}}),e)}))),kv.apply(this,arguments)}function bv(){return bv=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(t,"POST","/v1/accounts:signInWithPhoneNumber",jd(t,n)));case 1:case"end":return e.stop()}}),e)}))),bv.apply(this,arguments)}function wv(){return wv=dt(ft().mark((function e(t,n){var r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hd(t,"POST","/v1/accounts:signInWithPhoneNumber",jd(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Yd(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}var xv=Te({},"USER_NOT_FOUND","user-not-found");function Ev(){return Ev=dt(ft().mark((function e(t,n){var r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Hd(t,"POST","/v1/accounts:signInWithPhoneNumber",jd(t,r),xv));case 2:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}var Sv=function(e){Ot(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Pt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return bv.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return wv.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ev.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Hp);var _v=function(){function e(t){var n,r,i,a,o,u;Ct(this,e);var s=If(Tf(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Td(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Pt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=If(Tf(e)).link,n=t?If(Tf(t)).deep_link_id:null,r=If(Tf(e)).deep_link_id;return(r?If(Tf(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(CR){return null}}}]),e}();var Iv=function(){function e(){Ct(this,e),this.providerId=e.PROVIDER_ID}return Pt(e,null,[{key:"credential",value:function(e,t){return pv._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=_v.parseLink(t);return Td(n,"argument-error"),pv._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Iv.PROVIDER_ID="password",Iv.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Iv.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Tv=function(){function e(t){Ct(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Pt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Cv=function(e){Ot(n,e);var t=Ft(n);function n(){var e;return Ct(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Pt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Tt(this.scopes)}}]),n}(Tv),Av=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return Pt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Td(e.idToken||e.accessToken,"argument-error"),mv._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Td("providerId"in t&&"signInMethod"in t,"argument-error"),mv._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Cv),Pv=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.call(this,"facebook.com")}return Pt(n,null,[{key:"credential",value:function(e){return mv._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(CR){return null}}}]),n}(Cv);Pv.FACEBOOK_SIGN_IN_METHOD="facebook.com",Pv.PROVIDER_ID="facebook.com";var Nv=function(e){Ot(n,e);var t=Ft(n);function n(){var e;return Ct(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Pt(n,null,[{key:"credential",value:function(e,t){return mv._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(CR){return null}}}]),n}(Cv);Nv.GOOGLE_SIGN_IN_METHOD="google.com",Nv.PROVIDER_ID="google.com";var Ov=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.call(this,"github.com")}return Pt(n,null,[{key:"credential",value:function(e){return mv._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(CR){return null}}}]),n}(Cv);Ov.GITHUB_SIGN_IN_METHOD="github.com",Ov.PROVIDER_ID="github.com";var Dv=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Pt(n,[{key:"_getIdTokenResponse",value:function(e){return vv(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,vv(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,vv(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Hp),Rv=function(e){Ot(n,e);var t=Ft(n);function n(e){return Ct(this,n),Td(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Pt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Dv.fromJSON(e);return Td(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Dv._create(r,n)}catch(i){return null}}}]),n}(Tv),Lv=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.call(this,"twitter.com")}return Pt(n,null,[{key:"credential",value:function(e,t){return mv._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(CR){return null}}}]),n}(Cv);function Mv(e,t){return Fv.apply(this,arguments)}function Fv(){return Fv=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(t,"POST","/v1/accounts:signUp",jd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fv.apply(this,arguments)}Lv.TWITTER_SIGN_IN_METHOD="twitter.com",Lv.PROVIDER_ID="twitter.com";var Vv=function(){function e(t){Ct(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Pt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=dt(ft().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,bp._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Uv(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=dt(ft().mark((function t(n,r,i){var a;return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Uv(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Uv(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function jv(){return jv=dt(ft().mark((function e(t){var n,r,i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jp(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Vv({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Mv(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Vv._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}var Bv=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i,a){var o,u;return Ct(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Lt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Pt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(gf);function zv(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Bv._fromErrorAndOperation(e,n,t,r);throw n}))}function qv(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Wv(e,t){return Hv.apply(this,arguments)}function Hv(){return Hv=dt(ft().mark((function e(t,n){var r,i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nf(t),e.next=3,Qv(!0,r,n);case 3:return e.t0=Jd,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=qv(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Hv.apply(this,arguments)}function Gv(e,t){return Kv.apply(this,arguments)}function Kv(){return Kv=dt(ft().mark((function e(t,n){var r,i,a=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=op,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Vv._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Kv.apply(this,arguments)}function Qv(e,t,n){return Yv.apply(this,arguments)}function Yv(){return(Yv=dt(ft().mark((function e(t,n,r){var i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fp(n);case 2:i=qv(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Td(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $v(e,t){return Xv.apply(this,arguments)}function Xv(){return Xv=dt(ft().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,op(t,zv(a,o,n,t),r);case 6:return Td((u=e.sent).idToken,a,"internal-error"),Td(s=ap(u.idToken),a,"internal-error"),c=s.sub,Td(t.uid===c,a,"user-mismatch"),e.abrupt("return",Vv._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&xd(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Xv.apply(this,arguments)}function Jv(e,t){return Zv.apply(this,arguments)}function Zv(){return Zv=dt(ft().mark((function e(t,n){var r,i,a,o,u=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,zv(t,i,n);case 4:return a=e.sent,e.next=7,Vv._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Zv.apply(this,arguments)}function ey(e,t){return ty.apply(this,arguments)}function ty(){return ty=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jv(jp(t),n));case 1:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e,t){return ry.apply(this,arguments)}function ry(){return(ry=dt(ft().mark((function e(t,n){var r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nf(t),e.next=3,Qv(!1,r,n.providerId);case 3:return e.abrupt("return",Gv(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iy(e,t){return ay.apply(this,arguments)}function ay(){return(ay=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$v(Nf(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oy(e,t){return uy.apply(this,arguments)}function uy(){return uy=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(t,"POST","/v1/accounts:signInWithCustomToken",jd(t,n)));case 1:case"end":return e.stop()}}),e)}))),uy.apply(this,arguments)}function sy(){return sy=dt(ft().mark((function e(t,n){var r,i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jp(t),e.next=3,oy(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Vv._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),sy.apply(this,arguments)}var cy=function(){function e(t,n){Ct(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Pt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ly._fromServerResponse(e,t):xd(e,"internal-error")}}]),e}(),ly=function(e){Ot(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Pt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(cy);function fy(e,t,n){var r;Td((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Td("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Td(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Td(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function hy(){return hy=dt(ft().mark((function e(t,n,r){var i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nf(t),a={requestType:"PASSWORD_RESET",email:n},r&&fy(i,a,r),e.next=5,iv(i,a);case 5:case"end":return e.stop()}}),e)}))),hy.apply(this,arguments)}function dy(){return dy=dt(ft().mark((function e(t,n,r){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gp(Nf(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),dy.apply(this,arguments)}function py(){return py=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$p(Nf(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),py.apply(this,arguments)}function vy(e,t){return yy.apply(this,arguments)}function yy(){return yy=dt(ft().mark((function e(t,n){var r,i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nf(t),e.next=3,Gp(r,{oobCode:n});case 3:i=e.sent,Td(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Td(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Td(i.mfaInfo,r,"internal-error");case 13:Td(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=cy._fromServerResponse(jp(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),yy.apply(this,arguments)}function my(){return my=dt(ft().mark((function e(t,n){var r,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vy(Nf(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),my.apply(this,arguments)}function gy(e,t,n){return ky.apply(this,arguments)}function ky(){return ky=dt(ft().mark((function e(t,n,r){var i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jp(t),e.next=3,Mv(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Vv._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),ky.apply(this,arguments)}function by(){return by=dt(ft().mark((function e(t,n,r){var i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nf(t),a={requestType:"EMAIL_SIGNIN",email:n},Td(r.handleCodeInApp,i,"argument-error"),r&&fy(i,a,r),e.next=6,ov(i,a);case 6:case"end":return e.stop()}}),e)}))),by.apply(this,arguments)}function wy(){return wy=dt(ft().mark((function e(t,n,r){var i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nf(t),Td((a=Iv.credentialWithLink(n,r||Od()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ey(i,a));case 4:case"end":return e.stop()}}),e)}))),wy.apply(this,arguments)}function xy(e,t){return Ey.apply(this,arguments)}function Ey(){return Ey=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(t,"POST","/v1/accounts:createAuthUri",jd(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ey.apply(this,arguments)}function Sy(){return Sy=dt(ft().mark((function e(t,n){var r,i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dd()?Od():"http://localhost",i={identifier:n,continueUri:r},e.next=4,xy(Nf(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Sy.apply(this,arguments)}function _y(){return(_y=dt(ft().mark((function e(t,n){var r,i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nf(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&fy(r.auth,a,n),e.next=8,nv(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iy(){return(Iy=dt(ft().mark((function e(t,n,r){var i,a,o,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nf(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&fy(i.auth,o,r),e.next=8,sv(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ty(e,t){return Cy.apply(this,arguments)}function Cy(){return Cy=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Cy.apply(this,arguments)}function Ay(){return(Ay=dt(ft().mark((function e(t,n){var r,i,a,o,u,s,c;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Nf(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,op(a,Ty(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Py(e,t,n){return Ny.apply(this,arguments)}function Ny(){return Ny=dt(ft().mark((function e(t,n,r){var i,a,o,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,op(t,Qp(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Ny.apply(this,arguments)}var Oy=Pt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ct(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Dy=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i,a){var o;return Ct(this,n),(o=t.call(this,e,r,i)).username=a,o}return Pt(n)}(Oy),Ry=function(e){Ot(n,e);var t=Ft(n);function n(e,r){return Ct(this,n),t.call(this,e,"facebook.com",r)}return Pt(n)}(Oy),Ly=function(e){Ot(n,e);var t=Ft(n);function n(e,r){return Ct(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Pt(n)}(Dy),My=function(e){Ot(n,e);var t=Ft(n);function n(e,r){return Ct(this,n),t.call(this,e,"google.com",r)}return Pt(n)}(Oy),Fy=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i){return Ct(this,n),t.call(this,e,"twitter.com",r,i)}return Pt(n)}(Dy);function Vy(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ap(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Oy(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ry(a,i);case"github.com":return new Ly(a,i);case"google.com":return new My(a,i);case"twitter.com":return new Fy(a,i,e.screenName||null);case"custom":case"anonymous":return new Oy(a,null);default:return new Oy(a,r,i)}}(n)}var Uy=function(){function e(t,n,r){Ct(this,e),this.type=t,this.credential=n,this.auth=r}return Pt(e,[{key:"toJSON",value:function(){return{multiFactorSession:Te({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),jy=function(){function e(t,n,r){Ct(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Pt(e,[{key:"resolveSignIn",value:function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=jp(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return cy._fromServerResponse(r,e)}));Td(i.mfaPendingCredential,r,"internal-error");var o=Uy._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=dt(ft().mark((function e(t){var a,u,s;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Vv._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Td(n.user,r,"internal-error"),e.abrupt("return",Vv._forOperation(n.user,n.operationType,u));case 17:xd(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function By(e,t){return Bd(e,"POST","/v2/accounts/mfaEnrollment:start",jd(e,t))}function zy(e,t){return Bd(e,"POST","/v2/accounts/mfaEnrollment:withdraw",jd(e,t))}var qy=function(){function e(t){var n=this;Ct(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return cy._fromServerResponse(t.auth,e)})))}))}return Pt(e,[{key:"getSession",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uy,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=dt(ft().mark((function e(t,n){var r,i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,op(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=dt(ft().mark((function e(t){var n,r,i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,op(this.user,zy(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Wy=new WeakMap;var Hy="__sak",Gy=function(){function e(t,n){Ct(this,e),this.storageRetriever=t,this.type=n}return Pt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Hy,"1"),this.storage.removeItem(Hy),Promise.resolve(!0)):Promise.resolve(!1)}catch(CR){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ky=function(e){Ot(n,e);var t=Ft(n);function n(){var e;return Ct(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=uf();return Tp(e)||Dp(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Mp(),e._shouldAllowMigration=!0,e}return Pt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Lp()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=dt(ft().mark((function e(t,r){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,id(Dt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=dt(ft().mark((function e(t){var r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,id(Dt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,id(Dt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Gy);Ky.type="LOCAL";var Qy=Ky,Yy=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Pt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Gy);Yy.type="SESSION";var $y=Yy;function Xy(e){return Promise.all(e.map(function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Jy=function(){function e(t){Ct(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Pt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=dt(ft().mark((function e(t){var n,r,i,a,o,u,s,c;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Xy(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Zy(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Jy.receivers=[];var em=function(){function e(t){Ct(this,e),this.target=t,this.handlers=new Set}return Pt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=dt(ft().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Zy("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function tm(){return window}function nm(){return"undefined"!==typeof tm().WorkerGlobalScope&&"function"===typeof tm().importScripts}function rm(){return im.apply(this,arguments)}function im(){return(im=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function am(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var om="firebaseLocalStorageDb",um="firebaseLocalStorage",sm="fbase_key",cm=function(){function e(t){Ct(this,e),this.request=t}return Pt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function lm(e,t){return e.transaction([um],t?"readwrite":"readonly").objectStore(um)}function fm(){var e=indexedDB.deleteDatabase(om);return new cm(e).toPromise()}function hm(){var e=indexedDB.open(om,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(um,{keyPath:sm})}catch(r){n(r)}})),e.addEventListener("success",dt(ft().mark((function n(){var r;return ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(um)){n.next=12;break}return r.close(),n.next=5,fm();case 5:return n.t0=t,n.next=8,hm();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function dm(e,t,n){return pm.apply(this,arguments)}function pm(){return pm=dt(ft().mark((function e(t,n,r){var i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=lm(t,!0).put((Te(i={},sm,n),Te(i,"value",r),i)),e.abrupt("return",new cm(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e,t){return ym.apply(this,arguments)}function ym(){return ym=dt(ft().mark((function e(t,n){var r,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lm(t,!1).get(n),e.next=3,new cm(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ym.apply(this,arguments)}function mm(e,t){var n=lm(e,!0).delete(t);return new cm(n).toPromise()}var gm=function(){function e(){Ct(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Pt(e,[{key:"_openDb",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,hm();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=dt(ft().mark((function e(t){var n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nm()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=dt(ft().mark((function e(){var t=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Jy._getInstance(nm()?self:null),this.receiver._subscribe("keyChanged",function(){var e=dt(ft().mark((function e(n,r){var i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=dt(ft().mark((function e(){var t,n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rm();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new em(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&am()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,hm();case 5:return t=e.sent,e.next=8,dm(t,Hy,"1");case 8:return e.next=10,mm(t,Hy);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=dt(ft().mark((function e(t,n){var r=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return dm(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return vm(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=dt(ft().mark((function e(t){var n=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return mm(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=dt(ft().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=lm(e,!1).getAll();return new cm(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ir(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(dt(ft().mark((function t(){return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();gm.type="LOCAL";var km=gm;function bm(e,t){return Bd(e,"POST","/v2/accounts/mfaSignIn:start",jd(e,t))}function wm(e){return xm.apply(this,arguments)}function xm(){return xm=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bd(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),xm.apply(this,arguments)}function Em(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ed("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Sm(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var _m=1e12,Im=function(){function e(t){Ct(this,e),this.auth=t,this.counter=_m,this._widgets=new Map}return Pt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Tm(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||_m;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||_m;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=dt(ft().mark((function e(t){var n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||_m,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Tm=function(){function e(t,n,r){var i=this;Ct(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Td(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Pt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Cm=Sm("rcb"),Am=new Ld(3e4,6e4),Pm="https://www.google.com/recaptcha/api.js?",Nm=function(){function e(){var t;Ct(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=tm().grecaptcha)||void 0===t?void 0:t.render)}return Pt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Td(Om(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(tm().grecaptcha):new Promise((function(r,i){var a=tm().setTimeout((function(){i(Ed(e,"network-request-failed"))}),Am.get());tm()[Cm]=function(){tm().clearTimeout(a),delete tm()[Cm];var o=tm().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ed(e,"internal-error"))},Em("".concat(Pm,"?").concat(_f({onload:Cm,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ed(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=tm().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Om(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Dm=function(){function e(){Ct(this,e)}return Pt(e,[{key:"load",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Im(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Rm="recaptcha",Lm={theme:"light",type:"image"},Mm=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Lm),r=arguments.length>2?arguments[2]:void 0;Ct(this,e),this.parameters=n,this.type=Rm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jp(r),this.isInvisible="invisible"===this.parameters.size,Td("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Td(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Dm:new Nm,this.validateStartingState()}return Pt(e,[{key:"verify",value:function(){var e=dt(ft().mark((function e(){var t,n,r,i=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Td(!this.parameters.sitekey,this.auth,"argument-error"),Td(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Td("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=tm()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Td(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=dt(ft().mark((function e(){var t,n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Td(Dd()&&!nm(),this.auth,"internal-error"),e.next=3,Fm();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,wm(this.auth);case 8:Td(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Td(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Fm(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Vm=function(){function e(t,n){Ct(this,e),this.verificationId=t,this.onConfirmation=n}return Pt(e,[{key:"confirm",value:function(e){var t=Sv._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Um(){return Um=dt(ft().mark((function e(t,n,r){var i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jp(t),e.next=3,qm(i,n,Nf(r));case 3:return a=e.sent,e.abrupt("return",new Vm(a,(function(e){return ey(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Um.apply(this,arguments)}function jm(e,t,n){return Bm.apply(this,arguments)}function Bm(){return(Bm=dt(ft().mark((function e(t,n,r){var i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nf(t),e.next=3,Qv(!1,i,"phone");case 3:return e.next=5,qm(i.auth,n,Nf(r));case 5:return a=e.sent,e.abrupt("return",new Vm(a,(function(e){return ny(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zm(){return(zm=dt(ft().mark((function e(t,n,r){var i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nf(t),e.next=3,qm(i.auth,n,Nf(r));case 3:return a=e.sent,e.abrupt("return",new Vm(a,(function(e){return iy(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qm(e,t,n){return Wm.apply(this,arguments)}function Wm(){return Wm=dt(ft().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Td("string"===typeof a,t,"argument-error"),Td(r.type===Rm,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Td("enroll"===u.type,t,"internal-error"),e.next=13,By(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Td("signin"===u.type,t,"internal-error"),Td(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,bm(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,gv(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Wm.apply(this,arguments)}function Hm(){return(Hm=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gv(Nf(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gm=function(){function e(t){Ct(this,e),this.providerId=e.PROVIDER_ID,this.auth=jp(t)}return Pt(e,[{key:"verifyPhoneNumber",value:function(e,t){return qm(this.auth,e,Nf(t))}}],[{key:"credential",value:function(e,t){return Sv._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Sv._fromTokenResponse(n,r):null}}]),e}();function Km(e,t){return t?Nd(t):(Td(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Gm.PROVIDER_ID="phone",Gm.PHONE_SIGN_IN_METHOD="phone";var Qm=function(e){Ot(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Pt(n,[{key:"_getIdTokenResponse",value:function(e){return vv(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return vv(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return vv(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Hp);function Ym(e){return Jv(e.auth,new Qm(e),e.bypassAuthState)}function $m(e){var t=e.auth,n=e.user;return Td(n,t,"internal-error"),$v(n,new Qm(e),e.bypassAuthState)}function Xm(e){return Jm.apply(this,arguments)}function Jm(){return Jm=dt(ft().mark((function e(t){var n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Td(r=t.user,n,"internal-error"),e.abrupt("return",Gv(r,new Qm(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Jm.apply(this,arguments)}var Zm=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ct(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Pt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=dt(ft().mark((function t(n,r){return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=dt(ft().mark((function e(t){var n,r,i,a,o,u,s;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ym;case"linkViaPopup":case"linkViaRedirect":return Xm;case"reauthViaPopup":case"reauthViaRedirect":return $m;default:xd(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ad(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ad(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),eg=new Ld(2e3,1e4);function tg(e,t,n){return ng.apply(this,arguments)}function ng(){return ng=dt(ft().mark((function e(t,n,r){var i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jp(t),_d(t,n,Tv),a=Km(i,r),o=new og(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ng.apply(this,arguments)}function rg(){return(rg=dt(ft().mark((function e(t,n,r){var i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _d((i=Nf(t)).auth,n,Tv),a=Km(i.auth,r),o=new og(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ig(e,t,n){return ag.apply(this,arguments)}function ag(){return(ag=dt(ft().mark((function e(t,n,r){var i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _d((i=Nf(t)).auth,n,Tv),a=Km(i.auth,r),o=new og(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var og=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i,a,o){var u;return Ct(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Lt(u),u}return Pt(n,[{key:"executeNotNull",value:function(){var e=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Td(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=dt(ft().mark((function e(){var t,n=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ad(1===this.filter.length,"Popup operations only handle one event"),t=Zy(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ed(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ed(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ed(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,eg.get())}()}}]),n}(Zm);og.currentPopupAction=null;var ug=new Map,sg=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ct(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Pt(n,[{key:"execute",value:function(){var e=dt(ft().mark((function e(){var t,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ug.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,cg(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,id(Dt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ug.set(this.auth._key(),t);case 21:return this.bypassAuthState||ug.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=dt(ft().mark((function e(t){var r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",id(Dt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",id(Dt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Zm);function cg(e,t){return lg.apply(this,arguments)}function lg(){return lg=dt(ft().mark((function e(t,n){var r,i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vg(n),i=pg(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function fg(e,t){return hg.apply(this,arguments)}function hg(){return hg=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pg(t)._set(vg(n),"true"));case 1:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function dg(e,t){ug.set(e._key(),t)}function pg(e){return Nd(e._redirectPersistence)}function vg(e){return Ep("pendingRedirect",e.config.apiKey,e.name)}function yg(e,t,n){return function(e,t,n){return mg.apply(this,arguments)}(e,t,n)}function mg(){return mg=dt(ft().mark((function e(t,n,r){var i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jp(t),_d(t,n,Tv),a=Km(i,r),e.next=5,fg(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),mg.apply(this,arguments)}function gg(e,t,n){return function(e,t,n){return kg.apply(this,arguments)}(e,t,n)}function kg(){return(kg=dt(ft().mark((function e(t,n,r){var i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _d((i=Nf(t)).auth,n,Tv),a=Km(i.auth,r),e.next=5,fg(a,i.auth);case 5:return e.next=7,Ig(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bg(e,t,n){return function(e,t,n){return wg.apply(this,arguments)}(e,t,n)}function wg(){return(wg=dt(ft().mark((function e(t,n,r){var i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _d((i=Nf(t)).auth,n,Tv),a=Km(i.auth,r),e.next=5,Qv(!1,i,n.providerId);case 5:return e.next=7,fg(a,i.auth);case 7:return e.next=9,Ig(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xg(e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jp(t)._initializationPromise;case 2:return e.abrupt("return",Sg(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}function Sg(e,t){return _g.apply(this,arguments)}function _g(){return _g=dt(ft().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=jp(t),a=Km(i,n),o=new sg(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),_g.apply(this,arguments)}function Ig(e){return Tg.apply(this,arguments)}function Tg(){return(Tg=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zy("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cg=function(){function e(t){Ct(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Pt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pg(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Pg(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ed(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ag(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ag(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ag(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Pg(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Ng(e){return Og.apply(this,arguments)}function Og(){return Og=dt(ft().mark((function e(t){var n,r=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Bd(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Og.apply(this,arguments)}var Dg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rg=/^https?/;function Lg(){return Lg=dt(ft().mark((function e(t){var n,r,i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ng(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ir(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Mg(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:xd(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Lg.apply(this,arguments)}function Mg(e){var t=Od(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Rg.test(r))return!1;if(Dg.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Fg=new Ld(3e4,6e4);function Vg(){var e=tm().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Tt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ug=null;function jg(e){return Ug=Ug||function(e){return new Promise((function(t,n){var r,i,a;function o(){Vg(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Vg(),n(Ed(e,"network-request-failed"))},timeout:Fg.get()})}if(null===(i=null===(r=tm().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=tm().gapi)||void 0===a?void 0:a.load)){var u=Sm("iframefcb");return tm()[u]=function(){gapi.load?o():n(Ed(e,"network-request-failed"))},Em("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ug=null,e}))}(e),Ug}var Bg=new Ld(5e3,15e3),zg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wg(e){var t=e.config;Td(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Md(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:_h},i=qg.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(_f(r).slice(1))}function Hg(e){return Gg.apply(this,arguments)}function Gg(){return Gg=dt(ft().mark((function e(t){var n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jg(t);case 2:return n=e.sent,Td(r=tm().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Wg(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zg,dontclear:!0},(function(e){return new Promise(function(){var n=dt(ft().mark((function n(r,i){var a,o,u;return ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){tm().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ed(t,"network-request-failed"),o=tm().setTimeout((function(){i(a)}),Bg.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Gg.apply(this,arguments)}var Kg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qg="_blank",Yg="http://localhost",$g=function(){function e(t){Ct(this,e),this.window=t,this.associatedEvent=null}return Pt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Xg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Kg),{width:r.toString(),height:i.toString(),top:a,left:o}),c=uf().toLowerCase();n&&(u=Cp(c)?Qg:n),Ip(c)&&(t=t||Yg,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=gt(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Rp(c)&&"_self"!==u)return Jg(t||"",u),new $g(null);var f=window.open(t||"",u,l);Td(f,e,"popup-blocked");try{f.focus()}catch(h){}return new $g(f)}function Jg(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Zg="__/auth/handler",ek="emulator/auth/handler";function tk(e,t,n,r,i,a){Td(e.config.authDomain,e,"auth-domain-config-required"),Td(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:_h,eventId:i};if(t instanceof Tv){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=gt(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Cv){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Zg);return Md(t,ek)}(e),"?").concat(_f(d).slice(1))}var nk="webStorageSupport",rk=function(){function e(){Ct(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$y,this._completeRedirectFn=Sg,this._overrideRedirectResult=dg}return Pt(e,[{key:"_openPopup",value:function(){var e=dt(ft().mark((function e(t,n,r,i){var a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ad(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=tk(t,n,r,Od(),i),e.abrupt("return",Xg(t,o,Zy()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=dt(ft().mark((function e(t,n,r,i){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=tk(t,n,r,Od(),i),tm().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ad(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=dt(ft().mark((function e(t){var n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hg(t);case 2:return n=e.sent,r=new Cg(t),n.register("authEvent",(function(e){return Td(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(nk,{type:nk},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),xd(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Lg.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Mp()||Tp()||Dp()}}]),e}(),ik=rk,ak=function(){function e(t){Ct(this,e),this.factorId=t}return Pt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Cd("unexpected MultiFactorSessionType")}}}]),e}(),ok=function(e){Ot(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this,"phone")).credential=e,r}return Pt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Bd(e,"POST","/v2/accounts/mfaEnrollment:finalize",jd(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Bd(e,"POST","/v2/accounts/mfaSignIn:finalize",jd(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ak),uk=function(){function e(){Ct(this,e)}return Pt(e,null,[{key:"assertion",value:function(e){return ok._fromCredential(e)}}]),e}();uk.FACTOR_ID="phone";var sk="@firebase/auth",ck="0.20.9",lk=function(){function e(t){Ct(this,e),this.auth=t,this.internalListeners=new Map}return Pt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Td(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var fk;!function(e){var t;null===(t=pf())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function hk(){return window}fk="Browser",gh(new Of("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Td(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Td(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:fk,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fp(fk)},i=new Up(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nd);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),gh(new Of("auth-internal",(function(e){return function(e){return new lk(e)}(jp(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Nh(sk,ck,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(fk)),Nh(sk,ck,"esm2017");function dk(e,t,n){return pk.apply(this,arguments)}function pk(){return pk=dt(ft().mark((function e(t,n,r){var i,a,o,u,s;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=hk(),o=a.BuildInfo,Ad(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,bk(n.sessionId);case 4:return u=e.sent,s={},Dp()?s.ibi=o.packageName:Pp()?s.apn=o.packageName:xd(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",tk(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),pk.apply(this,arguments)}function vk(){return vk=dt(ft().mark((function e(t){var n,r,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hk(),r=n.BuildInfo,i={},Dp()?i.iosBundleId=r.packageName:Pp()?i.androidPackageName=r.packageName:xd(t,"operation-not-supported-in-this-environment"),e.next=5,Ng(t,i);case 5:case"end":return e.stop()}}),e)}))),vk.apply(this,arguments)}function yk(e){var t=hk().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function mk(e,t,n){return gk.apply(this,arguments)}function gk(){return gk=dt(ft().mark((function e(t,n,r){var i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hk(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ed(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Pp()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),gk.apply(this,arguments)}function kk(e){var t,n,r,i,a,o,u,s,c,l,f=hk();Td("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Td("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Td("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Td("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Td("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function bk(e){return wk.apply(this,arguments)}function wk(){return(wk=dt(ft().mark((function e(t){var n,r,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xk(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xk(e){if(Ad(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Ek=function(e){Ot(n,e);var t=Ft(n);function n(){var e;return Ct(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Pt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),id(Dt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Cg);function Sk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Ak(),postBody:null,tenantId:e.tenantId,error:Ed(e,"no-auth-event")}}function _k(e,t){return Pk()._set(Nk(e),t)}function Ik(e){return Tk.apply(this,arguments)}function Tk(){return Tk=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pk()._get(Nk(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Pk()._remove(Nk(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Tk.apply(this,arguments)}function Ck(e,t){var n,r,i=function(e){var t=Ok(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ok(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ok(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Ok(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ed(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Ak(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Pk(){return Nd(Qy)}function Nk(e){return Ep("authEvent",e.config.apiKey,e.name)}function Ok(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=pt(t=n)||It(t)||yt(t)||mt();r[0];return If(r.slice(1).join("?"))}var Dk=function(){function e(){Ct(this,e),this._redirectPersistence=$y,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Sg,this._overrideRedirectResult=dg}return Pt(e,[{key:"_initialize",value:function(){var e=dt(ft().mark((function e(t){var n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Ek(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){xd(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=dt(ft().mark((function e(t,n,r,i){var a,o,u,s;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kk(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ug.clear(),e.next=10,this._originValidation(t);case 10:return o=Sk(t,r,i),e.next=13,_k(t,o);case 13:return e.next=15,dk(t,o,n);case 15:return u=e.sent,e.next=18,yk(u);case 18:return s=e.sent,e.abrupt("return",mk(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return vk.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=hk(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(dt(ft().mark((function n(){return ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ik(e);case 2:t.onEvent(Lk());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=dt(ft().mark((function n(r){var i,a;return ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Ik(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Ck(i,r.url)),t.onEvent(a||Lk());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");hk().handleOpenURL=function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Rk=Dk;function Lk(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ed("no-auth-event")}}function Mk(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Fk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf();return!("file:"!==Mk()&&"ionic:"!==Mk()&&"capacitor:"!==Mk()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vk(){return ff()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Uk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf();return/Edge\/\d+/.test(e)}function jk(){try{var e=self.localStorage,t=Zy();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf();return Vk()||Uk(e)}()||hf()}catch(n){return Bk()&&hf()}return!1}function Bk(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function zk(){return("http:"===Mk()||"https:"===Mk()||cf()||Fk())&&!(lf()||sf())&&jk()&&!Bk()}function qk(){return Fk()&&"undefined"!==typeof document}function Wk(){return Hk.apply(this,arguments)}function Hk(){return(Hk=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qk()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gk={LOCAL:"local",NONE:"none",SESSION:"session"},Kk=Td,Qk="persistence";function Yk(e,t){Kk(Object.values(Gk).includes(t),e,"invalid-persistence-type"),lf()?Kk(t!==Gk.SESSION,e,"unsupported-persistence-type"):sf()?Kk(t===Gk.NONE,e,"unsupported-persistence-type"):Bk()?Kk(t===Gk.NONE||t===Gk.LOCAL&&hf(),e,"unsupported-persistence-type"):Kk(t===Gk.NONE||jk(),e,"unsupported-persistence-type")}function $k(e){return Xk.apply(this,arguments)}function Xk(){return Xk=dt(ft().mark((function e(t){var n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Jk(),r=Ep(Qk,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Xk.apply(this,arguments)}function Jk(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Zk=Td,eb=function(){function e(){Ct(this,e),this.browserResolver=Nd(ik),this.cordovaResolver=Nd(Rk),this.underlyingResolver=null,this._redirectPersistence=$y,this._completeRedirectFn=Sg,this._overrideRedirectResult=dg}return Pt(e,[{key:"_initialize",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=dt(ft().mark((function e(t,n,r,i){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=dt(ft().mark((function e(t,n,r,i){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return qk()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Zk(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Wk();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function tb(e){return e.unwrap()}function nb(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new ub(e,function(e,t){var n,r=Nf(e),i=t;return Td(t.customData.operationType,r,"argument-error"),Td(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),jy._fromError(r,i)}(e,t));else if(i){var a=rb(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function rb(e){var t=(e instanceof gf?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof gf)&&"temporaryProof"in t&&"phoneNumber"in t)return Gm.credentialFromResult(e);var n,r=t.providerId;if(!r||r===sd)return null;switch(r){case ud:n=Nv;break;case ad:n=Pv;break;case od:n=Ov;break;case cd:n=Lv;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Dv._create(r,u):mv._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Av(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof gf?n.credentialFromError(e):n.credentialFromResult(e)}function ib(e,t){return t.catch((function(t){throw t instanceof gf&&nb(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,rb(t)),additionalUserInfo:Vy(e),user:sb.getOrCreate(r)}}))}function ab(e,t){return ob.apply(this,arguments)}function ob(){return ob=dt(ft().mark((function e(t,n){var r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return ib(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),ob.apply(this,arguments)}var ub=function(){function e(t,n){Ct(this,e),this.resolver=n,this.auth=t.wrapped()}return Pt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return ib(tb(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),sb=function(){function e(t){Ct(this,e),this._delegate=t,this.multiFactor=function(e){var t=Nf(e);return Wy.has(t)||Wy.set(t,qy._fromUser(t)),Wy.get(t)}(t)}return Pt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ib(this.auth,ny(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ab(this.auth,jm(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ib(this.auth,ig(this._delegate,t,eb)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$k(jp(this.auth));case 2:return e.abrupt("return",bg(this._delegate,t,eb));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ib(this.auth,iy(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return ab(this.auth,function(e,t,n){return zm.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return ib(this.auth,function(e,t,n){return rg.apply(this,arguments)}(this._delegate,e,eb))}},{key:"reauthenticateWithRedirect",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$k(jp(this.auth));case 2:return e.abrupt("return",gg(this._delegate,t,eb));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return _y.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wv(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Py(Nf(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Py(Nf(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Hm.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ay.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Iy.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();sb.USER_MAP=new WeakMap;var cb=Td,lb=function(){function e(t,n){if(Ct(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;cb(r,"invalid-api-key",{appName:t.name}),cb(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?eb:void 0;this._delegate=n.initialize({options:{persistence:hb(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(md),this.linkUnderlyingAuth()}return Pt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?sb.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){zp(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return py.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return vy(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return dy.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ib(this._delegate,gy(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Sy.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=_v.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cb(zk(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,xg(this._delegate,eb);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",ib(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){jp(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=fb(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=fb(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return by.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return hy.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=dt(ft().mark((function e(t){var n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yk(this._delegate,t),e.t0=t,e.next=e.t0===Gk.SESSION?4:e.t0===Gk.LOCAL?6:e.t0===Gk.NONE?11:13;break;case 4:return n=$y,e.abrupt("break",14);case 6:return e.next=8,Nd(km)._isAvailable();case 8:return r=e.sent,n=r?km:Qy,e.abrupt("break",14);case 11:return n=xp,e.abrupt("break",14);case 13:return e.abrupt("return",xd("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return ib(this._delegate,function(e){return jv.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return ib(this._delegate,ey(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return ib(this._delegate,function(e,t){return sy.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return ib(this._delegate,function(e,t,n){return ey(Nf(e),Iv.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return ib(this._delegate,function(e,t,n){return wy.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return ab(this._delegate,function(e,t,n){return Um.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cb(zk(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",ib(this._delegate,tg(this._delegate,t,eb)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cb(zk(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,$k(this._delegate);case 3:return e.abrupt("return",yg(this._delegate,t,eb));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return my.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function fb(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&sb.getOrCreate(e))},error:t,complete:n}}function hb(e,t){var n=function(e,t){var n=Jk();if(!n)return[];var r=Ep(Qk,e,t);switch(n.getItem(r)){case Gk.NONE:return[xp];case Gk.LOCAL:return[km,$y];case Gk.SESSION:return[$y];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(km)||n.push(km),"undefined"!==typeof window)for(var r=0,i=[Qy,$y];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(xp)||n.push(xp),n}lb.Persistence=Gk;var db=function(){function e(){Ct(this,e),this.providerId="phone",this._delegate=new Gm(tb(td.auth()))}return Pt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Gm.credential(e,t)}}]),e}();db.PHONE_SIGN_IN_METHOD=Gm.PHONE_SIGN_IN_METHOD,db.PROVIDER_ID=Gm.PROVIDER_ID;var pb=Td,vb=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:td.app();Ct(this,e),pb(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Mm(t,n,i.auth()),this.type=this._delegate.type}return Pt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Of("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new lb(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ld,PASSWORD_RESET:fd,RECOVER_EMAIL:hd,REVERT_SECOND_FACTOR_ADDITION:dd,VERIFY_AND_CHANGE_EMAIL:pd,VERIFY_EMAIL:vd}},EmailAuthProvider:Iv,FacebookAuthProvider:Pv,GithubAuthProvider:Ov,GoogleAuthProvider:Nv,OAuthProvider:Av,SAMLAuthProvider:Rv,PhoneAuthProvider:db,PhoneMultiFactorGenerator:uk,RecaptchaVerifier:vb,TwitterAuthProvider:Lv,Auth:lb,AuthCredential:Hp,Error:gf}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.22")}(td);var yb,mb="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},gb={},kb=kb||{},bb=mb||self;function wb(){}function xb(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Eb(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Sb="closure_uid_"+(1e9*Math.random()>>>0),_b=0;function Ib(e,t,n){return e.call.apply(e.bind,arguments)}function Tb(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Cb(e,t,n){return(Cb=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ib:Tb).apply(null,arguments)}function Ab(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Pb(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Nb(){this.s=this.s,this.o=this.o}var Ob={};Nb.prototype.s=!1,Nb.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Sb)&&e[Sb]||(e[Sb]=++_b)}(this);delete Ob[e]}},Nb.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Db=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Rb(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Lb(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(xb(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Mb(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Mb.prototype.h=function(){this.defaultPrevented=!0};var Fb=function(){if(!bb.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{bb.addEventListener("test",wb,t),bb.removeEventListener("test",wb,t)}catch(R){}return e}();function Vb(e){return/^[\s\xa0]*$/.test(e)}var Ub=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function jb(e,t){return e<t?-1:e>t?1:0}function Bb(){var e=bb.navigator;return e&&(e=e.userAgent)?e:""}function zb(e){return-1!=Bb().indexOf(e)}function qb(e){return qb[" "](e),e}qb[" "]=wb;var Wb,Hb=zb("Opera"),Gb=zb("Trident")||zb("MSIE"),Kb=zb("Edge"),Qb=Kb||Gb,Yb=zb("Gecko")&&!(-1!=Bb().toLowerCase().indexOf("webkit")&&!zb("Edge"))&&!(zb("Trident")||zb("MSIE"))&&!zb("Edge"),$b=-1!=Bb().toLowerCase().indexOf("webkit")&&!zb("Edge");function Xb(){var e=bb.document;return e?e.documentMode:void 0}e:{var Jb="",Zb=function(){var e=Bb();return Yb?/rv:([^\);]+)(\)|;)/.exec(e):Kb?/Edge\/([\d\.]+)/.exec(e):Gb?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$b?/WebKit\/(\S+)/.exec(e):Hb?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Zb&&(Jb=Zb?Zb[1]:""),Gb){var ew=Xb();if(null!=ew&&ew>parseFloat(Jb)){Wb=String(ew);break e}}Wb=Jb}var tw,nw={};function rw(){return function(e){var t=nw;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ub(String(Wb)).split("."),n=Ub("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=jb(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||jb(0==a[2].length,0==o[2].length)||jb(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(bb.document&&Gb){var iw=Xb();tw=iw||(parseInt(Wb,10)||void 0)}else tw=void 0;var aw=tw;function ow(e,t){if(Mb.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Yb){e:{try{qb(t.nodeName);var i=!0;break e}catch(D){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:uw[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ow.X.h.call(this)}}Pb(ow,Mb);var uw={2:"touch",3:"pen",4:"mouse"};ow.prototype.h=function(){ow.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var sw="closure_listenable_"+(1e6*Math.random()|0),cw=0;function lw(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++cw,this.ba=this.ea=!1}function fw(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function hw(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function dw(e){var t={};for(var n in e)t[n]=e[n];return t}var pw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vw(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<pw.length;a++)n=pw[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function yw(e){this.src=e,this.g={},this.h=0}function mw(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Db(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(fw(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function gw(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}yw.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=gw(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new lw(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var kw="closure_lm_"+(1e6*Math.random()|0),bw={};function ww(e,t,n,r,i){if(r&&r.once)return Ew(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ww(e,t[a],n,r,i);return null}return n=Pw(n),e&&e[sw]?e.N(t,n,Eb(r)?!!r.capture:!!r,i):xw(e,t,n,!1,r,i)}function xw(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Eb(i)?!!i.capture:!!i,u=Cw(e);if(u||(e[kw]=u=new yw(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Tw;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Fb||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Iw(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ew(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ew(e,t[a],n,r,i);return null}return n=Pw(n),e&&e[sw]?e.O(t,n,Eb(r)?!!r.capture:!!r,i):xw(e,t,n,!0,r,i)}function Sw(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Sw(e,t[a],n,r,i);else r=Eb(r)?!!r.capture:!!r,n=Pw(n),e&&e[sw]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=gw(a=e.g[t],n,r,i))&&(fw(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Cw(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gw(t,n,r,i)),(n=-1<e?t[e]:null)&&_w(n))}function _w(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[sw])mw(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Iw(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Cw(t))?(mw(n,e),0==n.h&&(n.src=null,t[kw]=null)):fw(e)}}}function Iw(e){return e in bw?bw[e]:bw[e]="on"+e}function Tw(e,t){if(e.ba)e=!0;else{t=new ow(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&_w(e),e=n.call(r,t)}return e}function Cw(e){return(e=e[kw])instanceof yw?e:null}var Aw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pw(e){return"function"===typeof e?e:(e[Aw]||(e[Aw]=function(t){return e.handleEvent(t)}),e[Aw])}function Nw(){Nb.call(this),this.i=new yw(this),this.P=this,this.I=null}function Ow(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Mb(t,e);else if(t instanceof Mb)t.target=t.target||e;else{var i=t;vw(t=new Mb(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Dw(o,r,!0,t)&&i}if(i=Dw(o=t.g=e,r,!0,t)&&i,i=Dw(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Dw(o=t.g=n[a],r,!1,t)&&i}function Dw(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&mw(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Pb(Nw,Nb),Nw.prototype[sw]=!0,Nw.prototype.removeEventListener=function(e,t,n,r){Sw(this,e,t,n,r)},Nw.prototype.M=function(){if(Nw.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fw(n[r]);delete t.g[e],t.h--}}this.I=null},Nw.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Nw.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Rw=bb.JSON.stringify;function Lw(){var e=qw,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Mw,Fw=function(){function e(){Ct(this,e),this.h=this.g=null}return Pt(e,[{key:"add",value:function(e,t){var n=Vw.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Vw=new(function(){function e(t,n){Ct(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Pt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Uw}),(function(e){return e.reset()})),Uw=function(){function e(){Ct(this,e),this.next=this.g=this.h=null}return Pt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function jw(e){bb.setTimeout((function(){throw e}),0)}function Bw(e,t){Mw||function(){var e=bb.Promise.resolve(void 0);Mw=function(){e.then(Ww)}}(),zw||(Mw(),zw=!0),qw.add(e,t)}var zw=!1,qw=new Fw;function Ww(){for(var e;e=Lw();){try{e.h.call(e.g)}catch(R){jw(R)}var t=Vw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}zw=!1}function Hw(e,t){Nw.call(this),this.h=e||1,this.g=t||bb,this.j=Cb(this.lb,this),this.l=Date.now()}function Gw(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Kw(e,t,n){if("function"===typeof e)n&&(e=Cb(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Cb(e.handleEvent,e)}return 2147483647<Number(t)?-1:bb.setTimeout(e,t||0)}function Qw(e){e.g=Kw((function(){e.g=null,e.i&&(e.i=!1,Qw(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Pb(Hw,Nw),(yb=Hw.prototype).ca=!1,yb.R=null,yb.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ow(this,"tick"),this.ca&&(Gw(this),this.start()))}},yb.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yb.M=function(){Hw.X.M.call(this),Gw(this),delete this.g};var Yw=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Pt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Qw(this)}},{key:"M",value:function(){id(Dt(n.prototype),"M",this).call(this),this.g&&(bb.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Nb);function $w(e){Nb.call(this),this.h=e,this.g={}}Pb($w,Nb);var Xw=[];function Jw(e,t,n,r){Array.isArray(n)||(n&&(Xw[0]=n.toString()),n=Xw);for(var i=0;i<n.length;i++){var a=ww(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Zw(e){hw(e.g,(function(e,t){this.g.hasOwnProperty(t)&&_w(e)}),e),e.g={}}function ex(){this.g=!0}function tx(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Rw(n)}catch(I){return t}}(e,n)+(r?" "+r:"")}))}$w.prototype.M=function(){$w.X.M.call(this),Zw(this)},$w.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ex.prototype.Aa=function(){this.g=!1},ex.prototype.info=function(){};var nx={},rx=null;function ix(){return rx=rx||new Nw}function ax(e){Mb.call(this,nx.Pa,e)}function ox(e){var t=ix();Ow(t,new ax(t,e))}function ux(e,t){Mb.call(this,nx.STAT_EVENT,e),this.stat=t}function sx(e){var t=ix();Ow(t,new ux(t,e))}function cx(e,t){Mb.call(this,nx.Qa,e),this.size=t}function lx(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return bb.setTimeout((function(){e()}),t)}nx.Pa="serverreachability",Pb(ax,Mb),nx.STAT_EVENT="statevent",Pb(ux,Mb),nx.Qa="timingevent",Pb(cx,Mb);var fx={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},hx={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function dx(){}function px(e){return e.h||(e.h=e.i())}function vx(){}dx.prototype.h=null;var yx,mx={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function gx(){Mb.call(this,"d")}function kx(){Mb.call(this,"c")}function bx(){}function wx(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new $w(this),this.O=Ex,e=Qb?125:void 0,this.T=new Hw(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new xx}function xx(){this.i=null,this.g="",this.h=!1}Pb(gx,Mb),Pb(kx,Mb),Pb(bx,dx),bx.prototype.g=function(){return new XMLHttpRequest},bx.prototype.i=function(){return{}},yx=new bx;var Ex=45e3,Sx={},_x={};function Ix(e,t,n){e.K=1,e.v=Hx(jx(t)),e.s=n,e.P=!0,Tx(e,null)}function Tx(e,t){e.F=Date.now(),Nx(e),e.A=jx(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),iE(n.i,"t",r),e.C=0,n=e.l.H,e.h=new xx,e.g=iS(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Yw(Cb(e.La,e,e.g),e.N)),Jw(e.S,e.g,"readystatechange",e.ib),t=e.H?dw(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),ox(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Cx(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Ax(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Px(e,n))==_x){4==t&&(e.o=4,sx(14),i=!1),tx(e.j,e.m,null,"[Incomplete Response]");break}if(r==Sx){e.o=4,sx(15),tx(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}tx(e.j,e.m,r,null),Mx(e,r)}Cx(e)&&r!=_x&&r!=Sx&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,sx(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$E(t),t.K=!0,sx(11))):(tx(e.j,e.m,n,"[Invalid Chunked Response]"),Lx(e),Rx(e))}function Px(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?_x:(n=Number(t.substring(n,r)),isNaN(n)?Sx:(r+=1)+n>t.length?_x:(t=t.substr(r,n),e.C=r+n,t))}function Nx(e){e.V=Date.now()+e.O,Ox(e,e.O)}function Ox(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=lx(Cb(e.gb,e),t)}function Dx(e){e.B&&(bb.clearTimeout(e.B),e.B=null)}function Rx(e){0==e.l.G||e.I||ZE(e.l,e)}function Lx(e){Dx(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Gw(e.T),Zw(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Mx(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||fE(n.h,e)))if(!e.J&&fE(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;JE(n),zE(n)}YE(n),sx(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=lx(Cb(n.cb,n),6e3));if(1>=lE(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else tS(n,11)}else if((e.J||n.g==e)&&JE(n),!Vb(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(hE(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Wx(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=rS(r,r.H?r.ka:null,r.V),d.J){dE(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Dx(p),Nx(p)),r.g=d}else QE(r);0<n.i.length&&WE(n)}else"stop"!=a[0]&&"close"!=a[0]||tS(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?tS(n,7):BE(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}ox(4)}catch(a){}}function Fx(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(xb(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(xb(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(xb(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(yb=wx.prototype).setTimeout=function(e){this.O=e},yb.ib=function(e){e=e.target;var t=this.L;t&&3==LE(e)?t.l():this.La(e)},yb.La=function(e){try{if(e==this.g)e:{var t=LE(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||Qb||this.g&&(this.h.h||this.g.fa()||ME(this.g)))){this.I||4!=t||7==n||ox(8==n||0>=r?3:2),Dx(this);var i=this.g.aa();this.Y=i;t:if(Cx(this)){var a=ME(this.g);e="";var o=a.length,u=4==LE(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Lx(this),Rx(this);var s="";break t}this.h.i=new bb.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vb(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,sx(12),Lx(this),Rx(this);break e}tx(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mx(this,i)}this.P?(Ax(this,t,s),Qb&&this.i&&3==t&&(Jw(this.S,this.T,"tick",this.hb),this.T.start())):(tx(this.j,this.m,s,null),Mx(this,s)),4==t&&Lx(this),this.i&&!this.I&&(4==t?ZE(this.l,this):(this.i=!1,Nx(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,sx(12)):(this.o=0,sx(13)),Lx(this),Rx(this)}}}catch(t){}},yb.hb=function(){if(this.g){var e=LE(this.g),t=this.g.fa();this.C<t.length&&(Dx(this),Ax(this,e,t),this.i&&4!=e&&Nx(this))}},yb.cancel=function(){this.I=!0,Lx(this)},yb.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ox(3),sx(17)),Lx(this),this.o=2,Rx(this)):Ox(this,this.V-e)};var Vx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ux(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ux){this.h=void 0!==t?t:e.h,Bx(this,e.j),this.s=e.s,this.g=e.g,zx(this,e.m),this.l=e.l,t=e.i;var n=new eE;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),qx(this,n),this.o=e.o}else e&&(n=String(e).match(Vx))?(this.h=!!t,Bx(this,n[1]||"",!0),this.s=Gx(n[2]||""),this.g=Gx(n[3]||"",!0),zx(this,n[4]),this.l=Gx(n[5]||"",!0),qx(this,n[6]||"",!0),this.o=Gx(n[7]||"")):(this.h=!!t,this.i=new eE(null,this.h))}function jx(e){return new Ux(e)}function Bx(e,t,n){e.j=n?Gx(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zx(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qx(e,t,n){t instanceof eE?(e.i=t,function(e,t){t&&!e.j&&(tE(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(nE(this,t),iE(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Kx(t,Jx)),e.i=new eE(t,e.h))}function Wx(e,t,n){e.i.set(t,n)}function Hx(e){return Wx(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gx(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kx(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Qx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Qx(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ux.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Kx(t,Yx,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Kx(t,Yx,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kx(n,"/"==n.charAt(0)?Xx:$x,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Kx(n,Zx)),e.join("")};var Yx=/[#\/\?@]/g,$x=/[#\?:]/g,Xx=/[#\?]/g,Jx=/[#\?@]/g,Zx=/#/g;function eE(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tE(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function nE(e,t){tE(e),t=aE(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function rE(e,t){return tE(e),t=aE(e,t),e.g.has(t)}function iE(e,t,n){nE(e,t),0<n.length&&(e.i=null,e.g.set(aE(e,t),Rb(n)),e.h+=n.length)}function aE(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(yb=eE.prototype).add=function(e,t){tE(this),this.i=null,e=aE(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},yb.forEach=function(e,t){tE(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},yb.oa=function(){tE(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},yb.W=function(e){tE(this);var t=[];if("string"===typeof e)rE(this,e)&&(t=t.concat(this.g.get(aE(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},yb.set=function(e,t){return tE(this),this.i=null,rE(this,e=aE(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},yb.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},yb.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var oE=Pt((function e(t,n){Ct(this,e),this.h=t,this.g=n}));function uE(e){this.l=e||sE,bb.PerformanceNavigationTiming?e=0<(e=bb.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(bb.g&&bb.g.Ga&&bb.g.Ga()&&bb.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sE=10;function cE(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lE(e){return e.h?1:e.g?e.g.size:0}function fE(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function hE(e,t){e.g?e.g.add(t):e.h=t}function dE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function pE(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ir(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Rb(e.i)}function vE(){}function yE(){this.g=new vE}function mE(e,t,n){var r=n||"";try{Fx(e,(function(e,n){var i=e;Eb(e)&&(i=Rw(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function gE(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(D){}}function kE(e){this.l=e.ac||null,this.j=e.jb||!1}function bE(e,t){Nw.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=wE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}uE.prototype.cancel=function(){if(this.i=pE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ir(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},vE.prototype.stringify=function(e){return bb.JSON.stringify(e,void 0)},vE.prototype.parse=function(e){return bb.JSON.parse(e,void 0)},Pb(kE,dx),kE.prototype.g=function(){return new bE(this.l,this.j)},kE.prototype.i=function(e){return function(){return e}}({}),Pb(bE,Nw);var wE=0;function xE(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function EE(e){e.readyState=4,e.l=null,e.j=null,e.A=null,SE(e)}function SE(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(yb=bE.prototype).open=function(e,t){if(this.readyState!=wE)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,SE(this)},yb.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||bb).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},yb.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,EE(this)),this.readyState=wE},yb.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,SE(this)),this.g&&(this.readyState=3,SE(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof bb.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xE(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},yb.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?EE(this):SE(this),3==this.readyState&&xE(this)}},yb.Va=function(e){this.g&&(this.response=this.responseText=e,EE(this))},yb.Ua=function(e){this.g&&(this.response=e,EE(this))},yb.ga=function(){this.g&&EE(this)},yb.setRequestHeader=function(e,t){this.v.append(e,t)},yb.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},yb.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(bE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var _E=bb.JSON.parse;function IE(e){Nw.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=TE,this.K=this.L=!1}Pb(IE,Nw);var TE="",CE=/^https?$/i,AE=["POST","PUT"];function PE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,NE(e),DE(e)}function NE(e){e.D||(e.D=!0,Ow(e,"complete"),Ow(e,"error"))}function OE(e){if(e.h&&"undefined"!=typeof kb&&(!e.C[1]||4!=LE(e)||2!=e.aa()))if(e.v&&4==LE(e))Kw(e.Ha,0,e);else if(Ow(e,"readystatechange"),4==LE(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Vx)[1]||null;if(!a&&bb.self&&bb.self.location){var o=bb.self.location.protocol;a=o.substr(0,o.length-1)}i=!CE.test(a?a.toLowerCase():"")}t=i}if(t)Ow(e,"complete"),Ow(e,"success");else{e.m=6;try{var u=2<LE(e)?e.g.statusText:""}catch(N){u=""}e.j=u+" ["+e.aa()+"]",NE(e)}}finally{DE(e)}}}function DE(e,t){if(e.g){RE(e);var n=e.g,r=e.C[0]?wb:null;e.g=null,e.C=null,t||Ow(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function RE(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(bb.clearTimeout(e.A),e.A=null)}function LE(e){return e.g?e.g.readyState:0}function ME(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case TE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(z){return null}}function FE(e){var t="";return hw(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function VE(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=FE(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Wx(e,t,n))}function UE(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function jE(e){this.Ca=0,this.i=[],this.j=new ex,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=UE("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=UE("baseRetryDelayMs",5e3,e),this.bb=UE("retryDelaySeedMs",1e4,e),this.$a=UE("forwardChannelMaxRetries",2,e),this.ta=UE("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new uE(e&&e.concurrentRequestLimit),this.Fa=new yE,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function BE(e){if(qE(e),3==e.G){var t=e.U++,n=jx(e.F);Wx(n,"SID",e.I),Wx(n,"RID",t),Wx(n,"TYPE","terminate"),GE(e,n),(t=new wx(e,e.j,t,void 0)).K=2,t.v=Hx(jx(n)),n=!1,bb.navigator&&bb.navigator.sendBeacon&&(n=bb.navigator.sendBeacon(t.v.toString(),"")),!n&&bb.Image&&((new Image).src=t.v,n=!0),n||(t.g=iS(t.l,null),t.g.da(t.v)),t.F=Date.now(),Nx(t)}nS(e)}function zE(e){e.g&&($E(e),e.g.cancel(),e.g=null)}function qE(e){zE(e),e.u&&(bb.clearTimeout(e.u),e.u=null),JE(e),e.h.cancel(),e.m&&("number"===typeof e.m&&bb.clearTimeout(e.m),e.m=null)}function WE(e){cE(e.h)||e.m||(e.m=!0,Bw(e.Ja,e),e.C=0)}function HE(e,t){var n;n=t?t.m:e.U++;var r=jx(e.F);Wx(r,"SID",e.I),Wx(r,"RID",n),Wx(r,"AID",e.T),GE(e,r),e.o&&e.s&&VE(r,e.o,e.s),n=new wx(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=KE(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),hE(e.h,n),Ix(n,r,t)}function GE(e,t){e.ia&&hw(e.ia,(function(e,n){Wx(t,n,e)})),e.l&&Fx({},(function(e,n){Wx(t,n,e)}))}function KE(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Cb(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{mE(l,o,"req"+c+"_")}catch(oe){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function QE(e){e.g||e.u||(e.Z=1,Bw(e.Ia,e),e.A=0)}function YE(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=lx(Cb(e.Ia,e),eS(e,e.A)),e.A++,!0)}function $E(e){null!=e.B&&(bb.clearTimeout(e.B),e.B=null)}function XE(e){e.g=new wx(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=jx(e.sa);Wx(t,"RID","rpc"),Wx(t,"SID",e.I),Wx(t,"CI",e.L?"0":"1"),Wx(t,"AID",e.T),Wx(t,"TYPE","xmlhttp"),GE(e,t),e.o&&e.s&&VE(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Hx(jx(t)),n.s=null,n.P=!0,Tx(n,e)}function JE(e){null!=e.v&&(bb.clearTimeout(e.v),e.v=null)}function ZE(e,t){var n=null;if(e.g==t){JE(e),$E(e),e.g=null;var r=2}else{if(!fE(e.h,t))return;n=t.D,dE(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ow(r=ix(),new cx(r,n,t,i)),WE(e)}else QE(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(lE(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=lx(Cb(e.Ja,e,t),eS(e,e.C)),e.C++,!0))}(e,t)||2==r&&YE(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:tS(e,5);break;case 4:tS(e,10);break;case 3:tS(e,6);break;default:tS(e,2)}}function eS(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function tS(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Cb(e.kb,e);n||(n=new Ux("//www.google.com/images/cleardot.gif"),bb.location&&"http"==bb.location.protocol||Bx(n,"https"),Hx(n)),function(e,t){var n=new ex;if(bb.Image){var r=new Image;r.onload=Ab(gE,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ab(gE,n,r,"TestLoadImage: error",!1,t),r.onabort=Ab(gE,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ab(gE,n,r,"TestLoadImage: timeout",!1,t),bb.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else sx(2);e.G=0,e.l&&e.l.va(t),nS(e),qE(e)}function nS(e){if(e.G=0,e.la=[],e.l){var t=pE(e.h);0==t.length&&0==e.i.length||(Lb(e.la,t),Lb(e.la,e.i),e.h.i.length=0,Rb(e.i),e.i.length=0),e.l.ua()}}function rS(e,t,n){var r=n instanceof Ux?jx(n):new Ux(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),zx(r,r.m);else{var i=bb.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ux(null,void 0);r&&Bx(a,r),t&&(a.g=t),i&&zx(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Wx(r,n,t),Wx(r,"VER",e.ma),GE(e,r),r}function iS(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new IE(new kE({jb:!0})):new IE(e.ra)).Ka(e.H),t}function aS(){}function oS(){if(Gb&&!(10<=Number(aw)))throw Error("Environmental error: no available transport.")}function uS(e,t){Nw.call(this),this.g=new jE(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Vb(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Vb(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new lS(this)}function sS(e){gx.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function cS(){kx.call(this),this.status=1}function lS(e){this.g=e}(yb=IE.prototype).Ka=function(e){this.L=e},yb.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yx.g(),this.C=this.u?px(this.u):px(yx),this.g.onreadystatechange=Cb(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void PE(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Ir(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=bb.FormData&&e instanceof bb.FormData,!(0<=Db(AE,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Ir(n);try{for(c.s();!(s=c.n()).done;){var l=gt(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{RE(this),0<this.B&&((this.K=function(e){return Gb&&rw()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cb(this.qa,this)):this.A=Kw(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){PE(this,u)}},yb.qa=function(){"undefined"!=typeof kb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ow(this,"timeout"),this.abort(8))},yb.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ow(this,"complete"),Ow(this,"abort"),DE(this))},yb.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),DE(this,!0)),IE.X.M.call(this)},yb.Ha=function(){this.s||(this.F||this.v||this.l?OE(this):this.fb())},yb.fb=function(){OE(this)},yb.aa=function(){try{return 2<LE(this)?this.g.status:-1}catch(O){return-1}},yb.fa=function(){try{return this.g?this.g.responseText:""}catch(O){return""}},yb.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_E(t)}},yb.Ea=function(){return this.m},yb.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(yb=jE.prototype).ma=8,yb.G=1,yb.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new wx(this,this.j,e,void 0),n=this.s;if(this.S&&(n?vw(n=dw(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=KE(this,t,r),Wx(i=jx(this.F),"RID",e),Wx(i,"CVER",22),this.D&&Wx(i,"X-HTTP-Session-Id",this.D),GE(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(FE(n)))+"&"+r:this.o&&VE(i,this.o,n)),hE(this.h,t),this.Ya&&Wx(i,"TYPE","init"),this.O?(Wx(i,"$req",r),Wx(i,"SID","null"),t.Z=!0,Ix(t,i,null)):Ix(t,i,r),this.G=2}}else 3==this.G&&(e?HE(this,e):0==this.i.length||cE(this.h)||HE(this))},yb.Ia=function(){if(this.u=null,XE(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=lx(Cb(this.eb,this),e)}},yb.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,sx(10),zE(this),XE(this))},yb.cb=function(){null!=this.v&&(this.v=null,zE(this),YE(this),sx(19))},yb.kb=function(e){e?(this.j.info("Successfully pinged google.com"),sx(2)):(this.j.info("Failed to ping google.com"),sx(1))},(yb=aS.prototype).xa=function(){},yb.wa=function(){},yb.va=function(){},yb.ua=function(){},yb.Ra=function(){},oS.prototype.g=function(e,t){return new uS(e,t)},Pb(uS,Nw),uS.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;sx(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=rS(e,null,e.V),WE(e)},uS.prototype.close=function(){BE(this.g)},uS.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Rw(e),e=n);t.i.push(new oE(t.ab++,e)),3==t.G&&WE(t)},uS.prototype.M=function(){this.g.l=null,delete this.j,BE(this.g),delete this.g,uS.X.M.call(this)},Pb(sS,gx),Pb(cS,kx),Pb(lS,aS),lS.prototype.xa=function(){Ow(this.g,"a")},lS.prototype.wa=function(e){Ow(this.g,new sS(e))},lS.prototype.va=function(e){Ow(this.g,new cS(e))},lS.prototype.ua=function(){Ow(this.g,"b")},oS.prototype.createWebChannel=oS.prototype.g,uS.prototype.send=uS.prototype.u,uS.prototype.open=uS.prototype.m,uS.prototype.close=uS.prototype.close,fx.NO_ERROR=0,fx.TIMEOUT=8,fx.HTTP_ERROR=6,hx.COMPLETE="complete",vx.EventType=mx,mx.OPEN="a",mx.CLOSE="b",mx.ERROR="c",mx.MESSAGE="d",Nw.prototype.listen=Nw.prototype.N,IE.prototype.listenOnce=IE.prototype.O,IE.prototype.getLastError=IE.prototype.Oa,IE.prototype.getLastErrorCode=IE.prototype.Ea,IE.prototype.getStatus=IE.prototype.aa,IE.prototype.getResponseJson=IE.prototype.Sa,IE.prototype.getResponseText=IE.prototype.fa,IE.prototype.send=IE.prototype.da,IE.prototype.setWithCredentials=IE.prototype.Ka;var fS=gb.createWebChannelTransport=function(){return new oS},hS=gb.getStatEventTarget=function(){return ix()},dS=gb.ErrorCode=fx,pS=gb.EventType=hx,vS=gb.Event=nx,yS=gb.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},mS=gb.FetchXmlHttpFactory=kE,gS=gb.WebChannel=vx,kS=gb.XhrIo=IE,bS="@firebase/firestore",wS=function(){function e(t){Ct(this,e),this.uid=t}return Pt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();wS.UNAUTHENTICATED=new wS(null),wS.GOOGLE_CREDENTIALS=new wS("google-credentials-uid"),wS.FIRST_PARTY=new wS("first-party-uid"),wS.MOCK_USER=new wS("mock-user");var xS="9.12.0",ES=new qf("@firebase/firestore");function SS(){return ES.logLevel}function _S(e){if(ES.logLevel<=Mf.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(CS);ES.debug.apply(ES,["Firestore (".concat(xS,"): ").concat(e)].concat(Tt(i)))}}function IS(e){if(ES.logLevel<=Mf.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(CS);ES.error.apply(ES,["Firestore (".concat(xS,"): ").concat(e)].concat(Tt(i)))}}function TS(e){if(ES.logLevel<=Mf.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(CS);ES.warn.apply(ES,["Firestore (".concat(xS,"): ").concat(e)].concat(Tt(i)))}}function CS(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function AS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(xS,") INTERNAL ASSERTION FAILED: ")+e;throw IS(t),new Error(t)}function PS(e,t){e||AS()}function NS(e,t){return e}var OS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},DS=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Pt(n)}(gf),RS=Pt((function e(){var t=this;Ct(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),LS=Pt((function e(t,n){Ct(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),MS=function(){function e(){Ct(this,e)}return Pt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(wS.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),FS=function(){function e(t){Ct(this,e),this.token=t,this.changeListener=null}return Pt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),VS=function(){function e(t){Ct(this,e),this.t=t,this.currentUser=wS.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Pt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new RS;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new RS,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){_S("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(_S("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new RS)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(_S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(PS("string"==typeof n.accessToken),new LS(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return PS(null===e||"string"==typeof e),new wS(e)}}]),e}(),US=function(){function e(t,n,r,i){Ct(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=wS.FIRST_PARTY,this.p=new Map}return Pt(e,[{key:"I",value:function(){return this.g?this.g():(PS(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),jS=function(){function e(t,n,r,i){Ct(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Pt(e,[{key:"getToken",value:function(){return Promise.resolve(new US(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(wS.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),BS=Pt((function e(t){Ct(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),zS=function(){function e(t){Ct(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Pt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&_S("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,_S("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){_S("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):_S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(PS("string"==typeof t.token),e.A=t.token,new BS(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function qS(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var WS=function(){function e(){Ct(this,e)}return Pt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=qS(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function HS(e,t){return e<t?-1:e>t?1:0}function GS(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function KS(e){return e+"\0"}var QS=function(){function e(t,n){if(Ct(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new DS(OS.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new DS(OS.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new DS(OS.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new DS(OS.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Pt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?HS(this.nanoseconds,e.nanoseconds):HS(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),YS=function(){function e(t){Ct(this,e),this.timestamp=t}return Pt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new QS(0,0))}},{key:"max",value:function(){return new e(new QS(253402300799,999999999))}}]),e}(),$S=function(){function e(t,n,r){Ct(this,e),void 0===n?n=0:n>t.length&&AS(),void 0===r?r=t.length-n:r>t.length-n&&AS(),this.segments=t,this.offset=n,this.len=r}return Pt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),XS=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return Pt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new DS(OS.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Tt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($S),JS=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ZS=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return Pt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return JS.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new DS(OS.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new DS(OS.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new DS(OS.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new DS(OS.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($S),e_=function(){function e(t){Ct(this,e),this.path=t}return Pt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===XS.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(XS.fromString(t))}},{key:"fromName",value:function(t){return new e(XS.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(XS.emptyPath())}},{key:"comparator",value:function(e,t){return XS.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new XS(t.slice()))}}]),e}(),t_=Pt((function e(t,n,r,i){Ct(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function n_(e){return e.fields.find((function(e){return 2===e.kind}))}function r_(e){return e.fields.filter((function(e){return 2!==e.kind}))}t_.UNKNOWN_ID=-1;var i_=Pt((function e(t,n){Ct(this,e),this.fieldPath=t,this.kind=n}));var a_=function(){function e(t,n){Ct(this,e),this.sequenceNumber=t,this.offset=n}return Pt(e,null,[{key:"empty",value:function(){return new e(0,s_.min())}}]),e}();function o_(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=YS.fromTimestamp(1e9===r?new QS(n+1,0):new QS(n,r));return new s_(i,e_.empty(),t)}function u_(e){return new s_(e.readTime,e.key,-1)}var s_=function(){function e(t,n,r){Ct(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Pt(e,null,[{key:"min",value:function(){return new e(YS.min(),e_.empty(),-1)}},{key:"max",value:function(){return new e(YS.max(),e_.empty(),-1)}}]),e}();function c_(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=e_.comparator(e.documentKey,t.documentKey))?n:HS(e.largestBatchId,t.largestBatchId)}var l_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",f_=function(){function e(){Ct(this,e),this.onCommittedListeners=[]}return Pt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function h_(e){return d_.apply(this,arguments)}function d_(){return d_=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===OS.FAILED_PRECONDITION&&t.message===l_){e.next=2;break}throw t;case 2:_S("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),d_.apply(this,arguments)}var p_=function(){function e(t){var n=this;Ct(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Pt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&AS(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ir(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),v_=function(){function e(t,n){var r=this;Ct(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new RS,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new g_(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=E_(e.target.error);r.P.reject(new g_(t,n))}}return Pt(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(_S("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new b_(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new g_(n,t)}}}]),e}(),y_=function(){function e(t,n,r){Ct(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(uf())&&IS("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Pt(e,[{key:"F",value:function(){var e=dt(ft().mark((function e(t){var n=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return _S("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new g_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new DS(OS.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new DS(OS.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new g_(t,n))},i.onupgradeneeded=function(e){_S("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){_S("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=dt(ft().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ft().mark((function e(){var n,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=v_.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),p_.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,_S("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return _S("SimpleDb","Removing database:",e),w_(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!hf())return!1;if(e.N())return!0;var t=uf(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),m_=function(){function e(t){Ct(this,e),this.U=t,this.q=!1,this.K=null}return Pt(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return w_(this.U.delete())}}]),e}(),g_=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,OS.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Pt(n)}(DS);function k_(e){return"IndexedDbTransactionError"===e.name}var b_=function(){function e(t){Ct(this,e),this.store=t}return Pt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(_S("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(_S("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),w_(n)}},{key:"add",value:function(e){return _S("SimpleDb","ADD",this.store.name,e,e),w_(this.store.add(e))}},{key:"get",value:function(e){var t=this;return w_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),_S("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return _S("SimpleDb","DELETE",this.store.name,e),w_(this.store.delete(e))}},{key:"count",value:function(){return _S("SimpleDb","COUNT",this.store.name),w_(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new p_((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new p_((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){_S("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new p_((function(n,r){t.onerror=function(e){var t=E_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new p_((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new m_(i),o=t(i.primaryKey,i.value,a);if(o instanceof p_){var u=o.catch((function(e){return a.done(),p_.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return p_.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function w_(e){return new p_((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=E_(e.target.error);n(t)}}))}var x_=!1;function E_(e){var t=y_.D(uf());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new DS("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return x_||(x_=!0,setTimeout((function(){throw r}),0)),r}}return e}var S_=function(){function e(t,n){Ct(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Pt(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;_S("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=_S,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!k_(e.t4)){e.next=17;break}_S("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,h_(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),__=function(){function e(t,n){Ct(this,e),this.localStore=t,this.persistence=n}return Pt(e,[{key:"st",value:function(){var e=dt(ft().mark((function e(){var t,n=this,r=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return p_.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return _S("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return _S("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=u_(t);c_(r,n)>0&&(n=r)})),new s_(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),I_=function(){function e(t,n){var r=this;Ct(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Pt(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function T_(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function C_(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function A_(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}I_.at=-1;var P_=function(){function e(t,n){Ct(this,e),this.comparator=t,this.root=n||O_.EMPTY}return Pt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,O_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,O_.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new N_(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new N_(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new N_(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new N_(this.root,e,this.comparator,!0)}}]),e}(),N_=function(){function e(t,n,r,i){Ct(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Pt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),O_=function(){function e(t,n,r,i,a){Ct(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Pt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw AS();if(this.right.isRed())throw AS();var e=this.left.check();if(e!==this.right.check())throw AS();return e+(this.isRed()?0:1)}}]),e}();O_.EMPTY=null,O_.RED=!0,O_.BLACK=!1,O_.EMPTY=new(function(){function e(){Ct(this,e),this.size=0}return Pt(e,[{key:"key",get:function(){throw AS()}},{key:"value",get:function(){throw AS()}},{key:"color",get:function(){throw AS()}},{key:"left",get:function(){throw AS()}},{key:"right",get:function(){throw AS()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new O_(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var D_=function(){function e(t){Ct(this,e),this.comparator=t,this.data=new P_(this.comparator)}return Pt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new R_(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new R_(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),R_=function(){function e(t){Ct(this,e),this.iter=t}return Pt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function L_(e){return e.hasNext()?e.getNext():void 0}var M_=function(){function e(t){Ct(this,e),this.fields=t,t.sort(ZS.comparator)}return Pt(e,[{key:"unionWith",value:function(t){var n,r=new D_(ZS.comparator),i=Ir(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Ir(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Ir(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return GS(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var F_=function(e){function t(e){Ct(this,t),this.binaryString=e}return Pt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return HS(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();F_.EMPTY_BYTE_STRING=new F_("");var V_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function U_(e){if(PS(!!e),"string"==typeof e){var t=0,n=V_.exec(e);if(PS(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:j_(e.seconds),nanos:j_(e.nanos)}}function j_(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function B_(e){return"string"==typeof e?F_.fromBase64String(e):F_.fromUint8Array(e)}function z_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function q_(e){var t=e.mapValue.fields.__previous_value__;return z_(t)?q_(t):t}function W_(e){var t=U_(e.mapValue.fields.__local_write_time__.timestampValue);return new QS(t.seconds,t.nanos)}var H_=Pt((function e(t,n,r,i,a,o,u,s){Ct(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),G_=function(){function e(t,n){Ct(this,e),this.projectId=t,this.database=n||"(default)"}return Pt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function K_(e){return null==e}function Q_(e){return 0===e&&1/e==-1/0}function Y_(e){return"number"==typeof e&&Number.isInteger(e)&&!Q_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var $_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},X_={nullValue:"NULL_VALUE"};function J_(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?z_(e)?4:hI(e)?9007199254740991:10:AS()}function Z_(e,t){if(e===t)return!0;var n=J_(e);if(n!==J_(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return W_(e).isEqual(W_(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=U_(e.timestampValue),r=U_(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return B_(e.bytesValue).isEqual(B_(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return j_(e.geoPointValue.latitude)===j_(t.geoPointValue.latitude)&&j_(e.geoPointValue.longitude)===j_(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return j_(e.integerValue)===j_(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=j_(e.doubleValue),r=j_(t.doubleValue);return n===r?Q_(n)===Q_(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return GS(e.arrayValue.values||[],t.arrayValue.values||[],Z_);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(T_(n)!==T_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Z_(n[i],r[i])))return!1;return!0}(e,t);default:return AS()}}function eI(e,t){return void 0!==(e.values||[]).find((function(e){return Z_(e,t)}))}function tI(e,t){if(e===t)return 0;var n=J_(e),r=J_(t);if(n!==r)return HS(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return HS(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=j_(e.integerValue||e.doubleValue),r=j_(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return nI(e.timestampValue,t.timestampValue);case 4:return nI(W_(e),W_(t));case 5:return HS(e.stringValue,t.stringValue);case 6:return function(e,t){var n=B_(e),r=B_(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=HS(n[i],r[i]);if(0!==a)return a}return HS(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=HS(j_(e.latitude),j_(t.latitude));return 0!==n?n:HS(j_(e.longitude),j_(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=tI(n[i],r[i]);if(a)return a}return HS(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===$_.mapValue&&t===$_.mapValue)return 0;if(e===$_.mapValue)return 1;if(t===$_.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=HS(r[o],a[o]);if(0!==u)return u;var s=tI(n[r[o]],i[a[o]]);if(0!==s)return s}return HS(r.length,a.length)}(e.mapValue,t.mapValue);default:throw AS()}}function nI(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return HS(e,t);var n=U_(e),r=U_(t),i=HS(n.seconds,r.seconds);return 0!==i?i:HS(n.nanos,r.nanos)}function rI(e){return iI(e)}function iI(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=U_(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?B_(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,e_.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ir(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=iI(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ir(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(iI(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):AS();var t,n}function aI(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function oI(e){return!!e&&"integerValue"in e}function uI(e){return!!e&&"arrayValue"in e}function sI(e){return!!e&&"nullValue"in e}function cI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lI(e){return!!e&&"mapValue"in e}function fI(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return C_(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=fI(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=fI(e.arrayValue.values[r]);return n}return Object.assign({},e)}function hI(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function dI(e){return"nullValue"in e?X_:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?aI(G_.empty(),e_.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:AS()}function pI(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?aI(G_.empty(),e_.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?$_:AS()}function vI(e,t){var n=tI(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function yI(e,t){var n=tI(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var mI=function(){function e(t){Ct(this,e),this.value=t}return Pt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!lI(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fI(t)}},{key:"setAll",value:function(e){var t=this,n=ZS.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=fI(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());lI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Z_(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];lI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){C_(t,(function(t,n){return e[t]=n}));var r,i=Ir(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(fI(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function gI(e){var t=[];return C_(e.fields,(function(e,n){var r=new ZS([e]);if(lI(n)){var i=gI(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ir(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new M_(t)}var kI=function(){function e(t,n,r,i,a,o){Ct(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Pt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=mI.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=mI.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=YS.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,YS.min(),YS.min(),mI.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,YS.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,YS.min(),mI.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,YS.min(),mI.empty(),2)}}]),e}(),bI=Pt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ct(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function wI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new bI(e,t,n,r,i,a,o)}function xI(e){var t=NS(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+rI(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),K_(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return rI(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return rI(e)})).join(",")),t.ht=n}return t.ht}function EI(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!UI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Z_(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!BI(e.startAt,t.startAt)&&BI(e.endAt,t.endAt)}function SI(e){return e_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function _I(e,t){return e.filters.filter((function(e){return e instanceof CI&&e.field.isEqual(t)}))}function II(e,t,n){var r,i=X_,a=!0,o=Ir(_I(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=X_,c=!0;switch(u.op){case"<":case"<=":s=dI(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=X_}vI({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];vI({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function TI(e,t,n){var r,i=$_,a=!0,o=Ir(_I(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=$_,c=!0;switch(u.op){case">=":case">":s=pI(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=$_}yI({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];yI({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var CI=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Pt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(tI(t,this.value)):null!==t&&J_(this.value)===J_(t)&&this.ft(tI(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return AS()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new AI(e,t,r):"array-contains"===t?new DI(e,r):"in"===t?new RI(e,r):"not-in"===t?new LI(e,r):"array-contains-any"===t?new MI(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new PI(e,n):new NI(e,n)}}]),n}(function(){return Pt((function e(){Ct(this,e)}))}()),AI=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this,e,r,i)).key=e_.fromName(i.referenceValue),a}return Pt(n,[{key:"matches",value:function(e){var t=e_.comparator(e.key,this.key);return this.ft(t)}}]),n}(CI),PI=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e,"in",r)).keys=OI("in",r),i}return Pt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(CI),NI=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e,"not-in",r)).keys=OI("not-in",r),i}return Pt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(CI);function OI(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return e_.fromName(e.referenceValue)}))}var DI=function(e){Ot(n,e);var t=Ft(n);function n(e,r){return Ct(this,n),t.call(this,e,"array-contains",r)}return Pt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return uI(t)&&eI(t.arrayValue,this.value)}}]),n}(CI),RI=function(e){Ot(n,e);var t=Ft(n);function n(e,r){return Ct(this,n),t.call(this,e,"in",r)}return Pt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&eI(this.value.arrayValue,t)}}]),n}(CI),LI=function(e){Ot(n,e);var t=Ft(n);function n(e,r){return Ct(this,n),t.call(this,e,"not-in",r)}return Pt(n,[{key:"matches",value:function(e){if(eI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!eI(this.value.arrayValue,t)}}]),n}(CI),MI=function(e){Ot(n,e);var t=Ft(n);function n(e,r){return Ct(this,n),t.call(this,e,"array-contains-any",r)}return Pt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!uI(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return eI(t.value.arrayValue,e)}))}}]),n}(CI),FI=Pt((function e(t,n){Ct(this,e),this.position=t,this.inclusive=n})),VI=Pt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ct(this,e),this.field=t,this.dir=n}));function UI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function jI(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?e_.comparator(e_.fromName(o.referenceValue),n.key):tI(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function BI(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Z_(e.position[n],t.position[n]))return!1;return!0}var zI=Pt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ct(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function qI(e,t,n,r,i,a,o,u){return new zI(e,t,n,r,i,a,o,u)}function WI(e){return new zI(e)}function HI(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function GI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function KI(e){var t,n=Ir(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function QI(e){return null!==e.collectionGroup}function YI(e){var t=NS(e);if(null===t._t){t._t=[];var n=KI(t),r=GI(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new VI(n)),t._t.push(new VI(ZS.keyField(),"asc"));else{var i,a=!1,o=Ir(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new VI(ZS.keyField(),s))}}}return t._t}function $I(e){var t=NS(e);if(!t.wt)if("F"===t.limitType)t.wt=wI(t.path,t.collectionGroup,YI(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ir(YI(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new VI(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new FI(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new FI(t.startAt.position,t.startAt.inclusive):null;t.wt=wI(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function XI(e,t,n){return new zI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function JI(e,t){return EI($I(e),$I(t))&&e.limitType===t.limitType}function ZI(e){return"".concat(xI($I(e)),"|lt:").concat(e.limitType)}function eT(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(rI(t.value));var t})).join(", "),"]")),K_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return rI(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return rI(e)})).join(",")),"Target(".concat(t,")")}($I(e)),"; limitType=").concat(e.limitType,")")}function tT(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):e_.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ir(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ir(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=jI(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,YI(e),t))&&!(e.endAt&&!function(e,t,n){var r=jI(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,YI(e),t))}(e,t)}function nT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rT(e){return function(t,n){var r,i=!1,a=Ir(YI(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=iT(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function iT(e,t,n){var r=e.field.isKeyField()?e_.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?tI(r,i):AS()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return AS()}}function aT(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Q_(t)?"-0":t}}function oT(e){return{integerValue:""+e}}function uT(e,t){return Y_(t)?oT(t):aT(e,t)}var sT=Pt((function e(){Ct(this,e),this._=void 0}));function cT(e,t,n){return e instanceof hT?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof dT?pT(e,t):e instanceof vT?yT(e,t):function(e,t){var n=fT(e,t),r=gT(n)+gT(e.yt);return oI(n)&&oI(e.yt)?oT(r):aT(e.It,r)}(e,t)}function lT(e,t,n){return e instanceof dT?pT(e,t):e instanceof vT?yT(e,t):n}function fT(e,t){return e instanceof mT?oI(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var hT=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return Pt(n)}(sT),dT=function(e){Ot(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this)).elements=e,r}return Pt(n)}(sT);function pT(e,t){var n,r=kT(t),i=Ir(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Z_(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var vT=function(e){Ot(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this)).elements=e,r}return Pt(n)}(sT);function yT(e,t){var n,r=kT(t),i=Ir(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Z_(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var mT=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this)).It=e,i.yt=r,i}return Pt(n)}(sT);function gT(e){return j_(e.integerValue||e.doubleValue)}function kT(e){return uI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var bT=Pt((function e(t,n){Ct(this,e),this.field=t,this.transform=n}));var wT=Pt((function e(t,n){Ct(this,e),this.version=t,this.transformResults=n})),xT=function(){function e(t,n){Ct(this,e),this.updateTime=t,this.exists=n}return Pt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ET(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ST=Pt((function e(){Ct(this,e)}));function _T(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new FT(e.key,xT.none()):new PT(e.key,e.data,xT.none());var n,r=e.data,i=mI.empty(),a=new D_(ZS.comparator),o=Ir(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new NT(e.key,i,new M_(a.toArray()),xT.none())}function IT(e,t,n){e instanceof PT?function(e,t,n){var r=e.value.clone(),i=DT(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof NT?function(e,t,n){if(ET(e.precondition,t)){var r=DT(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(OT(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function TT(e,t,n,r){return e instanceof PT?function(e,t,n,r){if(!ET(e.precondition,t))return n;var i=e.value.clone(),a=RT(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof NT?function(e,t,n,r){if(!ET(e.precondition,t))return n;var i=RT(e.fieldTransforms,r,t),a=t.data;return a.setAll(OT(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return ET(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function CT(e,t){var n,r=null,i=Ir(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=fT(a.transform,o||null);null!=u&&(null===r&&(r=mI.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function AT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&GS(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof dT&&t instanceof dT||e instanceof vT&&t instanceof vT?GS(e.elements,t.elements,Z_):e instanceof mT&&t instanceof mT?Z_(e.yt,t.yt):e instanceof hT&&t instanceof hT}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var PT=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ct(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Pt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ST),NT=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ct(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Pt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ST);function OT(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function DT(e,t,n){var r=new Map;PS(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,lT(o,u,n[i]))}return r}function RT(e,t,n){var r,i=new Map,a=Ir(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,cT(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var LT,MT,FT=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Pt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ST),VT=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Pt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ST),UT=Pt((function e(t){Ct(this,e),this.count=t}));function jT(e){switch(e){default:return AS();case OS.CANCELLED:case OS.UNKNOWN:case OS.DEADLINE_EXCEEDED:case OS.RESOURCE_EXHAUSTED:case OS.INTERNAL:case OS.UNAVAILABLE:case OS.UNAUTHENTICATED:return!1;case OS.INVALID_ARGUMENT:case OS.NOT_FOUND:case OS.ALREADY_EXISTS:case OS.PERMISSION_DENIED:case OS.FAILED_PRECONDITION:case OS.ABORTED:case OS.OUT_OF_RANGE:case OS.UNIMPLEMENTED:case OS.DATA_LOSS:return!0}}function BT(e){if(void 0===e)return IS("GRPC error has no .code"),OS.UNKNOWN;switch(e){case LT.OK:return OS.OK;case LT.CANCELLED:return OS.CANCELLED;case LT.UNKNOWN:return OS.UNKNOWN;case LT.DEADLINE_EXCEEDED:return OS.DEADLINE_EXCEEDED;case LT.RESOURCE_EXHAUSTED:return OS.RESOURCE_EXHAUSTED;case LT.INTERNAL:return OS.INTERNAL;case LT.UNAVAILABLE:return OS.UNAVAILABLE;case LT.UNAUTHENTICATED:return OS.UNAUTHENTICATED;case LT.INVALID_ARGUMENT:return OS.INVALID_ARGUMENT;case LT.NOT_FOUND:return OS.NOT_FOUND;case LT.ALREADY_EXISTS:return OS.ALREADY_EXISTS;case LT.PERMISSION_DENIED:return OS.PERMISSION_DENIED;case LT.FAILED_PRECONDITION:return OS.FAILED_PRECONDITION;case LT.ABORTED:return OS.ABORTED;case LT.OUT_OF_RANGE:return OS.OUT_OF_RANGE;case LT.UNIMPLEMENTED:return OS.UNIMPLEMENTED;case LT.DATA_LOSS:return OS.DATA_LOSS;default:return AS()}}(MT=LT||(LT={}))[MT.OK=0]="OK",MT[MT.CANCELLED=1]="CANCELLED",MT[MT.UNKNOWN=2]="UNKNOWN",MT[MT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",MT[MT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",MT[MT.NOT_FOUND=5]="NOT_FOUND",MT[MT.ALREADY_EXISTS=6]="ALREADY_EXISTS",MT[MT.PERMISSION_DENIED=7]="PERMISSION_DENIED",MT[MT.UNAUTHENTICATED=16]="UNAUTHENTICATED",MT[MT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",MT[MT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",MT[MT.ABORTED=10]="ABORTED",MT[MT.OUT_OF_RANGE=11]="OUT_OF_RANGE",MT[MT.UNIMPLEMENTED=12]="UNIMPLEMENTED",MT[MT.INTERNAL=13]="INTERNAL",MT[MT.UNAVAILABLE=14]="UNAVAILABLE",MT[MT.DATA_LOSS=15]="DATA_LOSS";var zT=function(){function e(t,n){Ct(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Pt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ir(n);try{for(i.s();!(r=i.n()).done;){var a=gt(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){C_(this.inner,(function(t,n){var r,i=Ir(n);try{for(i.s();!(r=i.n()).done;){var a=gt(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return A_(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),qT=new P_(e_.comparator);function WT(){return qT}var HT=new P_(e_.comparator);function GT(){for(var e=HT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function KT(e){var t=HT;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function QT(){return $T()}function YT(){return $T()}function $T(){return new zT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var XT=new P_(e_.comparator),JT=new D_(e_.comparator);function ZT(){for(var e=JT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var eC=new D_(HS);function tC(){return eC}var nC=function(){function e(t,n,r,i,a){Ct(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Pt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,rC.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(YS.min(),i,tC(),WT(),ZT())}}]),e}(),rC=function(){function e(t,n,r,i,a){Ct(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Pt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,ZT(),ZT(),ZT())}}]),e}(),iC=Pt((function e(t,n,r,i){Ct(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),aC=Pt((function e(t,n){Ct(this,e),this.targetId=t,this.At=n})),oC=Pt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F_.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ct(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),uC=function(){function e(){Ct(this,e),this.Rt=0,this.bt=lC(),this.Pt=F_.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return Pt(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=ZT(),t=ZT(),n=ZT();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:AS()}})),new rC(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=lC()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),sC=function(){function e(t){Ct(this,e),this.Bt=t,this.Lt=new Map,this.Ut=WT(),this.qt=cC(),this.Kt=new D_(HS)}return Pt(e,[{key:"Gt",value:function(e){var t,n=Ir(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ir(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:AS()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(SI(i))if(0===n){var a=new e_(i.path);this.jt(t,a,kI.newNoDocument(a,YS.min()))}else PS(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&SI(a.target)){var o=new e_(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,kI.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=ZT();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new nC(e,n,this.Kt,this.Ut,r);return this.Ut=WT(),this.qt=cC(),this.Kt=new D_(HS),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new uC,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new D_(HS),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||_S("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new uC),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function cC(){return new P_(e_.comparator)}function lC(){return new P_(e_.comparator)}var fC={asc:"ASCENDING",desc:"DESCENDING"},hC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dC=Pt((function e(t,n){Ct(this,e),this.databaseId=t,this.gt=n}));function pC(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function vC(e,t){return e.gt?t.toBase64():t.toUint8Array()}function yC(e,t){return pC(e,t.toTimestamp())}function mC(e){return PS(!!e),YS.fromTimestamp(function(e){var t=U_(e);return new QS(t.seconds,t.nanos)}(e))}function gC(e,t){return function(e){return new XS(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function kC(e){var t=XS.fromString(e);return PS(zC(t)),t}function bC(e,t){return gC(e.databaseId,t.path)}function wC(e,t){var n=kC(t);if(n.get(1)!==e.databaseId.projectId)throw new DS(OS.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new DS(OS.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new e_(_C(n))}function xC(e,t){return gC(e.databaseId,t)}function EC(e){var t=kC(e);return 4===t.length?XS.emptyPath():_C(t)}function SC(e){return new XS(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _C(e){return PS(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function IC(e,t,n){return{name:bC(e,t),fields:n.value.mapValue.fields}}function TC(e,t,n){var r=wC(e,t.name),i=mC(t.updateTime),a=new mI({mapValue:{fields:t.fields}}),o=kI.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function CC(e,t){return"found"in t?function(e,t){PS(!!t.found),t.found.name,t.found.updateTime;var n=wC(e,t.found.name),r=mC(t.found.updateTime),i=new mI({mapValue:{fields:t.found.fields}});return kI.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){PS(!!t.missing),PS(!!t.readTime);var n=wC(e,t.missing),r=mC(t.readTime);return kI.newNoDocument(n,r)}(e,t):AS()}function AC(e,t){var n;if(t instanceof PT)n={update:IC(e,t.key,t.value)};else if(t instanceof FT)n={delete:bC(e,t.key)};else if(t instanceof NT)n={update:IC(e,t.key,t.data),updateMask:BC(t.fieldMask)};else{if(!(t instanceof VT))return AS();n={verify:bC(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof hT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof dT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof mT)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw AS()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:yC(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:AS()}(e,t.precondition)),n}function PC(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?xT.updateTime(mC(e.updateTime)):void 0!==e.exists?xT.exists(e.exists):xT.none()}(t.currentDocument):xT.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)PS("REQUEST_TIME"===t.setToServerValue),n=new hT;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new dT(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new vT(i)}else"increment"in t?n=new mT(e,t.increment):AS();var a=ZS.fromServerFormat(t.fieldPath);return new bT(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=wC(e,t.update.name),a=new mI({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new M_(t.map((function(e){return ZS.fromServerFormat(e)})))}(t.updateMask);return new NT(i,a,o,n,r)}return new PT(i,a,n,r)}if(t.delete){var u=wC(e,t.delete);return new FT(u,n)}if(t.verify){var s=wC(e,t.verify);return new VT(s,n)}return AS()}function NC(e,t){return{documents:[xC(e,t.path)]}}function OC(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=xC(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=xC(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(cI(e.value))return{unaryFilter:{field:FC(e.field),op:"IS_NAN"}};if(sI(e.value))return{unaryFilter:{field:FC(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cI(e.value))return{unaryFilter:{field:FC(e.field),op:"IS_NOT_NAN"}};if(sI(e.value))return{unaryFilter:{field:FC(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:FC(e.field),op:MC(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:FC(e.field),direction:LC(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||K_(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function DC(e){var t=EC(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){PS(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=RC(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new VI(VC(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return K_(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new FI(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new FI(n,t)}(n.endAt)),qI(t,i,u,o,s,"F",c,l)}function RC(e){return e?void 0!==e.unaryFilter?[jC(e)]:void 0!==e.fieldFilter?[UC(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return RC(e)})).reduce((function(e,t){return e.concat(t)})):AS():[]}function LC(e){return fC[e]}function MC(e){return hC[e]}function FC(e){return{fieldPath:e.canonicalString()}}function VC(e){return ZS.fromServerFormat(e.fieldPath)}function UC(e){return CI.create(VC(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return AS()}}(e.fieldFilter.op),e.fieldFilter.value)}function jC(e){switch(e.unaryFilter.op){case"IS_NAN":var t=VC(e.unaryFilter.field);return CI.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=VC(e.unaryFilter.field);return CI.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=VC(e.unaryFilter.field);return CI.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=VC(e.unaryFilter.field);return CI.create(i,"!=",{nullValue:"NULL_VALUE"});default:return AS()}}function BC(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function zC(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function qC(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=HC(t)),t=WC(e.get(n),t);return HC(t)}function WC(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function HC(e){return e+"\x01\x01"}function GC(e){var t=e.length;if(PS(t>=2),2===t)return PS("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),XS.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&AS(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:AS()}a=o+2}return new XS(r)}var KC=["userId","batchId"];function QC(e,t){return[e,qC(t)]}function YC(e,t,n){return[e,qC(t),n]}var $C={},XC=["prefixPath","collectionGroup","readTime","documentId"],JC=["prefixPath","collectionGroup","documentId"],ZC=["collectionGroup","readTime","prefixPath","documentId"],eA=["canonicalId","targetId"],tA=["targetId","path"],nA=["path","targetId"],rA=["collectionId","parent"],iA=["indexId","uid"],aA=["uid","sequenceNumber"],oA=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uA=["indexId","uid","orderedDocumentKey"],sA=["userId","collectionPath","documentId"],cA=["userId","collectionPath","largestBatchId"],lA=["userId","collectionGroup","largestBatchId"],fA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),hA=[].concat(Tt(fA),["documentOverlays"]),dA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pA=dA,vA=[].concat(pA,["indexConfiguration","indexState","indexEntries"]),yA=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return Pt(n)}(f_);function mA(e,t){var n=NS(e);return y_.M(n.ie,t)}var gA=function(){function e(t,n,r,i){Ct(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Pt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&IT(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Ir(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=TT(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Ir(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=TT(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=YT();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=_T(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(YS.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ZT())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&GS(this.mutations,e.mutations,(function(e,t){return AT(e,t)}))&&GS(this.baseMutations,e.baseMutations,(function(e,t){return AT(e,t)}))}}]),e}(),kA=function(){function e(t,n,r,i){Ct(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Pt(e,null,[{key:"from",value:function(t,n,r){PS(t.mutations.length===r.length);for(var i=XT,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),bA=function(){function e(t,n){Ct(this,e),this.largestBatchId=t,this.mutation=n}return Pt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),wA=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:YS.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:YS.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:F_.EMPTY_BYTE_STRING;Ct(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Pt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),xA=Pt((function e(t){Ct(this,e),this.re=t}));function EA(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:SA(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:bC(e,t.key),fields:t.data.value.mapValue.fields,updateTime:pC(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:_A(t.version)};else{if(!t.isUnknownDocument())return AS();r.unknownDocument={path:n.path.toArray(),version:_A(t.version)}}return r}function SA(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function _A(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function IA(e){var t=new QS(e.seconds,e.nanoseconds);return YS.fromTimestamp(t)}function TA(e,t){for(var n=(t.baseMutations||[]).map((function(t){return PC(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return PC(e.re,t)})),u=QS.fromMillis(t.localWriteTimeMs);return new gA(t.batchId,u,n,o)}function CA(e){var t,n,r=IA(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?IA(e.lastLimboFreeSnapshotVersion):YS.min();return void 0!==e.query.documents?(PS(1===(n=e.query).documents.length),t=$I(WI(EC(n.documents[0])))):t=function(e){return $I(DC(e))}(e.query),new wA(t,e.targetId,0,e.lastListenSequenceNumber,r,i,F_.fromBase64String(e.resumeToken))}function AA(e,t){var n,r=_A(t.snapshotVersion),i=_A(t.lastLimboFreeSnapshotVersion);n=SI(t.target)?NC(e.re,t.target):OC(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xI(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function PA(e){var t=DC({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?XI(t,t.limit,"L"):t}function NA(e,t){return new bA(t.largestBatchId,PC(e.re,t.overlayMutation))}function OA(e,t){var n=t.path.lastSegment();return[e,qC(t.path.popLast()),n]}function DA(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:_A(r.readTime),documentKey:qC(r.documentKey.path),largestBatchId:r.largestBatchId}}var RA=function(){function e(){Ct(this,e)}return Pt(e,[{key:"getBundleMetadata",value:function(e,t){return LA(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:IA(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return LA(e).put({bundleId:(n=t).id,createTime:_A(mC(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return MA(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:PA(t.bundledQuery),readTime:IA(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return MA(e).put(function(e){return{name:e.name,readTime:_A(mC(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function LA(e){return mA(e,"bundles")}function MA(e){return mA(e,"namedQueries")}var FA=function(){function e(t,n){Ct(this,e),this.It=t,this.userId=n}return Pt(e,[{key:"getOverlay",value:function(e,t){var n=this;return VA(e).get(OA(this.userId,t)).next((function(e){return e?NA(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=QT();return p_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new bA(t,a);i.push(r.ue(e,o))})),p_.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(qC(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(VA(e).Y("collectionPathOverlayIndex",i))})),p_.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=QT(),a=qC(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return VA(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Ir(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=NA(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=QT(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return VA(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=NA(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return VA(e).put(function(e,t,n){var r=gt(OA(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:AC(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function VA(e){return mA(e,"documentOverlays")}var UA=function(){function e(){Ct(this,e)}return Pt(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(j_(e.integerValue));else if("doubleValue"in e){var n=j_(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Q_(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(B_(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?hI(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):AS()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Ir(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),e_.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function jA(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function BA(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=jA(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}UA.Te=new UA;var zA=function(){function e(){Ct(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Pt(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=Ir(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=Ir(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=BA(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=BA(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),qA=function(){function e(t){Ct(this,e),this.Be=t}return Pt(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),WA=function(){function e(t){Ct(this,e),this.Be=t}return Pt(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),HA=function(){function e(){Ct(this,e),this.Be=new zA,this.Le=new qA(this.Be),this.Ue=new WA(this.Be)}return Pt(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),GA=function(){function e(t,n,r,i){Ct(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Pt(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function KA(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=QA(e.arrayValue,t.arrayValue))?n:0!==(n=QA(e.directionalValue,t.directionalValue))?n:e_.comparator(e.documentKey,t.documentKey)}function QA(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var YA=function(){function e(t){Ct(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=Ir(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Pt(e,[{key:"We",value:function(e){var t=n_(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=r_(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=Ir(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),$A=function(){function e(){Ct(this,e),this.Ye=new XA}return Pt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),p_.resolve()}},{key:"getCollectionParents",value:function(e,t){return p_.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return p_.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return p_.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return p_.resolve(null)}},{key:"getIndexType",value:function(e,t){return p_.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return p_.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return p_.resolve(null)}},{key:"getMinOffset",value:function(e,t){return p_.resolve(s_.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return p_.resolve(s_.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return p_.resolve()}},{key:"updateIndexEntries",value:function(e,t){return p_.resolve()}}]),e}(),XA=function(){function e(){Ct(this,e),this.index={}}return Pt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new D_(XS.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new D_(XS.comparator)).toArray()}}]),e}(),JA=new Uint8Array(0),ZA=function(){function e(t,n){Ct(this,e),this.user=t,this.databaseId=n,this.Xe=new XA,this.Ze=new zT((function(e){return xI(e)}),(function(e,t){return EI(e,t)})),this.uid=t.uid||""}return Pt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:qC(i)};return eP(e).put(a)}return p_.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[KS(t),""],!1,!0);return eP(e).W(r).next((function(e){var r,i=Ir(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(GC(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=nP(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=rP(e);return a.next((function(e){o.put(DA(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=nP(e),r=rP(e),i=tP(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=tP(e),i=!0,a=new Map;return p_.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ZT(),o=[];return p_.forEach(a,(function(i,a){var u;_S("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(xI(t)));var s=function(e,t){var n=n_(t);if(void 0===n)return null;var r,i=Ir(_I(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Ir(r_(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Ir(_I(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Ir(r_(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?II(e,o.fieldPath,e.startAt):TI(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new FI(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Ir(r_(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?TI(e,o.fieldPath,e.endAt):II(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new FI(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return p_.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=e_.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return p_.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):JA,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,Tt(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new GA(e,e_.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new GA(e,e_.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new YA(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Ir(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return p_.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new D_(ZS.comparator),r=!1,i=Ir(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Ir(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new HA,i=Ir(r_(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);UA.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new HA;return UA.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new HA;return UA.Te.ce(aI(this.databaseId,t),n.qe(function(e){var t=r_(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new HA);var i,a=0,o=Ir(r_(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Ir(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&uI(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);UA.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=Tt(e),a=[],o=Ir(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Ir(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new HA;f.seed(l.$e()),UA.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof CI&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=nP(e),i=rP(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return p_.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new a_(t.sequenceNumber,new s_(IA(t.readTime),new e_(GC(t.documentKey)),t.largestBatchId)):a_.empty(),r=e.fields.map((function(e){var t=gt(e,2),n=t[0],r=t[1];return new i_(ZS.fromServerFormat(n),r)}));return new t_(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:HS(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=nP(e),a=rP(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return p_.forEach(t,(function(t){return a.put(DA(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return p_.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?p_.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),p_.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?p_.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return tP(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return tP(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=tP(e),i=new D_(KA);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new GA(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new D_(KA),r=this.an(t,e);if(null==r)return n;var i=n_(t);if(null!=i){var a=e.data.field(i.fieldPath);if(uI(a)){var o,u=Ir(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new GA(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new GA(t.indexId,e.key,JA,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;_S("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=L_(a),s=L_(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=L_(o)):l?(i(u),u=L_(a)):(u=L_(a),s=L_(o))}}(r,i,KA,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),p_.waitFor(o)}},{key:"_n",value:function(e){var t=1;return rP(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return KA(e,t)})).filter((function(e,t,n){return!t||0!==KA(e,n[t-1])}));var r=[];r.push(e);var i,a=Ir(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=KA(o,e),s=KA(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,JA,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,JA,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(iP)}},{key:"getMinOffset",value:function(e,t){var n=this;return p_.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||AS()}))})).next(iP)}}]),e}();function eP(e){return mA(e,"collectionParents")}function tP(e){return mA(e,"indexEntries")}function nP(e){return mA(e,"indexConfiguration")}function rP(e){return mA(e,"indexState")}function iP(e){PS(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;c_(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new s_(t.readTime,t.documentKey,n)}var aP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oP=function(){function e(t,n,r){Ct(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Pt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function uP(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){PS(1===u)})));var c,l=[],f=Ir(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=YC(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return p_.waitFor(a).next((function(){return l}))}function sP(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw AS();t=e.noDocument}return JSON.stringify(t).length}oP.DEFAULT_COLLECTION_PERCENTILE=10,oP.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oP.DEFAULT=new oP(41943040,oP.DEFAULT_COLLECTION_PERCENTILE,oP.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oP.DISABLED=new oP(-1,0,0);var cP=function(){function e(t,n,r,i){Ct(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Pt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fP(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=hP(e),o=fP(e);return o.add({}).next((function(u){PS("number"==typeof u);var s,c=new gA(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return AC(e.re,t)})),i=n.mutations.map((function(t){return AC(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new D_((function(e,t){return HS(e.canonicalString(),t.canonicalString())})),d=Ir(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=YC(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,$C))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),p_.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return fP(e).get(t).next((function(e){return e?(PS(e.userId===n.userId),TA(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?p_.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return fP(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(PS(t.batchId>=r),a=TA(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fP(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fP(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return TA(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=QC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return hP(e).Z({range:i},(function(r,i,o){var u=gt(r,3),s=u[0],c=u[1],l=u[2],f=GC(c);if(s===n.userId&&t.path.isEqual(f))return fP(e).get(l).next((function(e){if(!e)throw AS();PS(e.userId===n.userId),a.push(TA(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new D_(HS),i=[];return t.forEach((function(t){var a=QC(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=hP(e).Z({range:o},(function(e,i,a){var o=gt(e,3),u=o[0],s=o[1],c=o[2],l=GC(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),p_.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=QC(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new D_(HS);return hP(e).Z({range:o},(function(e,t,a){var o=gt(e,3),s=o[0],c=o[1],l=o[2],f=GC(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(fP(e).get(t).next((function(e){if(null===e)throw AS();PS(e.userId===n.userId),r.push(TA(n.It,e))})))})),p_.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return uP(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),p_.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return p_.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return hP(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=GC(e[1]);i.push(a)}else r.done()})).next((function(){PS(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return lP(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return dP(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return PS(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function lP(e,t,n){var r=QC(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return hP(e).Z({range:a,X:!0},(function(e,n,r){var a=gt(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function fP(e){return mA(e,"mutations")}function hP(e){return mA(e,"documentMutations")}function dP(e){return mA(e,"mutationQueues")}var pP=function(){function e(t){Ct(this,e),this.bn=t}return Pt(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),vP=function(){function e(t,n){Ct(this,e),this.referenceDelegate=t,this.It=n}return Pt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new pP(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return YS.fromTimestamp(new QS(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return yP(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return PS(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return yP(e).Z((function(o,u){var s=CA(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return p_.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return yP(e).Z((function(e,n){var r=CA(n);t(r)}))}},{key:"Vn",value:function(e){return mP(e).get("targetGlobalKey").next((function(e){return PS(null!==e),e}))}},{key:"Sn",value:function(e,t){return mP(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return yP(e).put(AA(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=xI(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return yP(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=CA(n);EI(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=gP(e);return t.forEach((function(t){var o=qC(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),p_.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=gP(e);return p_.forEach(t,(function(t){var a=qC(t.path);return p_.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=gP(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=gP(e),i=ZT();return r.Z({range:n,X:!0},(function(e,t,n){var r=GC(e[1]),a=new e_(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=qC(t.path),r=IDBKeyRange.bound([n],[KS(n)],!1,!0),i=0;return gP(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=gt(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return yP(e).get(t).next((function(e){return e?CA(e):null}))}}]),e}();function yP(e){return mA(e,"targets")}function mP(e){return mA(e,"targetGlobal")}function gP(e){return mA(e,"targetDocuments")}function kP(e,t){var n=gt(e,2),r=n[0],i=n[1],a=gt(t,2),o=a[0],u=a[1],s=HS(r,o);return 0===s?HS(i,u):s}var bP=function(){function e(t){Ct(this,e),this.xn=t,this.buffer=new D_(kP),this.Nn=0}return Pt(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();kP(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),wP=function(){function e(t,n,r){Ct(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return Pt(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;_S("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!k_(e.t0)){e.next=12;break}_S("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,h_(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),xP=function(){function e(t,n){Ct(this,e),this.$n=t,this.params=n}return Pt(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return p_.resolve(I_.at);var r=new bP(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(_S("LruGarbageCollector","Garbage collection skipped; disabled"),p_.resolve(aP)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(_S("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),aP):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(_S("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),SS()<=Mf.DEBUG&&_S("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),p_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),EP=function(){function e(t,n){Ct(this,e),this.db=t,this.garbageCollector=function(e,t){return new xP(e,t)}(this,n)}return Pt(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return SP(e,n)}},{key:"removeReference",value:function(e,t,n){return SP(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return SP(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return dP(e).tt((function(r){return lP(e,r,t).next((function(e){return e&&(n=!0),p_.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,YS.min()),gP(e).delete([0,qC(o.path)])}))}));i.push(s)}})).next((function(){return p_.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return SP(e,t)}},{key:"Kn",value:function(e,t){var n,r=gP(e),i=I_.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=gt(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==I_.at&&t(new e_(GC(n)),i),i=s,n=u):i=I_.at})).next((function(){i!==I_.at&&t(new e_(GC(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function SP(e,t){return gP(e).put(function(e,t){return{targetId:0,path:qC(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var _P=function(){function e(){Ct(this,e),this.changes=new zT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Pt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,kI.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?p_.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),IP=function(){function e(t){Ct(this,e),this.It=t}return Pt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return PP(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return PP(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],SA(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=kI.newInvalidDocument(t);return PP(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(NP(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:kI.newInvalidDocument(t)};return PP(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(NP(t))},(function(e,i){r={document:n.jn(t,i),size:sP(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=WT();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=WT(),i=new P_(e_.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,sP(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return p_.resolve();var r=new D_(DP);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(NP(r.first()),NP(r.last())),a=r.getIterator(),o=a.getNext();return PP(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=e_.fromSegments([].concat(Tt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&DP(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(NP(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),SA(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return PP(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=WT(),i=Ir(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(e_.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=WT(),o=OP(t,n),u=OP(t,s_.max());return PP(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(e_.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new CP(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return AP(e).get("remoteDocumentGlobalKey").next((function(e){return PS(!!e),e}))}},{key:"Qn",value:function(e,t){return AP(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=TC(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=e_.fromSegments(t.noDocument.path),i=IA(t.noDocument.readTime);n=kI.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return AS();var a=e_.fromSegments(t.unknownDocument.path),o=IA(t.unknownDocument.version);n=kI.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new QS(e[0],e[1]);return YS.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(YS.min()))return n}return kI.newInvalidDocument(e)}}]),e}();function TP(e){return new IP(e)}var CP=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new zT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Pt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new D_((function(e,t){return HS(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=EA(t.Yn.It,o);i=i.add(a.path.popLast());var c=sP(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=EA(t.Yn.It,o.convertToNoDocument(YS.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),p_.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(_P);function AP(e){return mA(e,"remoteDocumentGlobal")}function PP(e){return mA(e,"remoteDocumentsV14")}function NP(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function OP(e,t){var n=t.documentKey.path.toArray();return[e,SA(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function DP(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=HS(n[a],r[a]))return i;return(i=HS(n.length,r.length))||((i=HS(n[n.length-2],r[r.length-2]))||HS(n[n.length-1],r[r.length-1]))}var RP=Pt((function e(t,n){Ct(this,e),this.overlayedDocument=t,this.mutatedFields=n})),LP=function(){function e(t,n,r,i){Ct(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Pt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&TT(r.mutation,e,M_.empty(),QS.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,ZT()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ZT(),i=QT();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=GT();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=QT();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,ZT())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=WT(),a=$T(),o=$T();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof NT)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),TT(o.mutation,t,o.mutation.getFieldMask(),QS.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new RP(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=$T(),i=new P_((function(e,t){return e-t})),a=ZT();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Ir(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||M_.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||ZT()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=YT();c.forEach((function(e){if(!a.has(e)){var n=_T(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return p_.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return e_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):QI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):p_.resolve(QT()),u=-1,s=a;return o.next((function(t){return p_.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?p_.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,ZT())})).next((function(e){return{batchId:u,changes:KT(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new e_(t)).next((function(e){var t=GT();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=GT();return this.indexManager.getCollectionParents(e,i).next((function(o){return p_.forEach(o,(function(o){var u=function(e,t){return new zI(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,kI.newInvalidDocument(n)))}));var n=GT();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&TT(a.mutation,i,M_.empty(),QS.now()),tT(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):p_.resolve(kI.newInvalidDocument(t))}}]),e}(),MP=function(){function e(t){Ct(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return Pt(e,[{key:"getBundleMetadata",value:function(e,t){return p_.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:mC(n.createTime)}),p_.resolve()}},{key:"getNamedQuery",value:function(e,t){return p_.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:PA(e.bundledQuery),readTime:mC(e.readTime)}}(t)),p_.resolve()}}]),e}(),FP=function(){function e(){Ct(this,e),this.overlays=new P_(e_.comparator),this.es=new Map}return Pt(e,[{key:"getOverlay",value:function(e,t){return p_.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=QT();return p_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),p_.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),p_.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=QT(),i=t.length+1,a=new e_(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return p_.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new P_((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=QT(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=QT(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return p_.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new bA(t,n));var a=this.es.get(t);void 0===a&&(a=ZT(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),VP=function(){function e(){Ct(this,e),this.ns=new D_(UP.ss),this.rs=new D_(UP.os)}return Pt(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new UP(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new UP(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new e_(new XS([])),r=new UP(n,e),i=new UP(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new e_(new XS([])),n=new UP(t,e),r=new UP(t,e+1),i=ZT();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new UP(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),UP=function(){function e(t,n){Ct(this,e),this.key=t,this._s=n}return Pt(e,null,[{key:"ss",value:function(e,t){return e_.comparator(e.key,t.key)||HS(e._s,t._s)}},{key:"os",value:function(e,t){return HS(e._s,t._s)||e_.comparator(e.key,t.key)}}]),e}(),jP=function(){function e(t,n){Ct(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new D_(UP.ss)}return Pt(e,[{key:"checkEmpty",value:function(e){return p_.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new gA(i,t,n,r);this.mutationQueue.push(a);var o,u=Ir(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new UP(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return p_.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return p_.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return p_.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return p_.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return p_.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new UP(t,0),i=new UP(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),p_.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new D_(HS);return t.forEach((function(e){var t=new UP(e,0),i=new UP(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),p_.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;e_.isDocumentKey(i)||(i=i.child(""));var a=new UP(new e_(i),0),o=new D_(HS);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),p_.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;PS(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return p_.forEach(t.mutations,(function(i){var a=new UP(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new UP(t,0),r=this.gs.firstAfterOrEqual(n);return p_.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,p_.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),BP=function(){function e(t){Ct(this,e),this.Es=t,this.docs=new P_(e_.comparator),this.size=0}return Pt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return p_.resolve(n?n.document.mutableCopy():kI.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=WT();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():kI.newInvalidDocument(e))})),p_.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=WT(),i=new e_(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||c_(u_(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return p_.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){AS()}},{key:"As",value:function(e,t){return p_.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new zP(this)}},{key:"getSize",value:function(e){return p_.resolve(this.size)}}]),e}(),zP=function(e){Ot(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this)).Yn=e,r}return Pt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),p_.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(_P),qP=function(){function e(t){Ct(this,e),this.persistence=t,this.Rs=new zT((function(e){return xI(e)}),EI),this.lastRemoteSnapshotVersion=YS.min(),this.highestTargetId=0,this.bs=0,this.Ps=new VP,this.targetCount=0,this.vs=pP.Pn()}return Pt(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),p_.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return p_.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return p_.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),p_.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),p_.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new pP(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,p_.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),p_.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,p_.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),p_.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return p_.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return p_.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),p_.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),p_.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),p_.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return p_.resolve(n)}},{key:"containsKey",value:function(e,t){return p_.resolve(this.Ps.containsKey(t))}}]),e}(),WP=function(){function e(t,n){var r=this;Ct(this,e),this.Vs={},this.overlays={},this.Ss=new I_(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new qP(this),this.indexManager=new $A,this.remoteDocumentCache=new BP((function(e){return r.referenceDelegate.xs(e)})),this.It=new xA(n),this.Ns=new MP(this.It)}return Pt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new FP,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new jP(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;_S("MemoryPersistence","Starting transaction:",e);var i=new HP(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return p_.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),HP=function(e){Ot(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Pt(n)}(f_),GP=function(){function e(t){Ct(this,e),this.persistence=t,this.Fs=new VP,this.$s=null}return Pt(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw AS()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),p_.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),p_.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),p_.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return p_.forEach(this.Ls,(function(r){var i=e_.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,YS.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return p_.or([function(){return p_.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),KP=function(){function e(t){Ct(this,e),this.It=t}return Pt(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new v_("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",KC,{unique:!0}),e.createObjectStore("documentMutations")}(e),QP(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=p_.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),QP(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:YS.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",KC,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return p_.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:sA});t.createIndex("collectionPathOverlayIndex",cA,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",lA,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:XC});t.createIndex("documentKeyIndex",JC),t.createIndex("collectionGroupIndex",ZC)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:iA}).createIndex("sequenceNumberIndex",aA,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:oA}).createIndex("documentKeyIndex",uA,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=sP(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return p_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return p_.forEach(r,(function(r){PS(r.userId===n.userId);var i=TA(t.It,r);return uP(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new XS(n),o=function(e){return[0,qC(e)]}(a);r.push(t.get(o).next((function(n){return n?p_.resolve():function(n){return t.put({targetId:0,path:qC(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return p_.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:rA});var n=t.store("collectionParents"),r=new XA,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:qC(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new XS(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=gt(e,3),r=(n[0],n[1]),a=(n[2],GC(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=CA(r),a=AA(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new e_(XS.fromString(i.document.name).popFirst(5)):i.noDocument?e_.fromSegments(i.noDocument.path):i.unknownDocument?e_.fromSegments(i.unknownDocument.path):AS()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return p_.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=TP(this.It),a=new WP(GP.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:ZT();TA(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),p_.forEach(r,(function(e,r){var o=new wS(r),u=FA.oe(n.It,o),s=a.getIndexManager(o),c=cP.oe(o,n.It,s,a.referenceDelegate);return new LP(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new yA(t,I_.at),e).next()}))}))}}]),e}();function QP(e){e.createObjectStore("targetDocuments",{keyPath:tA}).createIndex("documentTargetsIndex",nA,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",eA,{unique:!0}),e.createObjectStore("targetGlobal")}var YP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$P=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Ct(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new DS(OS.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new EP(this,i),this.ii=n+"main",this.It=new xA(s),this.ri=new y_(this.ii,this.Xs,new KP(this.It)),this.Cs=new vP(this.referenceDelegate,this.It),this.remoteDocumentCache=TP(this.It),this.Ns=new RA,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&IS("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Pt(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new DS(OS.FAILED_PRECONDITION,YP);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new I_(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=dt(ft().mark((function n(r){return ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=dt(ft().mark((function t(n){return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return JP(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(k_(t))return _S("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return _S("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return XP(e).get("owner").next((function(e){return p_.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return JP(e).delete(this.clientId)}},{key:"yi",value:function(){var e=dt(ft().mark((function e(){var t,n,r,i,a=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=mA(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return p_.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Ir(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?p_.resolve(!0):XP(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new DS(OS.FAILED_PRECONDITION,YP);return!1}}return!(!t.networkEnabled||!t.inForeground)||JP(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&_S("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=dt(ft().mark((function e(){var t=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new yA(e,I_.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return JP(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return cP.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new ZA(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return FA.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;_S("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?vA:14===i?pA:13===i?dA:12===i?hA:11===i?fA:void AS();return this.ri.runTransaction(e,o,u,(function(i){return a=new yA(i,r.Ss?r.Ss.next():I_.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw IS("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new DS(OS.FAILED_PRECONDITION,l_);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return XP(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new DS(OS.FAILED_PRECONDITION,YP)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return XP(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=XP(e);return n.get("owner").next((function(e){return t.mi(e)?(_S("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):p_.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(IS("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!sf()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return _S("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return IS("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(C){IS("Failed to set zombie client id.",C)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(C){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return y_.C()}}]),e}();function XP(e){return mA(e,"owner")}function JP(e){return mA(e,"clientMetadata")}function ZP(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var eN=function(){function e(t,n,r,i){Ct(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Pt(e,null,[{key:"Ci",value:function(t,n){var r,i=ZT(),a=ZT(),o=Ir(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),tN=function(){function e(){Ct(this,e),this.xi=!1}return Pt(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(HI(t))return p_.resolve(null);var r=$I(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=XI(t,null,"F"),r=$I(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=ZT.apply(void 0,Tt(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,XI(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return HI(t)||r.isEqual(YS.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(SS()<=Mf.DEBUG&&_S("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),eT(t)),i.Bi(e,o,t,o_(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new D_(rT(e));return t.forEach((function(t,r){tT(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return SS()<=Mf.DEBUG&&_S("QueryEngine","Using full collection scan to execute query:",eT(t)),this.Ni.getDocumentsMatchingQuery(e,t,s_.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),nN=function(){function e(t,n,r,i){Ct(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new P_(HS),this.qi=new zT((function(e){return xI(e)}),EI),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Pt(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LP(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function rN(e,t,n,r){return new nN(e,t,n,r)}function iN(e,t){return aN.apply(this,arguments)}function aN(){return aN=dt(ft().mark((function e(t,n){var r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NS(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=ZT(),s=Ir(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Ir(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Ir(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Ir(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),aN.apply(this,arguments)}function oN(e,t){var n=NS(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=p_.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);PS(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=ZT(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function uN(e){var t=NS(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function sN(e,t){var n=NS(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(F_.EMPTY_BYTE_STRING,YS.min()).withLastLimboFreeSnapshotVersion(YS.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=WT(),s=ZT();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(cN(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(YS.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return p_.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function cN(e,t,n){var r=ZT(),i=ZT();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=WT();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(YS.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):_S("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function lN(e,t){var n=NS(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function fN(e,t){var n=NS(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,p_.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new wA(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function hN(e,t,n){return dN.apply(this,arguments)}function dN(){return dN=dt(ft().mark((function e(t,n,r){var i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=NS(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),k_(e.t1)){e.next=12;break}throw e.t1;case 12:_S("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),dN.apply(this,arguments)}function pN(e,t,n){var r=NS(e),i=YS.min(),a=ZT();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=NS(e),i=r.qi.get(n);return void 0!==i?p_.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,$I(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:YS.min(),n?a:ZT())})).next((function(e){return mN(r,nT(t),e),{documents:e,Hi:a}}))}))}function vN(e,t){var n=NS(e),r=NS(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function yN(e,t){var n=NS(e),r=n.Ki.get(t)||YS.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,o_(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return mN(n,t,e),e}))}function mN(e,t,n){var r=e.Ki.get(t)||YS.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function gN(e,t,n,r){return kN.apply(this,arguments)}function kN(){return kN=dt(ft().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=NS(t),o=ZT(),u=WT(),s=Ir(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,fN(a,function(e){return $I(WI(XS.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return cN(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),kN.apply(this,arguments)}function bN(e,t){return wN.apply(this,arguments)}function wN(){return wN=dt(ft().mark((function e(t,n){var r,i,a,o=arguments;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ZT(),e.next=3,fN(t,$I(PA(n.bundledQuery)));case 3:return i=e.sent,a=NS(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=mC(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(F_.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),wN.apply(this,arguments)}function xN(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function EN(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function SN(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var _N=function(){function e(t,n,r,i){Ct(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Pt(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new DS(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(IS("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),IN=function(){function e(t,n,r){Ct(this,e),this.targetId=t,this.state=n,this.error=r}return Pt(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new DS(i.error.code,i.error.message))),a?new e(t,i.state,r):(IS("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),TN=function(){function e(t,n){Ct(this,e),this.clientId=t,this.activeTargetIds=n}return Pt(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=tC(),o=0;i&&o<r.activeTargetIds.length;++o)i=Y_(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(IS("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),CN=function(){function e(t,n){Ct(this,e),this.clientId=t,this.onlineState=n}return Pt(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(IS("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),AN=function(){function e(){Ct(this,e),this.activeTargetIds=tC()}return Pt(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),PN=function(){function e(t,n,r,i,a){Ct(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new P_(HS),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=xN(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new AN),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Pt(e,[{key:"start",value:function(){var e=dt(ft().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Ir(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(xN(this.persistenceKey,i)))&&(o=TN.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Ir(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(SN(this.persistenceKey,e));if(n){var r=IN.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(SN(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return _S("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){_S("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){_S("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(_S("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void IS("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(dt(ft().mark((function e(){var r,i,a,o,u,s,c;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=I_.at;if(null!=e)try{var n=JSON.parse(e);PS("number"==typeof n),t=n}catch(e){IS("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==I_.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new _N(this.currentUser,e,t,n),i=EN(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=EN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=SN(this.persistenceKey,e),i=new IN(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return TN.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return _N.Zi(new wS(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return IN.Zi(r,t)}},{key:"yr",value:function(e){return CN.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:_S("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=tC();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),NN=function(){function e(){Ct(this,e),this.Lr=new AN,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Pt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new AN,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),ON=function(){function e(){Ct(this,e)}return Pt(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),DN=function(){function e(){var t=this;Ct(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Pt(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){_S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ir(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){_S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ir(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),RN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},LN=function(){function e(t){Ct(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Pt(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),MN=function(e){Ot(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Pt(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new kS;o.setWithCredentials(!0),o.listenOnce(pS.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case dS.NO_ERROR:var t=o.getResponseJson();_S("Connection","XHR received:",JSON.stringify(t)),i(t);break;case dS.TIMEOUT:_S("Connection",'RPC "'+e+'" timed out'),a(new DS(OS.DEADLINE_EXCEEDED,"Request time out"));break;case dS.HTTP_ERROR:var n=o.getStatus();if(_S("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(OS).indexOf(t)>=0?t:OS.UNKNOWN}(r.status);a(new DS(u,r.message))}else a(new DS(OS.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new DS(OS.UNAVAILABLE,"Connection failed."));break;default:AS()}}finally{_S("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=fS(),a=hS(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new mS({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");_S("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new LN({Hr:function(e){l?_S("Connection","Not sending because WebChannel is closed:",e):(c||(_S("Connection","Opening WebChannel transport."),s.open(),c=!0),_S("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,gS.EventType.OPEN,(function(){l||_S("Connection","WebChannel transport opened.")})),h(s,gS.EventType.CLOSE,(function(){l||(l=!0,_S("Connection","WebChannel transport closed"),f.io())})),h(s,gS.EventType.ERROR,(function(e){l||(l=!0,TS("Connection","WebChannel transport errored:",e),f.io(new DS(OS.UNAVAILABLE,"The operation could not be completed")))})),h(s,gS.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];PS(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){_S("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=LT[e];if(void 0!==t)return BT(t)}(a),u=i.message;void 0===o&&(o=OS.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new DS(o,u)),s.close()}else _S("Connection","WebChannel received:",n),f.ro(n)}})),h(a,vS.STAT_EVENT,(function(e){e.stat===yS.PROXY?_S("Connection","Detected buffering proxy"):e.stat===yS.NOPROXY&&_S("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Ct(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Pt(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);_S("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return _S("RestConnection","Received: ",e),e}),(function(t){throw TS("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xS,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=RN[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function FN(){return"undefined"!=typeof window?window:null}function VN(){return"undefined"!=typeof document?document:null}function UN(e){return new dC(e,!0)}var jN=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ct(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Pt(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&_S("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),BN=function(){function e(t,n,r,i,a,o,u,s){Ct(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new jN(t,n)}return Pt(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Oo()}},{key:"Oo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Oo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===OS.RESOURCE_EXHAUSTED?(IS(n.toString()),IS("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===OS.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=gt(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new DS(OS.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.xo=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.Oo()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.No.Ro(dt(ft().mark((function t(){return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return _S("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.Do===e?n():(_S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),zN=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i,a,o,u){var s;return Ct(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return Pt(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:AS()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(PS(void 0===t||"string"==typeof t),F_.fromBase64String(t||"")):(PS(void 0===t||t instanceof Uint8Array),F_.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?OS.UNKNOWN:BT(e.code);return new DS(t,e.message||"")}(o);n=new oC(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=wC(e,s.document.name),l=mC(s.document.updateTime),f=new mI({mapValue:{fields:s.document.fields}}),h=kI.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new iC(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=wC(e,v.document),m=v.readTime?mC(v.readTime):YS.min(),g=kI.newNoDocument(y,m),k=v.removedTargetIds||[];n=new iC([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=wC(e,b.document),x=b.removedTargetIds||[];n=new iC([],x,w,null)}else{if(!("filter"in t))return AS();t.filter;var E=t.filter;E.targetId;var S=E.count||0,_=new UT(S),I=E.targetId;n=new aC(I,_)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return YS.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?YS.min():t.readTime?mC(t.readTime):YS.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=SC(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=SI(r)?{documents:NC(e,r)}:{query:OC(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=vC(e,t.resumeToken):t.snapshotVersion.compareTo(YS.min())>0&&(n.readTime=pC(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return AS()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=SC(this.It),t.removeTarget=e,this.Lo(t)}}]),n}(BN),qN=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i,a,o,u){var s;return Ct(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Yo=!1,s}return Pt(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,id(Dt(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(PS(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(PS(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?mC(e.updateTime):mC(t);return n.isEqual(YS.min())&&(n=mC(t)),new wT(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=mC(e.commitTime);return this.listener.tu(n,t)}return PS(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=SC(this.It),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return AC(t.It,e)}))};this.Lo(n)}}]),n}(BN),WN=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i,a){var o;return Ct(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.It=a,o.su=!1,o}return Pt(n,[{key:"iu",value:function(){if(this.su)throw new DS(OS.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=gt(i,2),o=a[0],u=a[1];return r.So.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===OS.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new DS(OS.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=gt(a,2),u=o[0],s=o[1];return i.So._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===OS.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new DS(OS.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return Pt((function e(){Ct(this,e)}))}());var HN=function(){function e(t,n){Ct(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return Pt(e,[{key:"cu",value:function(){var e=this;0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.au("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.au("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}},{key:"au",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(IS(t),this.uu=!1):_S("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),GN=Pt((function e(t,n,r,i,a){var o=this;Ct(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.qr((function(e){r.enqueueAndForget(dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=rO(o),!e.t0){e.next=5;break}return _S("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=NS(t)).wu.add(4),e.next=4,YN(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,KN(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new HN(r,i)}));function KN(e){return QN.apply(this,arguments)}function QN(){return QN=dt(ft().mark((function e(t){var n,r,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rO(t)){e.next=18;break}n=Ir(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),QN.apply(this,arguments)}function YN(e){return $N.apply(this,arguments)}function $N(){return $N=dt(ft().mark((function e(t){var n,r,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ir(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),$N.apply(this,arguments)}function XN(e,t){var n=NS(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),nO(n)?tO(n):OO(n).Oo()&&ZN(n,t))}function JN(e,t){var n=NS(e),r=OO(n);n._u.delete(t),r.Oo()&&eO(n,t),0===n._u.size&&(r.Oo()?r.$o():rO(n)&&n.yu.set("Unknown"))}function ZN(e,t){e.pu.Mt(t.targetId),OO(e).Ho(t)}function eO(e,t){e.pu.Mt(t),OO(e).Jo(t)}function tO(e){e.pu=new sC({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e._u.get(t)||null}}),OO(e).start(),e.yu.cu()}function nO(e){return rO(e)&&!OO(e).ko()&&e._u.size>0}function rO(e){return 0===NS(e).wu.size}function iO(e){e.pu=void 0}function aO(e){return oO.apply(this,arguments)}function oO(){return oO=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){ZN(t,e)}));case 1:case"end":return e.stop()}}),e)}))),oO.apply(this,arguments)}function uO(e,t){return sO.apply(this,arguments)}function sO(){return sO=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:iO(t),nO(t)?(t.yu.lu(n),tO(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),sO.apply(this,arguments)}function cO(e,t,n){return lO.apply(this,arguments)}function lO(){return lO=dt(ft().mark((function e(t,n,r){var i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof oC&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=dt(ft().mark((function e(t,n){var r,i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ir(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),_S("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,fO(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof iC?t.pu.Gt(n):n instanceof aC?t.pu.Yt(n):t.pu.Wt(n),r.isEqual(YS.min())){e.next=29;break}return e.prev=14,e.next=17,uN(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(F_.EMPTY_BYTE_STRING,n.snapshotVersion)),eO(e,t);var r=new wA(n.target,t,1,n.sequenceNumber);ZN(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),_S("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,fO(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),lO.apply(this,arguments)}function fO(e,t,n){return hO.apply(this,arguments)}function hO(){return hO=dt(ft().mark((function e(t,n,r){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k_(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,YN(t);case 5:t.yu.set("Offline"),r||(r=function(){return uN(t.localStore)}),t.asyncQueue.enqueueRetryable(dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _S("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,KN(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),hO.apply(this,arguments)}function dO(e,t){return t().catch((function(n){return fO(e,n,t)}))}function pO(e){return vO.apply(this,arguments)}function vO(){return vO=dt(ft().mark((function e(t){var n,r,i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=NS(t),r=DO(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!yO(n)){e.next=19;break}return e.prev=3,e.next=6,lN(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,mO(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,fO(n,e.t0);case 17:e.next=2;break;case 19:gO(n)&&kO(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),vO.apply(this,arguments)}function yO(e){return rO(e)&&e.du.length<10}function mO(e,t){e.du.push(t);var n=DO(e);n.Oo()&&n.Xo&&n.Zo(t.mutations)}function gO(e){return rO(e)&&!DO(e).ko()&&e.du.length>0}function kO(e){DO(e).start()}function bO(e){return wO.apply(this,arguments)}function wO(){return wO=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:DO(t).nu();case 1:case"end":return e.stop()}}),e)}))),wO.apply(this,arguments)}function xO(e){return EO.apply(this,arguments)}function EO(){return EO=dt(ft().mark((function e(t){var n,r,i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=DO(t),r=Ir(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),EO.apply(this,arguments)}function SO(e,t,n){return _O.apply(this,arguments)}function _O(){return _O=dt(ft().mark((function e(t,n,r){var i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=kA.from(i,n,r),e.next=3,dO(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,pO(t);case 5:case"end":return e.stop()}}),e)}))),_O.apply(this,arguments)}function IO(e,t){return TO.apply(this,arguments)}function TO(){return TO=dt(ft().mark((function e(t,n){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&DO(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=dt(ft().mark((function e(t,n){var r,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jT(i=n.code)||i===OS.ABORTED){e.next=7;break}return r=t.du.shift(),DO(t).Fo(),e.next=5,dO(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,pO(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:gO(t)&&kO(t);case 5:case"end":return e.stop()}}),e)}))),TO.apply(this,arguments)}function CO(e,t){return AO.apply(this,arguments)}function AO(){return AO=dt(ft().mark((function e(t,n){var r,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=NS(t)).asyncQueue.verifyOperationInProgress(),_S("RemoteStore","RemoteStore received new credentials"),i=rO(r),r.wu.add(3),e.next=6,YN(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,KN(r);case 12:case"end":return e.stop()}}),e)}))),AO.apply(this,arguments)}function PO(e,t){return NO.apply(this,arguments)}function NO(){return NO=dt(ft().mark((function e(t,n){var r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=NS(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,KN(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,YN(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),NO.apply(this,arguments)}function OO(e){return e.Iu||(e.Iu=function(e,t,n){var r=NS(e);return r.iu(),new zN(t,r.So,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:aO.bind(null,e),Zr:uO.bind(null,e),zo:cO.bind(null,e)}),e.mu.push(function(){var t=dt(ft().mark((function t(n){return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),nO(e)?tO(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:iO(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function DO(e){return e.Tu||(e.Tu=function(e,t,n){var r=NS(e);return r.iu(),new qN(t,r.So,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:bO.bind(null,e),Zr:IO.bind(null,e),eu:xO.bind(null,e),tu:SO.bind(null,e)}),e.mu.push(function(){var t=dt(ft().mark((function t(n){return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,pO(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(_S("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var RO=function(){function e(t,n,r,i,a){Ct(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new RS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Pt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new DS(OS.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function LO(e,t){if(IS("AsyncQueue","".concat(t,": ").concat(e)),k_(e))return new DS(OS.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var MO=function(){function e(t){Ct(this,e),this.comparator=t?function(e,n){return t(e,n)||e_.comparator(e.key,n.key)}:function(e,t){return e_.comparator(e.key,t.key)},this.keyedMap=GT(),this.sortedSet=new P_(this.comparator)}return Pt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),FO=function(){function e(){Ct(this,e),this.Eu=new P_(e_.comparator)}return Pt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):AS():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),VO=function(){function e(t,n,r,i,a,o,u,s,c){Ct(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Pt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&JI(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,MO.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),UO=Pt((function e(){Ct(this,e),this.Ru=void 0,this.listeners=[]})),jO=Pt((function e(){Ct(this,e),this.queries=new zT((function(e){return ZI(e)}),JI),this.onlineState="Unknown",this.bu=new Set}));function BO(e,t){return zO.apply(this,arguments)}function zO(){return zO=dt(ft().mark((function e(t,n){var r,i,a,o,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=NS(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new UO),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=LO(e.t0,"Initialization of query '".concat(eT(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.vu(o.Ru)&&KO(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),zO.apply(this,arguments)}function qO(e,t){return WO.apply(this,arguments)}function WO(){return WO=dt(ft().mark((function e(t,n){var r,i,a,o,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=NS(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),WO.apply(this,arguments)}function HO(e,t){var n,r=NS(e),i=!1,a=Ir(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Ir(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&KO(r)}function GO(e,t,n){var r=NS(e),i=r.queries.get(t);if(i){var a,o=Ir(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function KO(e){e.bu.forEach((function(e){e.next()}))}var QO=function(){function e(t,n,r){Ct(this,e),this.query=t,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return Pt(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ir(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new VO(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.Vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=VO.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}]),e}(),YO=function(){function e(t,n){Ct(this,e),this.payload=t,this.byteLength=n}return Pt(e,[{key:"Ou",value:function(){return"metadata"in this.payload}}]),e}(),$O=function(){function e(t){Ct(this,e),this.It=t}return Pt(e,[{key:"Ji",value:function(e){return wC(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?TC(this.It,e.document,!1):kI.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return mC(e)}}]),e}(),XO=function(){function e(t,n,r){Ct(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=JO(t)}return Pt(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=XS.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new $O(this.It),i=Ir(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Ir(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||ZT()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=dt(ft().mark((function e(){var t,n,r,i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gN(this.localStore,new $O(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Ir(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,bN(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function JO(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ZO=Pt((function e(t){Ct(this,e),this.key=t})),eD=Pt((function e(t){Ct(this,e),this.key=t})),tD=function(){function e(t,n){Ct(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ZT(),this.mutatedKeys=ZT(),this.Gu=rT(t),this.Qu=new MO(this.Gu)}return Pt(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new FO,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=tT(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return AS()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new VO(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new FO,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=ZT(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new eD(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new ZO(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=ZT();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return VO.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),nD=Pt((function e(t,n,r){Ct(this,e),this.query=t,this.targetId=n,this.view=r})),rD=Pt((function e(t){Ct(this,e),this.key=t,this.nc=!1})),iD=function(){function e(t,n,r,i,a,o){Ct(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new zT((function(e){return ZI(e)}),JI),this.rc=new Map,this.oc=new Set,this.uc=new P_(e_.comparator),this.cc=new Map,this.ac=new VP,this.hc={},this.lc=new Map,this.fc=pP.vn(),this.onlineState="Unknown",this.dc=void 0}return Pt(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function aD(e,t){return oD.apply(this,arguments)}function oD(){return oD=dt(ft().mark((function e(t,n){var r,i,a,o,u,s;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JD(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,fN(r.localStore,$I(n));case 8:return u=e.sent,r.isPrimaryClient&&XN(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,uD(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),oD.apply(this,arguments)}function uD(e,t,n,r,i){return sD.apply(this,arguments)}function sD(){return sD=dt(ft().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=dt(ft().mark((function e(t,n,r,i){var a,o,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,pN(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(CD(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,pN(t.localStore,n,!0);case 3:return o=e.sent,u=new tD(n,o.Hi),s=u.Wu(o.documents),c=rC.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),CD(t,r,l.Xu),f=new nD(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),sD.apply(this,arguments)}function cD(e,t){return lD.apply(this,arguments)}function lD(){return lD=dt(ft().mark((function e(t,n){var r,i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=NS(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!JI(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,hN(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),JN(r.remoteStore,i.targetId),ID(r,i.targetId)})).catch(h_);case 9:e.next=14;break;case 11:return ID(r,i.targetId),e.next=14,hN(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),lD.apply(this,arguments)}function fD(e,t,n){return hD.apply(this,arguments)}function hD(){return hD=dt(ft().mark((function e(t,n,r){var i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ZD(t),e.prev=1,e.next=4,function(e,t){var n,r,i=NS(e),a=QS.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ZT());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=WT(),s=ZT();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Ir(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=CT(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new NT(c.key,l,gI(l.value.mapValue),xT.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:KT(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new P_(HS)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ND(i,a.changes);case 9:return e.next=11,pO(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=LO(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),hD.apply(this,arguments)}function dD(e,t){return pD.apply(this,arguments)}function pD(){return pD=dt(ft().mark((function e(t,n){var r,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NS(t),e.prev=1,e.next=4,sN(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(PS(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?PS(n.nc):e.removedDocuments.size>0&&(PS(n.nc),n.nc=!1))})),e.next=8,ND(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,h_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),pD.apply(this,arguments)}function vD(e,t,n){var r=NS(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=NS(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ir(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&KO(n)}(r.eventManager,t),i.length&&r.sc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function yD(e,t,n){return mD.apply(this,arguments)}function mD(){return mD=dt(ft().mark((function e(t,n,r){var i,a,o,u,s,c;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=NS(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new P_(e_.comparator)).insert(o,kI.newNoDocument(o,YS.min())),s=ZT().add(o),c=new nC(YS.min(),new Map,new D_(HS),u,s),e.next=9,dD(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),PD(i),e.next=16;break;case 14:return e.next=16,hN(i.localStore,n,!1).then((function(){return ID(i,n,r)})).catch(h_);case 16:case"end":return e.stop()}}),e)}))),mD.apply(this,arguments)}function gD(e,t){return kD.apply(this,arguments)}function kD(){return kD=dt(ft().mark((function e(t,n){var r,i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NS(t),i=n.batch.batchId,e.prev=1,e.next=4,oN(r.localStore,n);case 4:return a=e.sent,_D(r,i,null),SD(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ND(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,h_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),kD.apply(this,arguments)}function bD(e,t,n){return wD.apply(this,arguments)}function wD(){return wD=dt(ft().mark((function e(t,n,r){var i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=NS(t),e.prev=1,e.next=4,function(e,t){var n=NS(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return PS(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,_D(i,n,r),SD(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ND(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,h_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),wD.apply(this,arguments)}function xD(e,t){return ED.apply(this,arguments)}function ED(){return ED=dt(ft().mark((function e(t,n){var r,i,a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rO((r=NS(t)).remoteStore)||_S("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=NS(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=LO(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),ED.apply(this,arguments)}function SD(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function _D(e,t,n){var r=NS(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function ID(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ir(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||TD(e,t)}))}function TD(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(JN(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),PD(e))}function CD(e,t,n){var r,i=Ir(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ZO?(e.ac.addReference(a.key,t),AD(e,a)):a instanceof eD?(_S("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||TD(e,a.key)):AS()}}catch(o){i.e(o)}finally{i.f()}}function AD(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(_S("SyncEngine","New document in limbo: "+n),e.oc.add(r),PD(e))}function PD(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new e_(XS.fromString(t)),r=e.fc.next();e.cc.set(r,new rD(n)),e.uc=e.uc.insert(n,r),XN(e.remoteStore,new wA($I(WI(n.path)),r,2,I_.at))}}function ND(e,t,n){return OD.apply(this,arguments)}function OD(){return OD=dt(ft().mark((function e(t,n,r){var i,a,o,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=NS(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=eN.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.zo(a),e.next=9,function(){var e=dt(ft().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NS(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return p_.forEach(n,(function(t){return p_.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return p_.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),k_(e.t0)){e.next=10;break}throw e.t0;case 10:_S("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ir(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),OD.apply(this,arguments)}function DD(e,t){return RD.apply(this,arguments)}function RD(){return RD=dt(ft().mark((function e(t,n){var r,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=NS(t)).currentUser.isEqual(n)){e.next=11;break}return _S("SyncEngine","User change. New user:",n.toKey()),e.next=5,iN(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new DS(OS.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ND(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),RD.apply(this,arguments)}function LD(e,t){var n=NS(e),r=n.cc.get(t);if(r&&r.nc)return ZT().add(r.key);var i=ZT(),a=n.rc.get(t);if(!a)return i;var o,u=Ir(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function MD(e,t){return FD.apply(this,arguments)}function FD(){return FD=dt(ft().mark((function e(t,n){var r,i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NS(t),e.next=3,pN(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&CD(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),FD.apply(this,arguments)}function VD(e,t){return UD.apply(this,arguments)}function UD(){return UD=dt(ft().mark((function e(t,n){var r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NS(t),e.abrupt("return",yN(r.localStore,n).then((function(e){return ND(r,e)})));case 2:case"end":return e.stop()}}),e)}))),UD.apply(this,arguments)}function jD(e,t,n,r){return BD.apply(this,arguments)}function BD(){return BD=dt(ft().mark((function e(t,n,r,i){var a,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=NS(t),e.next=3,function(e,t){var n=NS(e),r=NS(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):p_.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,pO(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(_D(a,n,i||null),SD(a,n),function(e,t){NS(NS(e).mutationQueue).An(t)}(a.localStore,n)):AS();case 11:return e.next=13,ND(a,o);case 13:e.next=16;break;case 15:_S("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),BD.apply(this,arguments)}function zD(e,t){return qD.apply(this,arguments)}function qD(){return qD=dt(ft().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(JD(r=NS(t)),ZD(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,WD(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,PO(r.remoteStore,!0);case 9:o=Ir(a);try{for(o.s();!(u=o.n()).done;)s=u.value,XN(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return ID(r,t),hN(r.localStore,t,!0)})),JN(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,WD(r,c);case 21:return function(e){var t=NS(e);t.cc.forEach((function(e,n){JN(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new P_(e_.comparator)}(r),r.dc=!1,e.next=25,PO(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),qD.apply(this,arguments)}function WD(e,t,n){return HD.apply(this,arguments)}function HD(){return HD=dt(ft().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=NS(t),a=[],o=[],u=Ir(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,fN(i.localStore,$I(f[0]));case 11:l=e.sent,h=Ir(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,MD(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,vN(i.localStore,c);case 36:return m=e.sent,e.next=39,fN(i.localStore,m);case 39:return l=e.sent,e.next=42,uD(i,GD(m),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),HD.apply(this,arguments)}function GD(e){return qI(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function KD(e){var t=NS(e);return NS(NS(t.localStore).persistence).vi()}function QD(e,t,n,r){return YD.apply(this,arguments)}function YD(){return YD=dt(ft().mark((function e(t,n,r,i){var a,o,u,s;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=NS(t)).dc){e.next=3;break}return e.abrupt("return",void _S("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,yN(a.localStore,nT(o[0]));case 10:return u=e.sent,s=nC.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,F_.EMPTY_BYTE_STRING),e.next=14,ND(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,hN(a.localStore,n,!0);case 17:return ID(a,n,i),e.abrupt("break",20);case 19:AS();case 20:case"end":return e.stop()}}),e)}))),YD.apply(this,arguments)}function $D(e,t,n){return XD.apply(this,arguments)}function XD(){return XD=dt(ft().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=JD(t)).dc){e.next=45;break}a=Ir(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return _S("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,vN(i.localStore,u);case 12:return s=e.sent,e.next=15,fN(i.localStore,s);case 15:return c=e.sent,e.next=18,uD(i,GD(s),c.targetId,!1,c.resumeToken);case 18:XN(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ir(r),e.prev=30,h=ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,hN(i.localStore,t,!1).then((function(){JN(i.remoteStore,t),ID(i,t)})).catch(h_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),XD.apply(this,arguments)}function JD(e){var t=NS(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yD.bind(null,t),t.sc.zo=HO.bind(null,t.eventManager),t.sc.wc=GO.bind(null,t.eventManager),t}function ZD(e){var t=NS(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bD.bind(null,t),t}function eR(e,t,n){var r=NS(e);(function(){var e=dt(ft().mark((function e(t,n,r){var i,a,o,u,s;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=NS(e),r=mC(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(JO(i)),a=new XO(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,ND(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=NS(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(TS("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var tR=function(){function e(){Ct(this,e),this.synchronizeTabs=!1}return Pt(e,[{key:"initialize",value:function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=UN(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return rN(this.persistence,new tN,e.initialUser,this.It)}},{key:"yc",value:function(e){return new WP(GP.Bs,this.It)}},{key:"gc",value:function(e){return new NN}},{key:"terminate",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),nR=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Pt(n,[{key:"initialize",value:function(){var e=dt(ft().mark((function e(t){var r=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,id(Dt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,ZD(this.Ac.syncEngine);case 6:return e.next=8,pO(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return rN(this.persistence,new tN,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new wP(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new __(t,this.persistence);return new S_(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=ZP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?oP.withCacheSize(this.cacheSizeBytes):oP.DEFAULT;return new $P(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,FN(),VN(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new NN}}]),n}(tR),rR=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Pt(n,[{key:"initialize",value:function(){var e=dt(ft().mark((function e(t){var r,i=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,id(Dt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof PN,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:jD.bind(null,r),$r:QD.bind(null,r),Br:$D.bind(null,r),vi:KD.bind(null,r),Mr:VD.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zD(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=FN();if(!PN.C(t))throw new DS(OS.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ZP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new PN(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(nR),iR=function(){function e(){Ct(this,e)}return Pt(e,[{key:"initialize",value:function(){var e=dt(ft().mark((function e(t,n){var r=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return vD(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=DD.bind(null,this.syncEngine),e.next=12,PO(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new jO}},{key:"createDatastore",value:function(e){var t,n=UN(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new MN(t));return function(e,t,n,r){return new WN(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return vD(o.syncEngine,e,0)},a=DN.C()?new DN:new ON,new GN(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new iD(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=NS(t),_S("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,YN(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function aR(e,t,n){if(!n)throw new DS(OS.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function oR(e,t,n,r){if(!0===t&&!0===r)throw new DS(OS.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function uR(e){if(!e_.isDocumentKey(e))throw new DS(OS.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function sR(e){if(e_.isDocumentKey(e))throw new DS(OS.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function cR(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":AS()}function lR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new DS(OS.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cR(e);throw new DS(OS.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function fR(e,t){if(t<=0)throw new DS(OS.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var hR=new Map,dR=function(){function e(t){var n;if(Ct(this,e),void 0===t.host){if(void 0!==t.ssl)throw new DS(OS.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new DS(OS.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,oR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Pt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),pR=function(){function e(t,n,r,i){Ct(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dR({}),this._settingsFrozen=!1}return Pt(e,[{key:"app",get:function(){if(!this._app)throw new DS(OS.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new DS(OS.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dR(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new MS;switch(e.type){case"gapi":var t=e.client;return new jS(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new DS(OS.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=hR.get(e);t&&(_S("ComponentProvider","Removing Datastore"),hR.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function vR(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=lR(e,pR))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&TS("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=wS.MOCK_USER;else{o=mf(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new DS(OS.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wS(s)}e._authCredentials=new FS(new LS(o,u))}}var yR=function(){function e(t,n,r){Ct(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Pt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new gR(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),mR=function(){function e(t,n,r){Ct(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Pt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),gR=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this,e,r,WI(i)))._path=i,a.type="collection",a}return Pt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new yR(this.firestore,null,new e_(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(mR);function kR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nf(e),aR("collection","path",t),e instanceof pR){var a=XS.fromString.apply(XS,[t].concat(r));return sR(a),new gR(e,null,a)}if(!(e instanceof yR||e instanceof gR))throw new DS(OS.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(XS.fromString.apply(XS,[t].concat(r)));return sR(o),new gR(e.firestore,null,o)}function bR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nf(e),1===arguments.length&&(t=WS.R()),aR("doc","path",t),e instanceof pR){var a=XS.fromString.apply(XS,[t].concat(r));return uR(a),new yR(e,null,new e_(a))}if(!(e instanceof yR||e instanceof gR))throw new DS(OS.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(XS.fromString.apply(XS,[t].concat(r)));return uR(o),new yR(e.firestore,e instanceof gR?e.converter:null,new e_(o))}function wR(e,t){return e=Nf(e),t=Nf(t),(e instanceof yR||e instanceof gR)&&(t instanceof yR||t instanceof gR)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function xR(e,t){return e=Nf(e),t=Nf(t),e instanceof mR&&t instanceof mR&&e.firestore===t.firestore&&JI(e._query,t._query)&&e.converter===t.converter}function ER(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return dt(ft().mark((function r(){var i;return ft().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var SR=function(){function e(t){Ct(this,e),this.observer=t,this.muted=!1}return Pt(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):IS("Uncaught Error in snapshot listener:",e)}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),_R=function(){function e(t,n){var r=this;Ct(this,e),this.Pc=t,this.It=n,this.metadata=new RS,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Pt(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=dt(ft().mark((function e(){var t,n,r,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new YO(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=dt(ft().mark((function e(){var t,n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=dt(ft().mark((function e(){var t,n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),IR=function(){function e(t){Ct(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Pt(e,[{key:"lookup",value:function(){var e=dt(ft().mark((function e(t){var n,r=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new DS(OS.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=dt(ft().mark((function e(t,n){var r,i,a,o,u,s;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NS(t),i=SC(r.It)+"/documents",a={documents:n.map((function(e){return bC(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=CC(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());PS(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new FT(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=dt(ft().mark((function e(){var t,n=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=e_.fromPath(t);n.mutations.push(new VT(r,n.precondition(r)))})),e.next=7,function(){var e=dt(ft().mark((function e(t,n){var r,i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NS(t),i=SC(r.It)+"/documents",a={writes:n.map((function(e){return AC(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw AS();t=YS.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new DS(OS.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(YS.min())?xT.exists(!1):xT.updateTime(t):xT.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(YS.min()))throw new DS(OS.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xT.updateTime(t)}return xT.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),TR=function(){function e(t,n,r,i,a){Ct(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.No=new jN(this.asyncQueue,"transaction_retry")}return Pt(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.No.Ro(dt(ft().mark((function t(){var n,r;return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new IR(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!K_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!jT(t)}return!1}}]),e}(),CR=function(){function e(t,n,r,i){var a=this;Ct(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wS.UNAUTHENTICATED,this.clientId=WS.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _S("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return _S("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Pt(e,[{key:"getConfiguration",value:function(){var e=dt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new DS(OS.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new RS;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(dt(ft().mark((function n(){var r;return ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=LO(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function AR(e,t){return PR.apply(this,arguments)}function PR(){return PR=dt(ft().mark((function e(t,n){var r,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),_S("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,iN(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),PR.apply(this,arguments)}function NR(e,t){return OR.apply(this,arguments)}function OR(){return OR=dt(ft().mark((function e(t,n){var r,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,DR(t);case 3:return r=e.sent,_S("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return CO(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return CO(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),OR.apply(this,arguments)}function DR(e){return RR.apply(this,arguments)}function RR(){return RR=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return _S("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,AR(t,new tR);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),RR.apply(this,arguments)}function LR(e){return MR.apply(this,arguments)}function MR(){return MR=dt(ft().mark((function e(t){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return _S("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,NR(t,new iR);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),MR.apply(this,arguments)}function FR(e){return DR(e).then((function(e){return e.persistence}))}function VR(e){return DR(e).then((function(e){return e.localStore}))}function UR(e){return LR(e).then((function(e){return e.remoteStore}))}function jR(e){return LR(e).then((function(e){return e.syncEngine}))}function BR(e){return LR(e).then((function(e){return e.datastore}))}function zR(e){return qR.apply(this,arguments)}function qR(){return qR=dt(ft().mark((function e(t){var n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LR(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=aD.bind(null,n.syncEngine),r.onUnlisten=cD.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),qR.apply(this,arguments)}function WR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new RS;return e.asyncQueue.enqueueAndForget(dt(ft().mark((function i(){return ft().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new SR({next:function(a){t.enqueueAndForget((function(){return qO(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new DS(OS.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new DS(OS.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new QO(WI(n.path),a,{includeMetadataChanges:!0,ku:!0});return BO(e,o)},i.next=3,zR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function HR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new RS;return e.asyncQueue.enqueueAndForget(dt(ft().mark((function i(){return ft().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new SR({next:function(n){t.enqueueAndForget((function(){return qO(e,o)})),n.fromCache&&"server"===r.source?i.reject(new DS(OS.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new QO(n,a,{includeMetadataChanges:!0,ku:!0});return BO(e,o)},i.next=3,zR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var GR=function(){function e(){var t=this;Ct(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new jN(this,"async_queue_retry"),this.Wc=function(){var e=VN();e&&_S("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=VN();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return Pt(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=VN();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new RS;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=dt(ft().mark((function e(){var t=this;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),k_(e.t0)){e.next=12;break}throw e.t0;case 12:_S("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.No.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw IS("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=RO.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&AS()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=dt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Ir(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ir(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function KR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ir(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var QR=function(){function e(){Ct(this,e),this._progressObserver={},this._taskCompletionResolver=new RS,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Pt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),YR=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i,a){var o;return Ct(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new GR,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Pt(n,[{key:"_terminate",value:function(){return this._firestoreClient||XR(this),this._firestoreClient.terminate()}}]),n}(pR);function $R(e){return e._firestoreClient||XR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function XR(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new H_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new CR(e._authCredentials,e._appCheckCredentials,e._queue,r)}function JR(e,t,n){var r=new RS;return e.asyncQueue.enqueue(dt(ft().mark((function i(){var a;return ft().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,AR(e,n);case 3:return i.next=5,NR(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===OS.FAILED_PRECONDITION||e.code===OS.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:TS("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function ZR(e){return function(e){return e.asyncQueue.enqueue(dt(ft().mark((function t(){var n,r;return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,FR(e);case 2:return n=t.sent,t.next=5,UR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=NS(e);return t.wu.delete(0),KN(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}($R(e=lR(e,YR)))}function eL(e){return function(e){return e.asyncQueue.enqueue(dt(ft().mark((function t(){var n,r;return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,FR(e);case 2:return n=t.sent,t.next=5,UR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=NS(t)).wu.add(0),e.next=4,YN(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}($R(e=lR(e,YR)))}function tL(e,t){var n=$R(e=lR(e,YR)),r=new QR;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new _R(e,t)}(function(e,t){if(e instanceof Uint8Array)return ER(e,t);if(e instanceof ArrayBuffer)return ER(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,UN(t));e.asyncQueue.enqueueAndForget(dt(ft().mark((function t(){return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=eR,t.next=3,jR(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function nL(e,t){return function(e,t){return e.asyncQueue.enqueue(dt(ft().mark((function n(){return ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=NS(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,VR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}($R(e=lR(e,YR)),t).then((function(t){return t?new mR(e,null,t.query):null}))}function rL(e){if(e._initialized||e._terminated)throw new DS(OS.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var iL=function(){function e(t){Ct(this,e),this._byteString=t}return Pt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(F_.fromBase64String(t))}catch(t){throw new DS(OS.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(F_.fromUint8Array(t))}}]),e}(),aL=function(){function e(){Ct(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new DS(OS.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ZS(n)}return Pt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var oL=Pt((function e(t){Ct(this,e),this._methodName=t})),uL=function(){function e(t,n){if(Ct(this,e),!isFinite(t)||t<-90||t>90)throw new DS(OS.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new DS(OS.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Pt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return HS(this._lat,e._lat)||HS(this._long,e._long)}}]),e}(),sL=/^__.*__$/,cL=function(){function e(t,n,r){Ct(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Pt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new NT(e,this.data,this.fieldMask,t,this.fieldTransforms):new PT(e,this.data,t,this.fieldTransforms)}}]),e}(),lL=function(){function e(t,n,r){Ct(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Pt(e,[{key:"toMutation",value:function(e,t){return new NT(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function fL(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw AS()}}var hL=function(){function e(t,n,r,i,a,o){Ct(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Pt(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return OL(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(fL(this.sa)&&sL.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),dL=function(){function e(t,n,r){Ct(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||UN(t)}return Pt(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new hL({sa:e,methodName:t,fa:n,path:ZS.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function pL(e){var t=e._freezeSettings(),n=UN(e._databaseId);return new dL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vL(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);CL("Data must be an object, but it was:",o,r);var u,s,c=IL(r,o);if(a.merge)u=new M_(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ir(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=AL(t,d,n);if(!o.contains(p))throw new DS(OS.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));DL(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new M_(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new cL(new mI(c),u,s)}var yL=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return Pt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(oL);function mL(e,t,n){return new hL({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var gL=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return Pt(n,[{key:"_toFieldTransform",value:function(e){return new bT(e.path,new hT)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(oL),kL=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e))._a=r,i}return Pt(n,[{key:"_toFieldTransform",value:function(e){var t=mL(this,e,!0),n=this._a.map((function(e){return _L(e,t)})),r=new dT(n);return new bT(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(oL),bL=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e))._a=r,i}return Pt(n,[{key:"_toFieldTransform",value:function(e){var t=mL(this,e,!0),n=this._a.map((function(e){return _L(e,t)})),r=new vT(n);return new bT(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(oL),wL=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e)).wa=r,i}return Pt(n,[{key:"_toFieldTransform",value:function(e){var t=new mT(e.It,uT(e.It,this.wa));return new bT(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(oL);function xL(e,t,n,r){var i=e.da(1,t,n);CL("Data must be an object, but it was:",i,r);var a=[],o=mI.empty();C_(r,(function(e,r){var u=NL(t,e,n);r=Nf(r);var s=i.ca(u);if(r instanceof yL)a.push(u);else{var c=_L(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new M_(a);return new lL(o,u,i.fieldTransforms)}function EL(e,t,n,r,i,a){var o=e.da(1,t,n),u=[AL(t,r,n)],s=[i];if(a.length%2!=0)throw new DS(OS.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(AL(t,a[c])),s.push(a[c+1]);for(var l=[],f=mI.empty(),h=u.length-1;h>=0;--h)if(!DL(l,u[h])){var d=u[h],p=s[h];p=Nf(p);var v=o.ca(d);if(p instanceof yL)l.push(d);else{var y=_L(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new M_(l);return new lL(f,m,o.fieldTransforms)}function SL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _L(n,e.da(r?4:3,t))}function _L(e,t){if(TL(e=Nf(e)))return CL("Unsupported field value:",t,e),IL(e,t);if(e instanceof oL)return function(e,t){if(!fL(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ir(e);try{for(a.s();!(n=a.n()).done;){var o=_L(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Nf(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return uT(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=QS.fromDate(e);return{timestampValue:pC(t.It,n)}}if(e instanceof QS){var r=new QS(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:pC(t.It,r)}}if(e instanceof uL)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof iL)return{bytesValue:vC(t.It,e._byteString)};if(e instanceof yR){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:gC(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(cR(e)))}(e,t)}function IL(e,t){var n={};return A_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):C_(e,(function(e,r){var i=_L(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function TL(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof QS||e instanceof uL||e instanceof iL||e instanceof yR||e instanceof oL)}function CL(e,t,n){if(!TL(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=cR(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function AL(e,t,n){if((t=Nf(t))instanceof aL)return t._internalPath;if("string"==typeof t)return NL(e,t);throw OL("Field path arguments must be of type string or ",e,!1,void 0,n)}var PL=new RegExp("[~\\*/\\[\\]]");function NL(e,t,n){if(t.search(PL)>=0)throw OL("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Vt(aL,Tt(t.split(".")))._internalPath}catch(L){throw OL("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function OL(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new DS(OS.INVALID_ARGUMENT,u+e+s)}function DL(e,t){return e.some((function(e){return e.isEqual(t)}))}var RL=function(){function e(t,n,r,i,a){Ct(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Pt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new yR(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new LL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(ML("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),LL=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return Pt(n,[{key:"data",value:function(){return id(Dt(n.prototype),"data",this).call(this)}}]),n}(RL);function ML(e,t){return"string"==typeof t?NL(e,t):t instanceof aL?t._internalPath:t._delegate._internalPath}function FL(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new DS(OS.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var VL=Pt((function e(){Ct(this,e)}));function UL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var jL=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return Pt(n,[{key:"_apply",value:function(e){var t=pL(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new DS(OS.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){XL(o,a);var s,c=[],l=Ir(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push($L(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=$L(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||XL(o,a),u=SL(n,"where",o,"in"===a||"not-in"===a);var h=CI.create(i,a,u);return function(e,t){if(t.dt()){var n=KI(e);if(null!==n&&!n.isEqual(t.field))throw new DS(OS.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=GI(e);null!==r&&JL(e,t.field,r)}var i=function(e,t){var n,r=Ir(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new DS(OS.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new DS(OS.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new mR(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new zI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(VL);var BL=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return Pt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new DS(OS.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new DS(OS.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new VI(t,n);return function(e,t){if(null===GI(e)){var n=KI(e);null!==n&&JL(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new mR(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new zI(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(VL);var zL=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return Pt(n,[{key:"_apply",value:function(e){return new mR(e.firestore,e.converter,XI(e._query,this.Ia,this.Ta))}}]),n}(VL);var qL=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return Pt(n,[{key:"_apply",value:function(e){var t=YL(e,this.type,this.Ea,this.Aa);return new mR(e.firestore,e.converter,function(e,t){return new zI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(VL);function WL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qL("startAt",t,!0)}function HL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qL("startAfter",t,!1)}var GL=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return Pt(n,[{key:"_apply",value:function(e){var t=YL(e,this.type,this.Ea,this.Aa);return new mR(e.firestore,e.converter,function(e,t){return new zI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(VL);function KL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GL("endBefore",t,!1)}function QL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GL("endAt",t,!0)}function YL(e,t,n,r){if(n[0]=Nf(n[0]),n[0]instanceof RL)return function(e,t,n,r,i){if(!r)throw new DS(OS.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Ir(YI(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(aI(t,r.key));else{var c=r.data.field(s.field);if(z_(c))throw new DS(OS.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new DS(OS.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new FI(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=pL(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new DS(OS.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new DS(OS.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!QI(e)&&-1!==c.indexOf("/"))throw new DS(OS.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(XS.fromString(c));if(!e_.isDocumentKey(l))throw new DS(OS.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new e_(l);u.push(aI(t,f))}else{var h=SL(n,r,c);u.push(h)}}return new FI(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function $L(e,t,n){if("string"==typeof(n=Nf(n))){if(""===n)throw new DS(OS.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QI(t)&&-1!==n.indexOf("/"))throw new DS(OS.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(XS.fromString(n));if(!e_.isDocumentKey(r))throw new DS(OS.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return aI(e,new e_(r))}if(n instanceof yR)return aI(e,n._key);throw new DS(OS.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(cR(n),"."))}function XL(e,t){if(!Array.isArray(e)||0===e.length)throw new DS(OS.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new DS(OS.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function JL(e,t,n){if(!n.isEqual(t))throw new DS(OS.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ZL=function(){function e(){Ct(this,e)}return Pt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(J_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return j_(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(B_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw AS()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return C_(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new uL(j_(e.latitude),j_(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=q_(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(W_(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=U_(e);return new QS(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=XS.fromString(e);PS(zC(n));var r=new G_(n.get(1),n.get(3)),i=new e_(n.popFirst(5));return r.isEqual(t)||IS("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function eM(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var tM=function(e){Ot(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this)).firestore=e,r}return Pt(n,[{key:"convertBytes",value:function(e){return new iL(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yR(this.firestore,null,t)}}]),n}(ZL),nM=function(){function e(t,n){Ct(this,e),this.hasPendingWrites=t,this.fromCache=n}return Pt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),rM=function(e){Ot(n,e);var t=Ft(n);function n(e,r,i,a,o,u){var s;return Ct(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Pt(n,[{key:"exists",value:function(){return id(Dt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new iM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(ML("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(RL),iM=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return Pt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return id(Dt(n.prototype),"data",this).call(this,e)}}]),n}(rM),aM=function(){function e(t,n,r,i){Ct(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new nM(i.hasPendingWrites,i.fromCache),this.query=r}return Pt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new iM(n._firestore,n._userDataWriter,r.key,r,new nM(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new DS(OS.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new iM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new iM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:oM(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function oM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return AS()}}function uM(e,t){return e instanceof rM&&t instanceof rM?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof aM&&t instanceof aM&&e._firestore===t._firestore&&xR(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var sM=function(e){Ot(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this)).firestore=e,r}return Pt(n,[{key:"convertBytes",value:function(e){return new iL(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yR(this.firestore,null,t)}}]),n}(ZL);function cM(e){e=lR(e,yR);var t=lR(e.firestore,YR),n=$R(t),r=new sM(t);return function(e,t){var n=new RS;return e.asyncQueue.enqueueAndForget(dt(ft().mark((function r(){return ft().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=dt(ft().mark((function e(t,n,r){var i,a;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=NS(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new DS(OS.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=LO(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,VR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new rM(t,r,e._key,n,new nM(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function lM(e){e=lR(e,mR);var t=lR(e.firestore,YR),n=$R(t),r=new sM(t);return function(e,t){var n=new RS;return e.asyncQueue.enqueueAndForget(dt(ft().mark((function r(){return ft().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=dt(ft().mark((function e(t,n,r){var i,a,o,u,s;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pN(t,n,!0);case 3:i=e.sent,a=new tD(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=LO(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,VR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new aM(t,r,e,n)}))}function fM(e,t,n){e=lR(e,yR);var r=lR(e.firestore,YR),i=eM(e.converter,t,n);return vM(r,[vL(pL(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,xT.none())])}function hM(e,t,n){e=lR(e,yR);for(var r=lR(e.firestore,YR),i=pL(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return vM(r,[("string"==typeof(t=Nf(t))||t instanceof aL?EL(i,"updateDoc",e._key,t,n,o):xL(i,"updateDoc",e._key,t)).toMutation(e._key,xT.exists(!0))])}function dM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Nf(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||KR(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(KR(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof yR)l=lR(e.firestore,YR),f=WI(e._key.path),c={next:function(t){n[s]&&n[s](yM(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=lR(e,mR);l=lR(p.firestore,YR),f=p._query;var v=new sM(l);c={next:function(e){n[s]&&n[s](new aM(l,v,p,e))},error:n[s+1],complete:n[s+2]},FL(e._query)}return function(e,t,n,r){var i=new SR(r),a=new QO(t,i,n);return e.asyncQueue.enqueueAndForget(dt(ft().mark((function t(){return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=BO,t.next=3,zR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(dt(ft().mark((function t(){return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=qO,t.next=3,zR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}($R(l),f,h,c)}function pM(e,t){return function(e,t){var n=new SR(t);return e.asyncQueue.enqueueAndForget(dt(ft().mark((function t(){return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){NS(e).bu.add(t),t.next()},t.next=3,zR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(dt(ft().mark((function t(){return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){NS(e).bu.delete(t)},t.next=3,zR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}($R(e=lR(e,YR)),KR(t)?t:{next:t})}function vM(e,t){return function(e,t){var n=new RS;return e.asyncQueue.enqueueAndForget(dt(ft().mark((function r(){return ft().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=fD,r.next=3,jR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}($R(e),t)}function yM(e,t,n){var r=n.docs.get(t._key),i=new sM(e);return new rM(e,i,t._key,r,new nM(n.hasPendingWrites,n.fromCache),t.converter)}var mM={maxAttempts:5},gM=function(){function e(t,n){Ct(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pL(t)}return Pt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=kM(e,this._firestore),i=eM(r.converter,t,n),a=vL(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,xT.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=kM(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Nf(t))||t instanceof aL?EL(this._dataReader,"WriteBatch.update",i._key,t,n,o):xL(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,xT.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=kM(e,this._firestore);return this._mutations=this._mutations.concat(new FT(t._key,xT.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new DS(OS.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function kM(e,t){if((e=Nf(e)).firestore!==t)throw new DS(OS.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var bM=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e,r))._firestore=e,i}return Pt(n,[{key:"get",value:function(e){var t=this,r=kM(e,this._firestore),i=new sM(this._firestore);return id(Dt(n.prototype),"get",this).call(this,e).then((function(e){return new rM(t._firestore,i,r._key,e._document,new nM(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ct(this,e),this._firestore=t,this._transaction=n,this._dataReader=pL(t)}return Pt(e,[{key:"get",value:function(e){var t=this,n=kM(e,this._firestore),r=new tM(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return AS();var i=e[0];if(i.isFoundDocument())return new RL(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new RL(t._firestore,r,n._key,null,n.converter);throw AS()}))}},{key:"set",value:function(e,t,n){var r=kM(e,this._firestore),i=eM(r.converter,t,n),a=vL(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=kM(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Nf(t))||t instanceof aL?EL(this._dataReader,"Transaction.update",i._key,t,n,o):xL(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=kM(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function wM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kL("arrayUnion",t)}function xM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bL("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){xS=e}(_h),gh(new Of("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new YR(new VS(e.getProvider("auth-internal")),new zS(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new DS(OS.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new G_(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Nh(bS,"3.7.0",e),Nh(bS,"3.7.0","esm2017")}();function EM(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new DS("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function SM(){if("undefined"===typeof Uint8Array)throw new DS("unimplemented","Uint8Arrays are not available in this environment.")}function _M(){if("undefined"==typeof atob)throw new DS("unimplemented","Blobs are unavailable in Firestore in this environment.")}var IM=function(){function e(t){Ct(this,e),this._delegate=t}return Pt(e,[{key:"toBase64",value:function(){return _M(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return SM(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return _M(),new e(iL.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return SM(),new e(iL.fromUint8Array(t))}}]),e}();function TM(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ir(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var CM=function(){function e(){Ct(this,e)}return Pt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){rL(e=lR(e,YR));var n=$R(e),r=e._freezeSettings(),i=new iR;return JR(n,i,new nR(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){rL(e=lR(e,YR));var t=$R(e),n=e._freezeSettings(),r=new iR;return JR(t,r,new rR(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new DS(OS.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new RS;return e._queue.enqueueAndForgetEvenWhileRestricted(dt(ft().mark((function n(){return ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=dt(ft().mark((function e(t){var n;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y_.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,y_.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ZP(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),AM=function(){function e(t,n,r){var i=this;Ct(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof G_||(this._appCompat=t)}return Pt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||TS("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};vR(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return ZR(this._delegate)}},{key:"disableNetwork",value:function(){return eL(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&oR("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new RS;return e.asyncQueue.enqueueAndForget(dt(ft().mark((function n(){return ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=xD,n.next=3,jR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}($R(e=lR(e,YR)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return pM(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new DS("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new qM(this,kR(this._delegate,e))}catch(t){throw LM(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new RM(this,bR(this._delegate,e))}catch(t){throw LM(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new jM(this,function(e,t){if(e=lR(e,pR),aR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new DS(OS.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new mR(e,null,function(e){return new zI(XS.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw LM(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=lR(e,YR);var r=Object.assign(Object.assign({},mM),n);return function(e){if(e.maxAttempts<1)throw new DS(OS.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new RS;return e.asyncQueue.enqueueAndForget(dt(ft().mark((function i(){var a;return ft().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,BR(e);case 2:a=i.sent,new TR(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}($R(e),(function(n){return t(new bM(e,n))}),r)}(this._delegate,(function(n){return e(new NM(t,n))}))}},{key:"batch",value:function(){var e=this;return $R(this._delegate),new OM(new gM(this._delegate,(function(t){return vM(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return tL(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return nL(this._delegate,e).then((function(e){return e?new jM(t,e):null}))}}]),e}(),PM=function(e){Ot(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this)).firestore=e,r}return Pt(n,[{key:"convertBytes",value:function(e){return new IM(new iL(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return RM.forKey(t,this.firestore,null)}}]),n}(ZL);var NM=function(){function e(t,n){Ct(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new PM(t)}return Pt(e,[{key:"get",value:function(e){var t=this,n=WM(e);return this._delegate.get(n).then((function(e){return new VM(t._firestore,new rM(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=WM(e);return n?(EM("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=WM(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=WM(e);return this._delegate.delete(t),this}}]),e}(),OM=function(){function e(t){Ct(this,e),this._delegate=t}return Pt(e,[{key:"set",value:function(e,t,n){var r=WM(e);return n?(EM("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=WM(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=WM(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),DM=function(){function e(t,n,r){Ct(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Pt(e,[{key:"fromFirestore",value:function(e,t){var n=new iM(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new UM(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new PM(t),n),i.set(n,a)),a}}]),e}();DM.INSTANCES=new WeakMap;var RM=function(){function e(t,n){Ct(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new PM(t)}return Pt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new qM(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new qM(this.firestore,kR(this._delegate,e))}catch(t){throw LM(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Nf(e))instanceof yR&&wR(this._delegate,e)}},{key:"set",value:function(e,t){t=EM("DocumentReference.set",t);try{return t?fM(this._delegate,e,t):fM(this._delegate,e)}catch(n){throw LM(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?hM(this._delegate,e):hM.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw LM(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return vM(lR(e.firestore,YR),[new FT(e._key,xT.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=MM(n),a=FM(n,(function(t){return new VM(e.firestore,new rM(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return dM(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?cM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=lR(e,yR);var t=lR(e.firestore,YR);return WR($R(t),e._key,{source:"server"}).then((function(n){return yM(t,e,n)}))}(this._delegate):function(e){e=lR(e,yR);var t=lR(e.firestore,YR);return WR($R(t),e._key).then((function(n){return yM(t,e,n)}))}(this._delegate),t.then((function(e){return new VM(n.firestore,new rM(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(DM.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new DS("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new yR(n._delegate,r,new e_(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new yR(n._delegate,r,t))}}]),e}();function LM(e,t,n){return e.message=e.message.replace(t,n),e}function MM(e){var t,n=Ir(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!TM(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function FM(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=TM(e[0])?e[0]:TM(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var VM=function(){function e(t,n){Ct(this,e),this._firestore=t,this._delegate=n}return Pt(e,[{key:"ref",get:function(){return new RM(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return uM(this._delegate,e._delegate)}}]),e}(),UM=function(e){Ot(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return Pt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||AS()}(void 0!==t),t}}]),n}(VM),jM=function(){function e(t,n){Ct(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new PM(t)}return Pt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,UL(this._delegate,function(e,t,n){var r=t,i=ML("where",e);return new jL(i,r,n)}(t,n,r)))}catch(i){throw LM(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,UL(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ML("orderBy",e);return new BL(n,t)}(t,n)))}catch(r){throw LM(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,UL(this._delegate,function(e){return fR("limit",e),new zL("limit",e,"F")}(t)))}catch(n){throw LM(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,UL(this._delegate,function(e){return fR("limitToLast",e),new zL("limitToLast",e,"L")}(t)))}catch(n){throw LM(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,UL(this._delegate,WL.apply(void 0,arguments)))}catch(t){throw LM(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,UL(this._delegate,HL.apply(void 0,arguments)))}catch(t){throw LM(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,UL(this._delegate,KL.apply(void 0,arguments)))}catch(t){throw LM(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,UL(this._delegate,QL.apply(void 0,arguments)))}catch(t){throw LM(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return xR(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?lM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=lR(e,mR);var t=lR(e.firestore,YR),n=$R(t),r=new sM(t);return HR(n,e._query,{source:"server"}).then((function(n){return new aM(t,r,e,n)}))}(this._delegate):function(e){e=lR(e,mR);var t=lR(e.firestore,YR),n=$R(t),r=new sM(t);return FL(e._query),HR(n,e._query).then((function(n){return new aM(t,r,e,n)}))}(this._delegate),t.then((function(e){return new zM(n.firestore,new aM(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=MM(n),a=FM(n,(function(t){return new zM(e.firestore,new aM(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return dM(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(DM.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),BM=function(){function e(t,n){Ct(this,e),this._firestore=t,this._delegate=n}return Pt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new UM(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),zM=function(){function e(t,n){Ct(this,e),this._firestore=t,this._delegate=n}return Pt(e,[{key:"query",get:function(){return new jM(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new UM(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new BM(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new UM(n._firestore,r))}))}},{key:"isEqual",value:function(e){return uM(this._delegate,e._delegate)}}]),e}(),qM=function(e){Ot(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Pt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new RM(this.firestore,e):null}},{key:"doc",value:function(e){try{return new RM(this.firestore,void 0===e?bR(this._delegate):bR(this._delegate,e))}catch(t){throw LM(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=lR(e.firestore,YR),r=bR(e),i=eM(e.converter,t);return vM(n,[vL(pL(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,xT.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new RM(t.firestore,e)}))}},{key:"isEqual",value:function(e){return wR(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(DM.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(jM);function WM(e){return lR(e,yR)}var HM=function(){function e(){Ct(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Vt(aL,n)}return Pt(e,[{key:"isEqual",value:function(e){return(e=Nf(e))instanceof aL&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ZS.keyField().canonicalString())}}]),e}(),GM=function(){function e(t){Ct(this,e),this._delegate=t}return Pt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new gL("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new yL("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=wM.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=xM.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new wL("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),KM={Firestore:AM,GeoPoint:uL,Timestamp:QS,Blob:IM,Transaction:NM,WriteBatch:OM,DocumentReference:RM,DocumentSnapshot:VM,Query:jM,QueryDocumentSnapshot:UM,QuerySnapshot:zM,CollectionReference:qM,FieldPath:HM,FieldValue:GM,setLogLevel:function(e){!function(e){ES.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Of("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},KM)))}(e,(function(e,t){return new AM(e,t,new CM)})),e.registerVersion("@firebase/firestore-compat","0.2.0")}(td);td.initializeApp({apiKey:"AIzaSyAC20inw5YS34NSC_AxeoRLQz0CzVCfNL8",authDomain:"netflix-clone-658c0.firebaseapp.com",projectId:"netflix-clone-658c0",storageBucket:"netflix-clone-658c0.appspot.com",messagingSenderId:"279479507703",appId:"1:279479507703:web:56451fe0b5f56d0fb791f2"}).firestore();var QM=td.auth();var YM=function(){var e=(0,t.useRef)(null),n=(0,t.useRef)(null),r=(0,t.useRef)(null),i=(0,t.useRef)(null);return(0,Et.jsx)(Et.Fragment,{children:(0,Et.jsxs)("div",{className:"screenBoxes",children:[(0,Et.jsx)("div",{className:"signUpScreen",children:(0,Et.jsxs)("form",{children:[(0,Et.jsx)("h1",{children:"Sign in"}),(0,Et.jsx)("input",{ref:e,type:"email",placeholder:"Email"}),(0,Et.jsx)("input",{ref:n,type:"password",placeholder:"password"}),(0,Et.jsx)(Ll.button,{whileHover:{scale:1.1,transition:{duration:.4}},whileTap:{scale:.9},type:"submit",onClick:function(t){t.preventDefault(),QM.signInWithEmailAndPassword(e.current.value,n.current.value).then((function(e){console.log(e)})).catch((function(e){alert(e.message)}))},children:"Sign In"})]})}),(0,Et.jsx)("div",{className:"createUser__screen",children:(0,Et.jsxs)("form",{children:[(0,Et.jsx)("h1",{children:"Create an account"}),(0,Et.jsx)("input",{ref:r,type:"email",placeholder:"Email"}),(0,Et.jsx)("input",{ref:i,type:"password",placeholder:"password"}),(0,Et.jsx)(Ll.button,{whileHover:{scale:1.1,transition:{duration:.4}},whileTap:{scale:.9},type:"submit",onClick:function(e){e.preventDefault(),QM.createUserWithEmailAndPassword(r.current.value,i.current.value).then((function(e){console.log(e)})).catch((function(e){alert(e.message)}))},children:"Create new account and login"}),(0,Et.jsxs)("h4",{children:[(0,Et.jsx)("span",{className:"signUpScreen__gray",children:"New to netflix?"}),(0,Et.jsx)(Ll.span,{whileHover:{scale:1.4,transition:{duration:.4}},whileTap:{scale:.9},className:"signUpScreen__link",children:"Sign up now"})]})]})})]})})};var $M=function(){var e=gt((0,t.useState)(!1),2),n=e[0],r=e[1];return(0,Et.jsxs)("div",{className:"twoBoxes",children:[(0,Et.jsx)("div",{className:"loginScreen",children:(0,Et.jsxs)("div",{className:"loginScreen__background",children:[(0,Et.jsx)("img",{className:"loginScreen__logo",src:"https://assets.stickpng.com/images/580b57fcd9996e24bc43c529.png",alt:""}),(0,Et.jsx)(Ll.button,{whileHover:{scale:1.1,transition:{duration:.4}},whileTap:{scale:.9},onClick:function(){return r(!0)},className:"loginScreen__button",children:"Sign in"}),(0,Et.jsx)("div",{className:"loginScreen__gradient"}),(0,Et.jsx)("div",{className:"loginScreen__body",children:n?(0,Et.jsx)(YM,{}):(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("h1",{children:"Unlimited films,Tv programmes and more "}),(0,Et.jsx)("h2",{children:"Watch anywhere. Cancel at any time "}),(0,Et.jsx)("h3",{children:"Ready to watch? Enter your email to create or restart your membership"}),(0,Et.jsx)("div",{className:"loginScreen__input",children:(0,Et.jsxs)("form",{children:[(0,Et.jsx)("input",{type:"text",placeholder:"Email address"}),(0,Et.jsx)(Ll.button,{whileHover:{scale:1.1,transition:{duration:.4}},whileTap:{scale:.9},onClick:function(){return r(!0)},className:"loginScreen__getStarted",children:"Get started"})]})})]})})]})}),(0,Et.jsx)("div",{className:n?"container":null})]})},XM=new Date,JM=new Date(XM);JM.setDate(JM.getDate()+30);var ZM=function(){var e=On(),t=y(st);return(0,Et.jsxs)("div",{className:"profileScreen",children:[(0,Et.jsx)(Ml,{}),(0,Et.jsxs)("div",{className:"profileScreen__body",children:[(0,Et.jsx)("h1",{children:"Edit profile"}),(0,Et.jsxs)("div",{className:"profileScreen__info",children:[(0,Et.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Netflix-avatar.png?20201013161117",alt:"avatar_logo"}),(0,Et.jsxs)("div",{className:"profileScreen__details",children:[(0,Et.jsx)("h2",{children:t.email}),(0,Et.jsxs)("div",{className:"profileScreen__plans",children:[(0,Et.jsx)("h3",{children:"plans (free-plan for next 30 days)"}),(0,Et.jsxs)("h4",{className:"renewal",children:["Renewal date:  ".concat(JM.toLocaleDateString())," "]}),(0,Et.jsx)(Ll.button,{whileHover:{scale:1.1,transition:{duration:.4}},whileTap:{scale:.9},type:"submit",onClick:function(){QM.signOut(),e("/")},className:"profileScreen__signOut",children:"Sign out"}),(0,Et.jsx)(Ll.button,{whileHover:{scale:1.1,transition:{duration:.4}},whileTap:{scale:.9},className:"arrow",onClick:function(){return e("/")},children:"\u2b05\ufe0fExplore Netflix"})]})]})]})]})]})};var eF=function(){var e=y(st),n=_();return(0,t.useEffect)((function(){return QM.onAuthStateChanged((function(e){n(e?ot({uid:e.uid,email:e.email}):ut())}))}),[n]),(0,Et.jsx)("div",{className:"app",children:(0,Et.jsx)(Jl,{children:e?(0,Et.jsxs)(qn,{children:[(0,Et.jsx)(Bn,{path:"/",element:(0,Et.jsx)(Xl,{})}),(0,Et.jsx)(Bn,{path:"/profile",element:(0,Et.jsx)(ZM,{})})]}):(0,Et.jsx)($M,{})})})},tF=document.getElementById("root");(0,i.s)(tF).render((0,Et.jsx)(t.StrictMode,{children:(0,Et.jsx)(b,{store:ct,children:(0,Et.jsx)(eF,{})})}))}()}();
//# sourceMappingURL=main.4223c6dc.js.map